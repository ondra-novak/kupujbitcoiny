{"templates": {"email_text": "To: {{email}}\nSubject: Prihlaseni na stranky autocoin.cz\nFrom: info@autocoin.cz\nContent-Type: text/html;charset=utf-8\n\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n</head>\n<body>\n<strong>V\u00e1\u017een\u00fd u\u017eivateli.</strong>\n\n<p>Tento e-mail v\u00e1m byl zasl\u00e1n, proto\u017ee n\u011bkdo, mo\u017en\u00e1 Vy s\u00e1m, po\u017eadoval registraci\nnebo p\u0159ihl\u00e1\u0161en\u00ed na str\u00e1nce <strong>www.autocoin.cz</strong></p>\n\n<p>Pokud si p\u0159ejete pokra\u010dovat v registraci nebo v p\u0159ihl\u00e1\u0161en\u00ed, klikn\u011bte na n\u00ed\u017ee uveden\u00fd odkaz</p>\n\n<a href=\"http://www.autocoin.cz/#page=login&email={{email_url}}&profile={{profile}}\">http://www.autocoin.cz/#page=login&email={{email}}&profile={{profile}}</a>\n\n\n<p>V p\u0159\u00edpad\u011b, \u017ee si nejste v\u011bdom \u017e\u00e1dn\u00e9 takov\u00e9 \u010dinnost, pak se omlouv\u00e1me,\nzrejm\u011b n\u011bkdo jin\u00fd omylem na str\u00e1nk\u00e1ch zadal v\u00e1\u0161 e-mail. E-mail pros\u00edm sma\u017ete.</p>\n\n</html>\n</body>"}, "couchapp": {"signatures": {"index.html": "bb8d052ec8280b08c409d0f9f0ca674e", "code.js": "786d8f375c5ac5771c4d8d2343abe738", "mystyle.css": "784ff67067f171ea963b76d64c733b50", "pouchdb.authentication.min.js": "e53cd60274f4847346417a84d815705c", "test.html": "d41d8cd98f00b204e9800998ecf8427e", "pouchdb-6.2.0.min.js": "4c6c2f504467848c874fc8a1f578dee8"}, "objects": {"89701067d04f58997845b39d95a0933c": "function (doc, req) {\n \n\t\t\n\t//!json templates.email_text\n\t\n\tvar getProfileID = require('views/lib/profileid').getProfileID;\n\tvar Mustache = require('views/lib/mustache');\n\n\t\n\n\tvar view = {\n\t\t\t  email_url: encodeURIComponent(doc.email),\n\t\t\t  email:  doc.email,\n\t\t\t  profile: getProfileID(doc.email),\t\t\t \n\t\t\t};\n\n//\tvar output=\"xxx\";\n\tvar output = Mustache.render(templates.email_text, view);\n\t\n\treturn {\"headers\":{\"Content-Type\":\"text/plain;charset=utf-8\"},\"body\":output};\n\t\n\t\n}"}, "manifest": ["updates/", "updates/sendmail.js", "updates/profile.js", "views/", "views/lib/", "views/lib/salt.js", "views/lib/base64.js", "views/lib/mustache.js", "views/lib/validateFields.js", "views/lib/profileid.js", "views/lib/sha256.js", "shows/", "shows/email_login.js", "templates/", "templates/email_text.html", "filters/", "filters/emails.js"]}, "updates": {"profile": "function(doc, httpreq){\n\t\n\t\n\tvar getProfileID = require('views/lib/profileid').getProfileID;\n\tvar Validator = require('views/lib/validateFields').FieldValidator;\n\tvar req = JSON.parse(httpreq.body);\n\tvar errors = null;\n\tvar nochange = false;\n\n\tpage = req.page;\t\n\t\t\n\tif (doc == null) {\n\t\t\n\t\tif (page == \"register\") {\n\t\t\t\n\t\t\temail = req.email;\n\t\t\tdocid = getProfileID(email);\n\t\t\tif (docid != httpreq.id) {\n\t\t\t\treturn [null, {code:403,json:{\"error\":\"UserID doesn't match\"}}];\n\t\t\t}\n\t\t\tdoc = {\n\t\t\t\t\t_id: httpreq.id,\n\t\t\t\t\tclass:\"profile\",\n\t\t\t\t\temail: email,\n\t\t\t\t\tstat_id: httpreq.uuid,\n\t\t\t\t\tchkcode: Math.round(Math.random()*1000000)\n\t\t\t};\n\t\t\t\n\t\t} else {\n\t\t\treturn [null, {code:403,body:\"Need register\"}];\n\t\t}\t\t\n\t} else {\n\t\t\n\t\tif (page == \"identity\") {\n\t\t\t\n\t\t\tvar v = new Validator;\n\t\t\t\n\t\t\tdoc[page] = {};\n\t\t\tvar pdata = doc[page];\n\t\t\t\n\t\t\tpdata.jmeno=v.string(req,\"jmeno\");\n\t\t\tpdata.prijmeni=v.string(req,\"prijmeni\");\n\t\t\tpdata.rc=v.rcnumber(req,\"rc\");\n\t\t\tpdata.op=v.string(req,\"op\");\n\t\t\tpdata.adresa=v.string(req,\"adresa\");\n\t\t\tpdata.obec=v.string(req,\"obec\");\n\t\t\tpdata.psc = v.pscnumber(req,\"psc\");\n\t\t\tpdata.telefon = v.phonenumber(req,\"telefon\");\n\t\t\tpdata.politik = v.mandatory(req,\"politik\");\n\t\t\tif (v.hasErrors()) errors = v.errors;\n\t\t}  else {\n\t\t\tnochange = true;\n\t\t}\n\t\t\n\t}\n\t\n\tvar missing =[];\n\tif (!(\"identity\" in doc)) missing.push(\"identity\");\n\tvar attachments;\n\tif (\"_attachments\" in doc) attachments = doc._attachments; else attachments={};\n\tif (!(\"op_front\" in attachments)) missing.push(\"op_front\");\n\tif (!(\"op_back\" in attachments)) missing.push(\"op_back\");\n\tif (!(\"doklad2\" in attachments)) missing.push(\"op_back\");\n\tif (!(\"selfie\" in attachments)) missing.push(\"selfie\");\n\tif (!(\"crypto\" in doc)) missing.push(\"crypto\");\n\t\n\tout = {\n\t\t\tmissing:missing,\n\t\t\terrors:errors,\n\t\t\tpage:page\t\n\t};\n\t\n\tif (errors != null) nochange = true;\n\t\n\tif (nochange) {\n\t\treturn [null, {json:out, code:200}];\n\t} else {\t\n\t\treturn [doc, {json:out, code:202}];\n\t}\t\n}", "sendmail": "function(doc, req) {\n\t\n\t\n\n\tvar data = JSON.parse(req.body);\n\t\n\tif (!data.email) {\n\t\treturn [null, {code:400,body:\"email is mandatory\"}];\n\t}\n\tif (!data.template) {\n\t\treturn [null, {code:400,body:\"template is mandatory\"}];\n\t}\n\t\n\tdata._id = req.uuid;\n\tdata.class = \"email\";\n\t\n\treturn [data, \"\"];\n}"}, "filters": {"emails": "function(doc) {\n\treturn doc.class == \"email\";\t\n}"}, "views": {"lib": {"base64": "// Converts an ArrayBuffer directly to base64, without any intermediate 'convert to string then\n// use window.btoa' step. According to my tests, this appears to be a faster approach:\n// http://jsperf.com/encoding-xhr-image-data/5\n\n/*\nMIT LICENSE\n\nCopyright 2011 Jon Leighton\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nfunction base64ArrayBuffer(arrayBuffer, base64url) {\n  var base64    = ''\n  var encodings = base64url?\n\t\t  'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'\n\t\t :'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n\n  var bytes         = new Uint8Array(arrayBuffer)\n  var byteLength    = bytes.byteLength\n  var byteRemainder = byteLength % 3\n  var mainLength    = byteLength - byteRemainder\n\n  var a, b, c, d\n  var chunk\n\n  // Main loop deals with bytes in chunks of 3\n  for (var i = 0; i < mainLength; i = i + 3) {\n    // Combine the three bytes into a single integer\n    chunk = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2]\n\n    // Use bitmasks to extract 6-bit segments from the triplet\n    a = (chunk & 16515072) >> 18 // 16515072 = (2^6 - 1) << 18\n    b = (chunk & 258048)   >> 12 // 258048   = (2^6 - 1) << 12\n    c = (chunk & 4032)     >>  6 // 4032     = (2^6 - 1) << 6\n    d = chunk & 63               // 63       = 2^6 - 1\n\n    // Convert the raw binary segments to the appropriate ASCII encoding\n    base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d]\n  }\n\n  // Deal with the remaining bytes and padding\n  if (byteRemainder == 1) {\n    chunk = bytes[mainLength]\n\n    a = (chunk & 252) >> 2 // 252 = (2^6 - 1) << 2\n\n    // Set the 4 least significant bits to zero\n    b = (chunk & 3)   << 4 // 3   = 2^2 - 1\n\n    base64 += encodings[a] + encodings[b] + '=='\n  } else if (byteRemainder == 2) {\n    chunk = (bytes[mainLength] << 8) | bytes[mainLength + 1]\n\n    a = (chunk & 64512) >> 10 // 64512 = (2^6 - 1) << 10\n    b = (chunk & 1008)  >>  4 // 1008  = (2^6 - 1) << 4\n\n    // Set the 2 least significant bits to zero\n    c = (chunk & 15)    <<  2 // 15    = 2^4 - 1\n\n    base64 += encodings[a] + encodings[b] + encodings[c] + '='\n  }\n  \n  return base64\n}\n\nexports.base64 = base64ArrayBuffer;", "profileid": "function getProfileID(email) {\n\t\n\tvar sha256 = require('views/lib/sha256').sha256;\n\tvar base64 = require('views/lib/base64').base64;\n\tvar salt = require('views/lib/salt').key;\n\n\tvar hash = sha256.hmac.create(salt);\n\thash.update(email);\n\treturn \"P\"+base64(hash.array(),true).substr(0,43);\n\t\n}\n\nexports.getProfileID = getProfileID;", "sha256": "/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.7.1\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var root = typeof window === 'object' ? window : {};\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = require('crypto');\n    var Buffer = require('buffer').Buffer;\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw ERROR;\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n      blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n      blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n      blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString = typeof message !== 'string';\n    if (notString) {\n      if (message === null || message === undefined) {\n        throw ERROR;\n      } else if (message.constructor === root.ArrayBuffer) {\n        message = new Uint8Array(message);\n      }\n    }\n    var length = message.length;\n    if (notString) {\n      if (typeof length !== 'number' ||\n        !Array.isArray(message) && \n        !(ARRAY_BUFFER && ArrayBuffer.isView(message))) {\n        throw ERROR;\n      }\n    }\n    var code, index = 0, i, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n      blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n      blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n      blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var notString = typeof key !== 'string';\n    if (notString) {\n      if (key === null || key === undefined) {\n        throw ERROR;\n      } else if (key.constructor === root.ArrayBuffer) {\n        key = new Uint8Array(key);\n      }\n    }\n    var length = key.length;\n    if (notString) {\n      if (typeof length !== 'number' ||\n        !Array.isArray(key) && \n        !(ARRAY_BUFFER && ArrayBuffer.isView(key))) {\n        throw ERROR;\n      }\n    } else {\n      var bytes = [], length = key.length, index = 0, code;\n      for (var i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (var i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();", "salt": "exports.key=\"hjiowqmpoqwwreqpoekwqpowjrpwoeqqeqopiPQO\";", "mustache": "/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n\n/*global define: false Mustache: true*/\n\n(function defineMustache (global, factory) {\n  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n    factory(exports); // CommonJS\n  } else if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory); // AMD\n  } else {\n    global.Mustache = {};\n    factory(global.Mustache); // script, wsh, asp\n  }\n}(this, function mustacheFactory (mustache) {\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n          } else {\n            nonSpace = true;\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n')\n            stripSpace();\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      token = [ type, value, start, scanner.pos ];\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          value = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           **/\n          while (value != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = hasProperty(value, names[index]);\n\n            value = value[names[index++]];\n          }\n        } else {\n          value = context.view[name];\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit)\n          break;\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.cache;\n    var tokens = cache[template];\n\n    if (tokens == null)\n      tokens = cache[template + ':' + (tags || mustache.tags).join(':')] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   */\n  Writer.prototype.render = function render (template, view, partials) {\n    var tokens = this.parse(template);\n    var context = (view instanceof Context) ? view : new Context(view);\n    return this.renderTokens(tokens, context, partials, template);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null)\n      return this.renderTokens(this.parse(value), context, partials, value);\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  mustache.name = 'mustache.js';\n  mustache.version = '2.3.0';\n  mustache.tags = [ '{{', '}}' ];\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer.\n   */\n  mustache.render = function render (template, view, partials) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.,\n  /*eslint-disable */ // eslint wants camel cased function name\n  mustache.to_html = function to_html (template, view, partials, send) {\n    /*eslint-enable*/\n\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n}));", "validateFields": "FieldValidator = function() {\n\t\n\tthis.errors = [];\n\t\n};\n\nFieldValidator.prototype.string = function(struct, field) {\n\tthis.mandatory(struct,field);\n\treturn struct[field];\n};\n\nFieldValidator.prototype.number = function(struct, field) {\n\tthis.mandatory(struct,field);\n\treturn struct[field];\n};\n\nFieldValidator.prototype.rcnumber = function(struct, field) {\n\tthis.mandatory(struct,field);\n\treturn struct[field];\n};\nFieldValidator.prototype.opnumber = function(struct, field) {\n\tthis.mandatory(struct,field);\n\treturn struct[field];\n};\nFieldValidator.prototype.pscnumber = function(struct, field) {\n\tthis.mandatory(struct,field);\n\treturn struct[field];\n};\nFieldValidator.prototype.phonenumber = function(struct, field) {\n\tthis.mandatory(struct,field);\n\treturn struct[field];\n};\nFieldValidator.prototype.hasErrors = function() {\n\treturn this.errors.length != 0;\n};\nFieldValidator.prototype.addError = function(code, field, desc) {\n\tthis.errors.push({code:code,field:field,message:desc});\n};\nFieldValidator.prototype.mandatory = function(struct,field) {\n\tif (!struct[field]) {\n\t\tthis.addError(50, field, \"Povinn\u00e1 polo\u017eka\");\n\t}\n\treturn struct[field];\n\t\n};\n\nexports.FieldValidator = FieldValidator;"}}, "_attachments": {"index.html": {"data": "PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KPHRpdGxlPkNvdWNoYmxvZzwvdGl0bGU+CjxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJteXN0eWxlLmNzcyI+CjwvaGVhZD4KPGJvZHkgb25sb2FkPSJzdGFydCgpOyI+CjxzY3JpcHQgc3JjPSJwb3VjaGRiLTYuMi4wLm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9InBvdWNoZGIuYXV0aGVudGljYXRpb24ubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iY29kZS5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KCjxkaXYgY2xhc3M9ImhlYWRlciI+PC9kaXY+Cgo8ZGl2IGNsYXNzPSJib2R5cGFydCI+CjxkaXYgY2xhc3M9ImNvbnRlbnQiPgo8ZGl2IGNsYXNzPSJhcnRpY2xlIiBpZD0iYXJ0VmlldyIgaGlkZGVuPSIxIj4KPGRpdiBjbGFzcz0icGFuZWwiPjxidXR0b24gaWQ9ImJ1dHRHb0VkaXQiPlVwcmF2aXQ8L2J1dHRvbj48YnV0dG9uIGlkPSJidXR0R29OZXciPk5vdsO9PC9idXR0b24+PC9kaXY+CjxkaXYgY2xhc3M9InRpdGxlIj4KPEgyIGlkPSJhcnRUaXRsZSI+JCh0aXRsZSk8L0gyPgo8L2Rpdj4KPGRpdiBjbGFzcz0iYXJ0UHVibGlzaEluZm8iPgo8ZGl2IGlkPSJhcnRBdXRob3IiPiQoYXV0aG9yKTwvZGl2Pgo8ZGl2IGlkPSJhcnREYXRldGltZUNyZWF0ZWQiPiQoZGF0ZXRpbWUpPC9kaXY+CjxkaXYgaWQ9ImFydERhdGV0aW1lVXBkYXRlZCI+JChkYXRldGltZSk8L2Rpdj4KPC9kaXY+CjxkaXYgaWQ9ImFydFRleHQiPiQodGV4dCk8L2Rpdj4KPC9kaXY+Cgo8ZGl2IGNsYXNzPSJhcnRpY2xlZWRpdCIgaWQ9ImFydEVkaXQiPgo8ZGl2IGNsYXNzPSJ0aXRsZSI+Ck5hZHBpczogPGlucHV0IGlkPSJhcnRUaXRsZUVkaXQiIHR5cGU9InRleHQiIHZhbHVlPSIkKHRpdGxlKSI+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJodG1sZWRpdG9yIiBpZD0iYXJ0VGV4dEVkaXQiPjwvZGl2Pgo8ZGl2IGNsYXNzPSJhdHRhY2htZW50cyIgaWQ9ImF0dGFjaG1lbnRzIj4KPGRpdiBpZD0iYXR0Y2hIZWFkIj5QxZnDrWxvaHk8L2Rpdj4KPGRpdiBpZD0iYXR0Y2hQYW5lbCI+Cgk8YnV0dG9uIGNsYXNzPSJzZWxBbGwiPltYXTwvYnV0dG9uPgoJPGJ1dHRvbiBjbGFzcz0iZGVsZXRlIj5TbWF6YXQ8L2J1dHRvbj4KCTxidXR0b24gY2xhc3M9InRodW1iIj5WeXR2b8WZaXQgbsOhaGxlZDwvYnV0dG9uPgoJPGJ1dHRvbiBjbGFzcz0idW50aHVtYiI+U21hemF0IG7DoWhsZWQ8L2J1dHRvbj4KCTxidXR0b24gY2xhc3M9ImFkZEdhbCI+UMWZaWRhdCBkbyBnYWxlcmllPC9idXR0b24+Cgk8YnV0dG9uIGNsYXNzPSJkZWxHYWwiPlZ5am1vdXQgeiBnYWxlcmllPC9idXR0b24+CjwvZGl2Pgo8dGFibGU+Cjx0Ym9keSBpZD0iYXR0Y2hMaXN0Ij4KPC90Ym9keT4KPC90YWJsZT4KPC9kaXY+CjwvZGl2Pgo8L2Rpdj4KPGRpdiBjbGFzcz0ibmF2aWdhdGlvbiI+CiQobmF2aWdhdGlvbikKPC9kaXY+Cgo8L2Rpdj4KPGRpdiBjbGFzcz0ibG9naW5EbGciIGhpZGRlbj0iMSI+CjxkaXYgY2xhc3M9ImxpZ2h0Ym94Ij48L2Rpdj4KPGRpdiBjbGFzcz0iaW5uZXIiPgo8bGFiZWw+VcW+aXZhdGVsc2vDqSBqbcOpbm86IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0ibG9naW5Vc2VyIj48L2xhYmVsPgo8bGFiZWw+SGVzbG86IDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgY2xhc3M9ImxvZ2luUGFzc3dvcmQiPjwvbGFiZWw+CjxidXR0b24gY2xhc3M9ImxvZ2luQWN0aW9uIj5QxZlpaGzDoXNpdCBzZTwvYnV0dG9uPgo8YnV0dG9uIGNsYXNzPSJsb2dpbkNhbmNlbCI+U3Rvcm5vPC9idXR0b24+CjwvZGl2Pgo8L2Rpdj4KPGRpdiBjbGFzcz0iYXR0YWNoRGxnIiBoaWRkZW49IjEiPgo8bGFiZWw+VnliZXJ0ZSBqZWRlbiBpIHbDrWNlIHNvdWJvcsWvOiA8aW5wdXQgdHlwZT0iZmlsZSIgY2xhc3M9ImF0dGFjaEZpbGVzIiBtdWx0aXBsZT48L2xhYmVsPgo8YnV0dG9uIGNsYXNzPSJhdHRhY2hDYW5jZWwiPlN0b3JubzwvYnV0dG9uPgo8L2Rpdj4KPC9ib2R5Pgo8L2h0bWw+", "content_type": "text/html"}, "code.js": {"data": "InVzZSBzdHJpY3QiOwoKd2luZG93LnRoaXNBcHAgPSB7CgkJcmVsYXRpdmVVcmw6Ii4uLy4uLyIsCgkJZGF0YWJhc2VVcmw6bG9jYXRpb24ub3JpZ2luKyIvY291Y2hibG9nIiwKCQlhYnNvbHV0ZVVybDpsb2NhdGlvbi5vcmlnaW4rIi9jb3VjaGJsb2cvIiwKCQl0aHVtYlNpemU6WzEyOSw5Nl0KfTsKCgoKZnVuY3Rpb24gYnlJZChpZCkgewoJcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKfQoKZnVuY3Rpb24gYnlDbGFzcyhlbCwgbmFtZSkgewoJcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoIi4iK25hbWUpOwp9CgoKd2luZG93Lkh0bWxBcmVhID0gZnVuY3Rpb24oZWwpIHsKCQoJdmFyIGh0bWxUZW1wbGF0ZSA9ICI8ZGl2IGNsYXNzPSdwYW5lbCc+PHNwYW4gc3R5bGU9J3doaXRlLXNwYWNlOiBub3dyYXA7Jz4iCgkJKyI8YnV0dG9uIGNsYXNzPSdidG5VbmRvJz48aW1nIHNyYz0nZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRmdBV0FPTUtBRGxqd2xpRTMzbU9ycEdqdVlLbDhhZXp4cVBEKzcvSTE5RFYzTkhhN1AvLy8vLy8vLy8vLy8vLy8vLy8vLy8vL3lINUJBRUtBQThBTEFBQUFBQVdBQllBQUFSUjhNbEpxNzA0NjgwN1RrYVllSkpCbkVTNEVlVUp2SUdhcFdZQUMwQ3NvY1E3U0RsV0prQWtDQTZUb01ZV0lBUkdRRjNtUlFWSUVqa2tTVkxJYlNmRXdoZFJJSDRmaC9EWk1JQ2UzL0M0bkJRQkFEcz0nPjwvYnV0dG9uPiIKCQkrIjxidXR0b24gY2xhc3M9J2J0blJlZG8nPjxpbWcgc3JjPSdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhGZ0FXQU1JSEFCMUNoRGxqd2w5dmoxaUUzNEtsOGFQRCs3L0kxLy8vL3lINUJBRUtBQWNBTEFBQUFBQVdBQllBQUFOS2VMcmMvakRLU2VzeXBoaTdTaUVnc1ZYWkVBVERJQ3FCVkpqcHFXWnQ5TmFFRE5iUUsxd0NRc3hsWW54TUFJbWh5RG9GQUVsSmFzUlJ2QVpWUnFxUVhVeTdDZ3g0VEM2YnN3a0FPdz09Jz48L2J1dHRvbj4iCgkJKyI8L3NwYW4+IDxzcGFuIHN0eWxlPSd3aGl0ZS1zcGFjZTogbm93cmFwOyc+IgoJKyI8YnV0dG9uIGNsYXNzPSdidG5IZWFkMSc+PGltZyBzcmM9J2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBV0NBWUFBQURhZlZ5SUFBQUFWVWxFUVZSSXgyTmdHQVVERFJpaDlIOHFxU0VvOFo4SVRjU29nUU1tV2dmUnFBVUVBUXNldWYrMHRvQ1JHaFlQdVRnSWhmcndQeTB0b0hsTy9vOHNSNHV5NkQreHhRaTVBQ1VPR0dsZ09GR2w3Q2lBQXdEMjNSSEIreXpaVWdBQUFBQkpSVTVFcmtKZ2dnPT0nPjwvYnV0dG9uPiIJCgkrIjxidXR0b24gY2xhc3M9J2J0bkhlYWQyJz48aW1nIHNyYz0nZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCWUFBQUFXQ0FZQUFBREV0R3c3QUFBQVhrbEVRVlE0eTJOZ0dBV2pBQjB3b3ZILzQ1SC9UMEF2UWZBZml5SEV5S0VBSmxvRkJjME1aaUVRSkRReG1KRVN5d1lrS0lnQm9VanMxZFIyOFdxb0JhdndHZndmVDNoaWsxdU55OFhVQUt2UWdvUnFoc0p5NDZyUkVwSytBQURmeUJSZ2lEb1pzZ0FBQUFCSlJVNUVya0pnZ2c9PSc+PC9idXR0b24+IgkKCSsiPGJ1dHRvbiBjbGFzcz0nYnRuUGFyYWdyYXBoJz48aW1nIHNyYz0nZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCWUFBQUFXQ0FZQUFBREV0R3c3QUFBQVowbEVRVlE0eTJOZ0dBVlF3RWlrdWxBb1JnYXIwV2lTd0NvR0JvYi9CSEFvTm8xTUJBekZwbWsxTWE1a0l1QjlCbW9iSEVwcDVESGhjUlZOREtiWWNId0doMUZpT0JNQitUQm9XbDlOYllQSkRoWW1XbVhwVVlPSHNNR2tBUFF5T1pRYVpjcmdBUURtV2hUQ3ZEWXlYUUFBQUFCSlJVNUVya0pnZ2c9PSc+PC9idXR0b24+IgkKCSsiPGJ1dHRvbiBjbGFzcz0nYnRuUHJlZm9ybSc+PGltZyBzcmM9J2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQllBQUFBV0NBWUFBQURFdEd3N0FBQUFiRWxFUVZRNHkyTmdHQVhERG9ReU1ERDhoK0pRQ3RSZ2dGVlFEYXVJVlBlZldJTkpVWXhWTFJPdHdwS3VCb2VTYU1acVlnd09SWXF3MVNSYWdKSTZtTERZdnBxYUxoOU5GVGdOWGsxckZ4TlRWbUIxQ0RNZUYxK0RzcThoc1pIQk5RWUdCbTBvSFRaYWJ1TUVBTVF0SWdXT0g0dFdBQUFBQUVsRlRrU3VRbUNDJz48L2J1dHRvbj4iCgkrIjwvc3Bhbj4gPHNwYW4gc3R5bGU9J3doaXRlLXNwYWNlOiBub3dyYXA7Jz4iCgkrIjxidXR0b24gY2xhc3M9J2J0blJlbW92ZSc+PGltZyBzcmM9J2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQllBQUFBV0NBWUFBQURFdEd3N0FBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFBWmlTMGRFQVA4QS93RC9vTDJua3dBQUFBbHdTRmx6QUFBT3hBQUFEc1FCbFNzT0d3QUFBQWQwU1UxRkI5b0VDUU1DS1BJOENJSUFBQUFJZEVWWWRFTnZiVzFsYm5RQTlzeVd2d0FBQXVoSlJFRlVPTXRqWUJnRnhBQjUwMVpXQnZWYUwybkhubG1rNm1YQ0piRjY5elUrSHovOWZCNU8xbHgrYmc0NXFobDgvZllyNWl0M1hyUC9ZV1RVdnZ2azNWZXFHWHo3MFR2Ykp5OCtXdjM5KzIvSHoxOS9tR3dqWnp1VFlqQUx1b0J2OWpJbWFYSGV5RDNIN2tVOGZQajJJQ01MOHo5MmRsYnRNemRlaUczZmNvN0owOGZvSDFrdXJrbTNFOWl3NTRZdkt3dVR1b20rTFB0L0JnYldmMy8vc2YzNy8xL2MwMmNDRzFsQjhmLy9mOTVEWng3NE1UTXpzaGhvU202c3pyUS9hNklyL1oyUmtmRWpCeHVMWUZwRGlEaTZBZi8vLzJja2FIQnA3Kzd3bWF2UDVuNzYrUDJDbHJMSVlsOEg5VzM2YXVKQ2JDeE00c3pNVEphYzdLemEvLy8vUjNIMXcyY2ZXQWdhZlBicXM1ZzdEOTUrKy9QMUI0K0VDSzh0QXdNRHcvMUg3MTU5Ky83cjdaY3ZQejRmT0hiekV3TUR3eDhHQmdhR25OYXRmSFp4OHpxckorNFZKQmg1Q1FFR095U0V1YS92M243aFhtcUk4V1VHQmdZR0wzdlZHN2Z1UEszaTVHRDkvZmphN1pzTURBek1HL1plNTJtWmVTajR5dTFYRXEvZmY3VzVkdmZWQVMxbHNYYzREYjd6OEMzcjhwN1FqZi8vLzJkblpHeGxxSnV5cjNyUHFRZC9IaHl1N29TcFlXU2N5bERRc2Qza3p2bkg3Mzh3TUR6ajVHQk4xVklXVzRjM0tEb243Vk92bTdTM3BhQjl1NXFzVTUveDVLVW5sWStlZXhRYmtMTnNFcks2MSsrK1ZuQUpjZmt5TVRJd2ZmajBRd1piSkRLamNFVHMxWThldnlkNDh0b3o4eS9mZnp2Ly92UFA0dmVmZnhwWDc3ejZsNUpld0hQdThNcVREQXdNREx6eXJqYi9tWm0wSmNUNUxqKzg5K1libTZ6ejk1b01oN3M0WGJ5Z04zU2x1cTRNajVLOGlLTWdQNGYwLy8vL2Z2NzcvLzhuTHkrN01DY1hteVlEQXdPRFM5ak05dGN2UHlwZDM1cG5lM2xqZGp2ajI2K0gyZGhZcHVFTmlrZ2Z2UWVYTm1TbDN0cWVweFhzcWhYUHljNjY2cytmdjFmTWRLUjNUSzcyenBpeDhuVGM3YmRmaGZrRWVWYkM5S2hiSy85aVlXSGlFcmJ1Nk1XYlkvNy8vOC80Ly85L3BnT25INmpHVmF6dkZEUnRxMlZnaUJJWnJVVElCZ0NrK2l2SHZ1RUt3QUFBQUFCSlJVNUVya0pnZ2c9PSc+PC9idXR0b24+IgoJKyI8YnV0dG9uIGNsYXNzPSdidG5Cb2xkJz48aW1nIHNyYz0nZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRmdBV0FJRC9BTURBd0FBQUFDSDVCQUVBQUFBQUxBQUFBQUFXQUJZQVFBSW5oSStwYStIOW1KeTBMaGRndHJ4ekRHNVdHRlZrNmFYcXlrNlk5a1h2S0tOdUxiYjZ6Z01GQURzPSc+PC9idXR0b24+IgoJKyI8YnV0dG9uIGNsYXNzPSdidG5JdGFsaWMnPjxpbWcgc3JjPSdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhGZ0FXQUtFREFBQUFBRjl2ajVXSWJmLy8veUg1QkFFQUFBTUFMQUFBQUFBV0FCWUFBQUlqbkkrcHkrMFBvNXgwZ1h2cnVFS0hyRjJCQjFZaUNXZ2JNRklZcHNieVROZDJVd0FBT3c9PSc+PC9idXR0b24+IgoJKyI8YnV0dG9uIGNsYXNzPSdidG5VbmRlcmxpbmUnPjxpbWcgc3JjPSdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhGZ0FXQUtFQ0FBQUFBRjl2ai8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBV0FCWUFBQUlybEkrcHkrMFBvNXpVZ0FzRXp2RWVMNEVhMTVFaUpKNVBTcUptdXdLQkVLZ3hWdVhXdHVuK0R3eENDZ0E3Jz48L2J1dHRvbj4iCgkrIjwvc3Bhbj4gPHNwYW4gc3R5bGU9J3doaXRlLXNwYWNlOiBub3dyYXA7Jz4iCgkrIjxidXR0b24gY2xhc3M9J2J0bkp1c3RMZWZ0Jz48aW1nIHNyYz0nZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRmdBV0FJRC9BTURBd0FBQUFDSDVCQUVBQUFBQUxBQUFBQUFXQUJZQVFBSWdoSStweSswUG81eTAyb3V6M2pMNEQ0Sk1HRUxrR1l4bytxemw0bkt5WEFBQU93PT0nPjwvYnV0dG9uPiIJCgkrIjxidXR0b24gY2xhc3M9J2J0bkp1c3RDZW50ZXInPjxpbWcgc3JjPSdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhGZ0FXQUlEL0FNREF3QUFBQUNINUJBRUFBQUFBTEFBQUFBQVdBQllBUUFJZmhJK3B5KzBQbzV5MDJvdXozakw0RDRKT0dJN2thWjVCcW40c3ljVmJBUUE3Jz48L2J1dHRvbj4iCQoJKyI8YnV0dG9uIGNsYXNzPSdidG5KdXN0UmlnaHQnPjxpbWcgc3JjPSdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhGZ0FXQUlEL0FNREF3QUFBQUNINUJBRUFBQUFBTEFBQUFBQVdBQllBUUFJZ2hJK3B5KzBQbzV5MDJvdXozakw0RDRKUUdETGtHWXhvdXF6bDQzSnlWZ0FBT3c9PSc+PC9idXR0b24+IgkKCSsiPC9zcGFuPiA8c3BhbiBzdHlsZT0nd2hpdGUtc3BhY2U6IG5vd3JhcDsnPiIKCSsiPGJ1dHRvbiBjbGFzcz0nYnRuTnVtYmVyZWRMaXN0Jz48aW1nIHNyYz0nZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRmdBV0FNSUdBQUFBQURsandsaUUzNUdqdWFlenh0SGE3UC8vLy8vLy95SDVCQUVBQUFjQUxBQUFBQUFXQUJZQUFBTTJlTHJjL2pES1Nlc3B3am9SRnZnZ0NCVUJvVEZCZXE2UUlBeXNRblJIYUVPenlhWjA3THU5bFVCbkMwVUdRVTFLNTJzNm41b0VBRHM9JyAvPjwvYnV0dG9uPiIKCSsiPGJ1dHRvbiBjbGFzcz0nYnRuRG90dGVkTGlzdCc+PGltZyBzcmM9J2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEZnQVdBTUlHQUFBQUFCMUNoRjl2ajFpRTMzbU9ycWV6eHYvLy8vLy8veUg1QkFFQUFBY0FMQUFBQUFBV0FCWUFBQU15ZUxyYy9qREtTZXNwcE5oR1JsQkFLSVpSRVJCYnFtNll0bmJmTVk3bHVkNjRVd2l1S25pZ0dRbGlRdVdPeUtReWtnQUFPdz09JyAvPjwvYnV0dG9uPiIKCSsiPGJ1dHRvbiBjbGFzcz0nYnRuUXVvdGUnPjxpbWcgc3JjPSdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhGZ0FXQUlRWEFDMU5xakZSamtCZ21UOW5xVUpuc2s5eHJGSjd1MlI5cW1LQnQxaUd6SG1Pcm02U3o0T1h3M09kejRDbDJaU253Nkt4eXFPMzA2SzYzYkc3MGJUQjByREkzYnZJNFAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL3lINUJBRUtBQjhBTEFBQUFBQVdBQllBQUFWUDRDZU9aR21lYUtxdWJFczJDZWtrRXJ2RUkxelp1T2dZRmxha0VDRVpGaTBHZ1RHS0VCQVRGbUpBVlh3ZVZPb0tFUWdBQkI5SVFEQ21yTHBqRVRyUVFsaEhqSU5yVHEvYjcvaThmcDhQQVFBNyc+PC9idXR0b24+IgoJKyI8YnV0dG9uIGNsYXNzPSdidG5BZGRJZGVudCc+PGltZyBzcmM9J2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEZnQVdBTUlIQUFBQUFEbGp3bGlFMzVHanVhZXp4dERWM05IYTdQLy8veUg1QkFFQUFBY0FMQUFBQUFBV0FCWUFBQU0yZUxyYy9qREtDUUc5RjJpN3U4YWdRZ3lLMXoyRUlCaWwrVFdxRU14aE1jenNZVkozZTRhaGsrc0ZuQWd0eFNRRHFXdzZuNWNFQURzPScgLz48L2J1dHRvbj4iCgkrIjxidXR0b24gY2xhc3M9J2J0bkRlbElkZW50Jz48aW1nIHNyYz0nZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRmdBV0FPTUlBQUFBQURsandsOXZqMWlFMzVHanVhZXp4dERWM05IYTdQLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL3lINUJBRUFBQWdBTEFBQUFBQVdBQllBQUFRN0VNbEpxNzA0NjUwQi94OGdlbU1wZ3Vnd0hKTlpYb2RLc081b3FVT2dvNUtoQndXRVN5TVFzQ1JESHU5Vk95azVUTTl6U3BGU3I5Z3NKd0lBT3c9PScgLz48L2J1dHRvbj4iCgkrIjwvc3Bhbj4gPHNwYW4gc3R5bGU9J3doaXRlLXNwYWNlOiBub3dyYXA7Jz4iCgkrIjxidXR0b24gY2xhc3M9J2J0blRhYmxlJz5UYWJsZTwvYnV0dG9uPiIKCSsiPGJ1dHRvbiBjbGFzcz0nYnRuTGluayc+PGltZyBzcmM9J2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEZnQVdBT01LQUIxQ2hEUkxZMTl2ajNtT3JwR2p1YWV6eHJDenRiL0kxOUhhN1B2OC9mLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy95SDVCQUVLQUE4QUxBQUFBQUFXQUJZQUFBUlk4TWxKcTcwNDY4MjcvMkJZSVFWaEhnOXBFZ1ZHSWtseURFVUJ5L1JsRTRGUUY0ZENqMkFRWEFpSlFEQ1dRQ0FFQndJaW9FTVFCZ1NBRmhEQUdnaEdpOVhnSEFoTU5vU1pnSmtKZWkzM1VFU3YyKy80dkQ0VEFRQTcnPjwvYnV0dG9uPiIKCSsiPC9zcGFuPiA8L2Rpdj4iCgkrIjxkaXYgY2xhc3M9J2NvbnRlbnQnIGNvbnRlbnRlZGl0YWJsZT0ndHJ1ZSc+PC90ZXh0YXJlYT4iOwoJCgllbC5pbm5lckhUTUwgPSBodG1sVGVtcGxhdGU7CgkKCXZhciBidG5Cb2xkID0gYnlDbGFzcyhlbCwiYnRuQm9sZCIpOwoJdmFyIGJ0bkl0YWxpYyA9IGJ5Q2xhc3MoZWwsImJ0bkl0YWxpYyIpOwoJdmFyIGJ0blVuZGVybGluZSA9IGJ5Q2xhc3MoZWwsImJ0blVuZGVybGluZSIpOwoJdmFyIGJ0bkxpbmsgPSBieUNsYXNzKGVsLCJidG5MaW5rIik7Cgl2YXIgYnRuUmVtb3ZlID0gYnlDbGFzcyhlbCwiYnRuUmVtb3ZlIik7Cgl2YXIgYnRuVW5kbyA9IGJ5Q2xhc3MoZWwsImJ0blVuZG8iKTsKCXZhciBidG5SZWRvID0gYnlDbGFzcyhlbCwiYnRuUmVkbyIpOwoJdmFyIGJ0blBhcmFncmFwaCA9IGJ5Q2xhc3MoZWwsImJ0blBhcmFncmFwaCIpOwoJdmFyIGJ0blByZWZvcm0gPSBieUNsYXNzKGVsLCJidG5QcmVmb3JtIik7Cgl2YXIgYnRuSGVhZDEgPSBieUNsYXNzKGVsLCJidG5IZWFkMSIpOwoJdmFyIGJ0bkhlYWQyID0gYnlDbGFzcyhlbCwiYnRuSGVhZDIiKTsKCXZhciBidG5KdXN0TGVmdCA9IGJ5Q2xhc3MoZWwsImJ0bkp1c3RMZWZ0Iik7Cgl2YXIgYnRuSnVzdENlbnRlciA9IGJ5Q2xhc3MoZWwsImJ0bkp1c3RDZW50ZXIiKTsKCXZhciBidG5KdXN0UmlnaHQgPSBieUNsYXNzKGVsLCJidG5KdXN0UmlnaHQiKTsKCXZhciBidG5OdW1iZXJlZExpc3QgPSBieUNsYXNzKGVsLCJidG5OdW1iZXJlZExpc3QiKTsKCXZhciBidG5Eb3R0ZWRMaXN0ID0gYnlDbGFzcyhlbCwiYnRuRG90dGVkTGlzdCIpOwoJdmFyIGJ0blF1b3RlID0gYnlDbGFzcyhlbCwiYnRuUXVvdGUiKTsKCXZhciBidG5BZGRJZGVudCA9IGJ5Q2xhc3MoZWwsImJ0bkFkZElkZW50Iik7Cgl2YXIgYnRuRGVsSWRlbnQgPSBieUNsYXNzKGVsLCJidG5EZWxJZGVudCIpOwoJdmFyIGJ0blRhYmxlID0gYnlDbGFzcyhlbCwiYnRuVGFibGUiKTsKCXZhciBjb250ZW50ID0gYnlDbGFzcyhlbCwiY29udGVudCIpOwoJdmFyIHBhbmVsID0gYnlDbGFzcyhlbCwicGFuZWwiKTsKCQoJZnVuY3Rpb24gc2V0Q29udGVudCh4KSB7CgkJY29udGVudC5pbm5lckhUTUw9eDsKCX0KCWZ1bmN0aW9uIGdldENvbnRlbnQoKSB7CgkJcmV0dXJuIGNvbnRlbnQuaW5uZXJIVE1MOwoJfQoJZnVuY3Rpb24gZXhlYyhjbWQsIHZhbHVlKSB7CgkJY29udGVudC5mb2N1cygpOwoJCWRvY3VtZW50LmV4ZWNDb21tYW5kKGNtZCwgZmFsc2UsIHZhbHVlKTsgCgkJY29udGVudC5mb2N1cygpOwoJfQoJdGhpcy5zZXRDb250ZW50ID0gc2V0Q29udGVudDsKCXRoaXMuZ2V0Q29udGVudCA9IGdldENvbnRlbnQ7CgkKCQoJYnRuQm9sZC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZXhlYy5iaW5kKG51bGwsImJvbGQiLG51bGwpKTsKCWJ0bkl0YWxpYy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZXhlYy5iaW5kKG51bGwsIml0YWxpYyIsbnVsbCkpOwoJYnRuVW5kZXJsaW5lLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwidW5kZXJsaW5lIixudWxsKSk7CglidG5SZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGV4ZWMuYmluZChudWxsLCJyZW1vdmVGb3JtYXQiLG51bGwpKTsKCWJ0blVuZG8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGV4ZWMuYmluZChudWxsLCJ1bmRvIixudWxsKSk7CglidG5SZWRvLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwicmVkbyIsbnVsbCkpOwoJYnRuUGFyYWdyYXBoLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwiZm9ybWF0YmxvY2siLCJwIikpOwoJYnRuUHJlZm9ybS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZXhlYy5iaW5kKG51bGwsImZvcm1hdGJsb2NrIiwicHJlIikpOwoJYnRuSGVhZDEuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGV4ZWMuYmluZChudWxsLCJmb3JtYXRibG9jayIsImgyIikpOwoJYnRuSGVhZDIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGV4ZWMuYmluZChudWxsLCJmb3JtYXRibG9jayIsImgzIikpOwoJYnRuSnVzdExlZnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGV4ZWMuYmluZChudWxsLCJqdXN0aWZ5bGVmdCIpKTsKCWJ0bkp1c3RDZW50ZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGV4ZWMuYmluZChudWxsLCJqdXN0aWZ5Y2VudGVyIikpOwoJYnRuSnVzdFJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwianVzdGlmeXJpZ2h0IikpOwoJYnRuTnVtYmVyZWRMaXN0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwiaW5zZXJ0b3JkZXJlZGxpc3QiKSk7CglidG5Eb3R0ZWRMaXN0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwiaW5zZXJ0dW5vcmRlcmVkbGlzdCIpKTsKCWJ0blF1b3RlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwiYmxvY2txdW90ZSIpKTsKCWJ0bkFkZElkZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwib3V0ZGVudCIpKTsKCWJ0bkRlbElkZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixleGVjLmJpbmQobnVsbCwiaW5kZW50IikpOwoJYnRuVGFibGUuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGV4ZWMuYmluZChudWxsLCJpbnNlcnRIVE1MIiwiPHRhYmxlPjx0aGVhZD48dHI+PHRoPiA8L3RoPjx0aD4gPC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pjx0cj48dGQ+IDwvdGQ+PHRkPiA8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPiIpKTsKCWJ0bkxpbmsuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKCkgewoJCXZhciBzTG5rPXByb21wdCgnUGFzdGUgbGluayBoZXJlJywnaHR0cDovLycpOwoJCWlmKCBzTG5rICYmIHNMbmshPScnICYmIHNMbmshPSdodHRwOi8vJykge2V4ZWMoImNyZWF0ZWxpbmsiLHNMbmspfQoJfSk7CgkKCXRoaXMuYWRkQnV0dG9uID0gZnVuY3Rpb24odGV4dCwgYXRCZWdpbikgewoJCXZhciB4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CgkJaWYgKHR5cGVvZiB0ZXh0ID09ICJzdHJpbmciKSB7CgkJCXgudGV4dENvbnRlbnQgPSB0ZXh0OwkJCQoJCX0gZWxzZSBpZiAodHlwZW9mIHRleHQgPT0gIm9iamVjdCIgJiYgdGV4dCBpbnN0YW5jZW9mIEVsZW1lbnQpIHsKCQkJeC5hcHBlbmRDaGlsZCh0ZXh0KTsKCQl9CgkJCQoJCWlmIChhdEJlZ2luKSB7CgkJCXBhbmVsLmluc2VydEJlZm9yZSh4LCBwYW5lbC5maXJzdENoaWxkKTsKCQl9IGVsc2UgewoJCQlwYW5lbC5hcHBlbmRDaGlsZCh4KTsKCQl9CgkJcmV0dXJuIHg7Cgl9CgkKCXRoaXMuYWRkU2VwYXJhdG9yID0gZnVuY3Rpb24oYXRCZWdpbikgewoJCXZhciB4ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKCQlpZiAoYXRCZWdpbikgewoJCQlwYW5lbC5pbnNlcnRCZWZvcmUoeCwgcGFuZWwuZmlyc3RDaGlsZCk7CgkJfSBlbHNlIHsKCQkJcGFuZWwuYXBwZW5kQ2hpbGQoeCk7CgkJfQkJCgl9Cgl0aGlzLmluc2VydEhUTUwgPSBmdW5jdGlvbihodG1sKSB7CgkJZXhlYygiaW5zZXJ0SFRNTCIsIGh0bWwpOwoJCQoJfQoJZXhlYygiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIix0cnVlKTsKCWV4ZWMoImVuYWJsZU9iamVjdFJlc2l6aW5nIix0cnVlKTsKCWV4ZWMoInN0eWxlV2l0aENTUyIsZmFsc2UpOwoJCn0KCgoKCmZ1bmN0aW9uIHN0YXJ0KCkgewoKCXdpbmRvdy5kYXRhYmFzZSA9IG5ldyBQb3VjaERCKHRoaXNBcHAuZGF0YWJhc2VVcmwseyJza2lwX3NldHVwIjp0cnVlfSk7CgkKCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIiwgcHJvY2Vzc0hhc2hDaGFuZ2UpOwoJcHJvY2Vzc0hhc2hDaGFuZ2UoKTsKCQoJCn0KCgpmdW5jdGlvbiBwcm9jZXNzSGFzaENoYW5nZSgpIHsKCXZhciBoID0gbG9jYXRpb24uaGFzaDsKCWlmIChoID09ICIiIHx8IGggPT0gIiMiKSByZXR1cm47CgloID0gaC5zdWJzdHIoMSk7Cgl2YXIgZW5jaCA9IGRlY29kZVVSSUNvbXBvbmVudChoKTsKCXZhciBvcHRpb25zID0ge307CglpZiAoZW5jaC5zdWJzdHIoMCw1KSA9PSAiZWRpdC0iKSB7CgkJb3B0aW9ucy5lZGl0ID0gdHJ1ZTsKCQllbmNoID0gZW5jaC5zdWJzdHIoNSk7Cgl9Cglsb2FkQXJ0aWNsZShlbmNoLG9wdGlvbnMpOwoJCn0KCmZ1bmN0aW9uIGxvYWRBcnRpY2xlKGlkLG9wdGlvbnMpIHsJCgl3aW5kb3cuZGF0YWJhc2UuZ2V0KGlkKS50aGVuKGZ1bmN0aW9uKGRvYykgewoJCWlmIChkb2MudHlwZSA9PSAiYXJ0aWNsZSIpIHsKCQkJbmF2aWdhdGVUb0FydGljbGUoZG9jLG9wdGlvbnMpOwoJCX0KCX0pLmNhdGNoKGZ1bmN0aW9uKGUpIHsKCQlpZiAoZS5zdGF0dXMgPT0gNDA0ICYmIG9wdGlvbnMuZWRpdCkgewoJCQl2YXIgZG9jID0geyJfaWQiOmlkLCAidHlwZSI6ImFydGljbGUiLCAidGl0bGUiOiIiLCAidGV4dCI6IiJ9OwoJCQluYXZpZ2F0ZVRvQXJ0aWNsZShkb2MsIG9wdGlvbnMpOwkJCQoJCX0KCX0pCn0KCgpmdW5jdGlvbiBhc2tMb2dpbigpIHsKCQoJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG9rLGVycm9yKSB7CgkJCgkJdmFyIGVsID0gYnlDbGFzcyhkb2N1bWVudC5ib2R5LCAibG9naW5EbGciKTsKCQlpZiAoIWVsLmhpZGRlbikgewoJCQllcnJvcih7c3RhdHVzOjQwOSxtZXNzYWdlOiJhbHJlYWR5IG9wZW5lZCJ9KTsKCQkJcmV0dXJuOwoJCX0KCQllbC5oaWRkZW4gPSBmYWxzZTsKCQl2YXIgYnV0dE9rID0gYnlDbGFzcyhlbCwibG9naW5BY3Rpb24iKTsKCQl2YXIgYnV0dENhbmNlbCA9IGJ5Q2xhc3MoZWwsImxvZ2luQ2FuY2VsIik7CgkJdmFyIGNhbmNlbEZuID0gZnVuY3Rpb24oKSB7CgkJCWJ1dHRPay5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsbG9naW5Gbik7CgkJCWJ1dHRDYW5jZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGNhbmNlbEZuKTsKCQkJZWwuaGlkZGVuID0gdHJ1ZTsKCQkJZXJyb3IgKHtzdGF0dXM6LTEsIG1lc3NhZ2U6ImNhbmNlbGVkIn0pOwoJCX0KCQl2YXIgbG9naW5GbiA9IGZ1bmN0aW9uKCkgewoJCQkKCQkJdmFyIHVzZXJuYW1lID0gYnlDbGFzcyhlbCwibG9naW5Vc2VyIikudmFsdWU7CgkJCXZhciBwYXNzd29yZCA9IGJ5Q2xhc3MoZWwsImxvZ2luUGFzc3dvcmQiKS52YWx1ZTsKCQkJd2luZG93LmRhdGFiYXNlLmxvZ2luKHVzZXJuYW1lLHBhc3N3b3JkKQoJCQkJLnRoZW4oZnVuY3Rpb24oKSB7CgkJCQkJb2soKTsKCQkJCQljYW5jZWxGbigpOwoJCQkJfSkKCQkJCS5jYXRjaChmdW5jdGlvbih4KSB7CgkJCQkJYWxlcnQoIlDFmWlobMOhxaFlbsOtIHNlbGhhbG86ICIrIHgubWVzc2FnZSk7CgkJCQl9KTsKCQl9CgkJYnV0dE9rLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixsb2dpbkZuKTsKCQlidXR0Q2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixjYW5jZWxGbik7CgkJCgkJCgl9KTsKCQp9CgpmdW5jdGlvbiBwdXREb2MoZG9jKSB7CgkKCXJldHVybiB3aW5kb3cuZGF0YWJhc2UucHV0KGRvYykKCQkuY2F0Y2goZnVuY3Rpb24oZSkgewoJCQlpZiAoZS5zdGF0dXMgPT0gNDAxKSB7CQkJCQoJCQkJcmV0dXJuIGFza0xvZ2luKCkudGhlbihmdW5jdGlvbigpIHtwdXREb2MoZG9jKTt9KTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJOxJtjbyBzZSBuZXBvdmVkbG86IiArIGUubWVzc2FnZSk7CQkJCQoJCQl9CgkJfSk7CgkKCQp9CgpmdW5jdGlvbiBhdHRhY2htZW50VXBsb2FkKGRvYykgewoJCglyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ob2ssZXJyb3IpIHsKCgkJdmFyIGVsID0gYnlDbGFzcyhkb2N1bWVudC5ib2R5LCAiYXR0YWNoRGxnIik7CgkJaWYgKCFlbC5oaWRkZW4pIHsKCQkJZXJyb3Ioe3N0YXR1czo0MDksbWVzc2FnZToiYWxyZWFkeSBvcGVuZWQifSk7CgkJCXJldHVybjsKCQl9CgkJZWwuaGlkZGVuID0gZmFsc2U7CgkJdmFyIHNlbGVjdG9yID0gYnlDbGFzcyhlbCwiYXR0YWNoRmlsZXMiKTsKCQl2YXIgYnV0dENhbmNlbCA9IGJ5Q2xhc3MoZWwsImF0dGFjaENhbmNlbCIpOwoJCXZhciBjYW5jZWxGbiA9IGZ1bmN0aW9uKCkgewoJCQlzZWxlY3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGF0dGFjaEZuKTsKCQkJYnV0dENhbmNlbC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsY2FuY2VsRm4pOwoJCQllbC5oaWRkZW4gPSB0cnVlOwoJCQllcnJvciAoe3N0YXR1czotMSwgbWVzc2FnZToiY2FuY2VsZWQifSk7CgkJfQoJCXZhciBhdHRhY2hGbiA9IGZ1bmN0aW9uKCkgewoJCQkKCQkJY29uc29sZS5sb2coc2VsZWN0b3IuZmlsZXMpOwoJCQlpZiAoIWRvYy5fYXR0YWNobWVudHMpIGRvYy5fYXR0YWNobWVudHMgPSB7fTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3Rvci5maWxlcy5sZW5ndGg7IGkrKykgewoJCQkJdmFyIGYgPSBzZWxlY3Rvci5maWxlc1tpXTsKCQkJCWRvYy5fYXR0YWNobWVudHNbZi5uYW1lXSA9IHsKCQkJCQkJdHlwZTogZi50eXBlLAoJCQkJCQljb250ZW50X3R5cGU6Zi50eXBlLAoJCQkJCQlkYXRhOiBmCgkJCQl9CgkJCX0KCQkJb2soZG9jKTsKCQkJY2FuY2VsRm4oKTsKCQkJCgkJfQoJCXNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsYXR0YWNoRm4pOwoJCWJ1dHRDYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGNhbmNlbEZuKTsKCQkKCX0pOwoJCn0KCmZ1bmN0aW9uIGxpbmtUb0F0dGFjaG1lbnQoaWQsIG5hbWUsICBhKSB7CglpZiAoIWEgfHwgYS5zdHViKSB7CgkJcmV0dXJuIHRoaXNBcHAucmVsYXRpdmVVcmwrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSsiLyIrZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpOwoJfSBlbHNlIHsKCQlyZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChhLmRhdGEpOwoJfQp9CgpmdW5jdGlvbiBnZXRUaHVtYm5haWwodXJsKSB7CglyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ob2ssZXJyb3IpIHsKCSAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CgkgICAgaW1nLnNyYyA9IHVybDsKCSAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgewoJCgkgICAgCVVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsKCSAgICAJdmFyIG15Q2FuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CgkgICAgCW15Q2FuLndpZHRoID0gdGhpc0FwcC50aHVtYlNpemVbMF07CgkgICAgCW15Q2FuLmhlaWdodCA9IHRoaXNBcHAudGh1bWJTaXplWzFdOzsKCSAgICAJdmFyIGNudHh0ID0gbXlDYW4uZ2V0Q29udGV4dCgiMmQiKTsKCSAgICAJY250eHQuZHJhd0ltYWdlKGltZywgMCwwLG15Q2FuLndpZHRoLCBteUNhbi5oZWlnaHQpOwoJICAgIAlteUNhbi50b0Jsb2IoZnVuY3Rpb24oYikgewoJICAgIAkJb2soYik7CgkgICAgCX0sImltYWdlL2pwZWciLDEwKTsKCSAgICB9CgkgICAgaW1nLmVycm9yID0gZnVuY3Rpb24oKSB7CgkgICAgCWVycm9yKCJmYWlsZWQgdG8gbG9hZCBpbWFnZSIpCgkgICAgCVVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsKCSAgICB9Cgl9KTsgICAgCn0KCgpmdW5jdGlvbiB1cGRhdGVBdHRhY2htZW50c0VkaXQoZG9jLCBodG1sYXJlYSkgewoKCXZhciBjaGtsaXN0ID0gW107Cgl2YXIgcGFuZWwgPSBieUlkKCJhdHRjaFBhbmVsIik7CglpZiAocGFuZWwubGlzdGVuZXJzKSB7CgkJYnlDbGFzcyhwYW5lbCwic2VsQWxsIikucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLHBhbmVsLmxpc3RlbmVyc1sic2VsQWxsIl0pOwoJCWJ5Q2xhc3MocGFuZWwsImRlbGV0ZSIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixwYW5lbC5saXN0ZW5lcnNbImRlbGV0ZSJdKTsKCQlieUNsYXNzKHBhbmVsLCJ0aHVtYiIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixwYW5lbC5saXN0ZW5lcnNbInRodW1iIl0pOwoJCWJ5Q2xhc3MocGFuZWwsInVudGh1bWIiKS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIscGFuZWwubGlzdGVuZXJzWyJ1bnRodW1iIl0pOwoJCWJ5Q2xhc3MocGFuZWwsImFkZEdhbCIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixwYW5lbC5saXN0ZW5lcnNbImFkZEdhbCJdKTsKCQlieUNsYXNzKHBhbmVsLCJkZWxHYWwiKS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIscGFuZWwubGlzdGVuZXJzWyJkZWxHYWwiXSk7CQkKCX0KCWlmIChwYW5lbC5kYXRhVXJscykgewoJCXBhbmVsLmRhdGFVcmxzLmZvckVhY2goZnVuY3Rpb24oeCkgewoJCQlVUkwucmV2b2tlT2JqZWN0VVJMKHgpOwoJCX0pCgl9CgoJCglkZWxldGUgcGFuZWwubGlzdGVuZXJzCglkZWxldGUgcGFuZWwuZGF0YVVybHM7CglpZiAoIWRvYykgcmV0dXJuOwoJCgkKCQoJdmFyIGdhbGxlcnkgPSBkb2MuZ2FsbGVyeTsKCWlmICghZ2FsbGVyeSkgewoJCWdhbGxlcnkgPSB7fQoJfQoKCgl2YXIgbDsKCXBhbmVsLmRhdGFVcmxzID0gW107CglwYW5lbC5saXN0ZW5lcnMgPSB7fTsKCXBhbmVsLmxpc3RlbmVyc1sic2VsQWxsIl0gPSBsID0gZnVuY3Rpb24oKSB7CgkJCgkJdmFyIGFueT1mYWxzZTsKCQljaGtsaXN0LmZvckVhY2goZnVuY3Rpb24oeCkgIHsKCQkJaWYgKCF4LmNoZWNrZWQpIHthbnk9dHJ1ZTt4LmNoZWNrZWQgPSB0cnVlO30KCQl9KTsKCQlpZiAoIWFueSkgewoJCQljaGtsaXN0LmZvckVhY2goZnVuY3Rpb24oeCkgIHsKCQkJCXguY2hlY2tlZCA9IGZhbHNlOwoJCQl9KTsJCQkKCQl9CgkJCgl9CglieUNsYXNzKHBhbmVsLCJzZWxBbGwiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsbCk7CgkKCXBhbmVsLmxpc3RlbmVyc1siZGVsZXRlIl0gPSBsID0gZnVuY3Rpb24oKSB7CgkJCQoJCWNoa2xpc3QuZm9yRWFjaChmdW5jdGlvbih4KSB7CgkJCWlmICh4LmNoZWNrZWQpIHsKCQkJCXZhciBuYW1lID0geC52YWx1ZTsKCQkJCXZhciB0aHVtYk5hbWUgPSAidGh1bWJfIituYW1lOwoJCQkJZGVsZXRlIGRvYy5fYXR0YWNobWVudHNbbmFtZV07CgkJCQlpZiAoZG9jLl9hdHRhY2htZW50c1t0aHVtYk5hbWVdKQoJCQkJCWRlbGV0ZSBkb2MuX2F0dGFjaG1lbnRzW3RodW1iTmFtZV07CgkJCX0KCQl9KTsKCQl1cGRhdGVBdHRhY2htZW50c0VkaXQoZG9jLCBodG1sYXJlYSk7CgkJCQoJfTsKCWJ5Q2xhc3MocGFuZWwsImRlbGV0ZSIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixsKTsKCQoJCglwYW5lbC5saXN0ZW5lcnNbInRodW1iIl0gPSBsID0gZnVuY3Rpb24oKSB7CgoJCQl2YXIgcmVzdWx0cyA9IFtdOwoJCQl2YXIgbmFtZXMgPSBbXTsKCQkJY2hrbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHgpIHsKCQkJCWlmICh4LmNoZWNrZWQpIHsKCQkJCQl2YXIgbmFtZSA9IHgudmFsdWU7CgkJCQkKCQkJCQl2YXIgdSA9IGxpbmtUb0F0dGFjaG1lbnQoZG9jLl9pZCxuYW1lLGRvYy5fYXR0YWNobWVudHNbbmFtZV0pOwoJCQkJCXJlc3VsdHMucHVzaChnZXRUaHVtYm5haWwodSkpCgkJCQkJbmFtZXMucHVzaChuYW1lKTsKCQkJCX0JCQkKCQkJfSkKCQkJUHJvbWlzZS5hbGwocmVzdWx0cykudGhlbihmdW5jdGlvbihibG9icykgewoJCQkJdmFyIGlkeDsKCQkJCWZvciAoaWR4ID0gMDsgaWR4IDwgbmFtZXMubGVuZ3RoOyBpZHgrKykgewoJCQkJCXZhciBiID0gYmxvYnNbaWR4XTsKCQkJCQl2YXIgbmFtZSA9IG5hbWVzW2lkeF07CgkJCQkJZG9jLl9hdHRhY2htZW50c1sidGh1bWJfIituYW1lXSA9IHsKCQkJCQkJCXR5cGU6Yi50eXBlLAoJCQkJCQkJZGF0YTpiLAoJCQkJCQkJY29udGVudF90eXBlOmIudHlwZQoJCQkJCX07CQkJCQkKCQkJCX0KCQkJCXVwZGF0ZUF0dGFjaG1lbnRzRWRpdChkb2MsIGh0bWxhcmVhKTsKCQkJfSk7CgkJCQoJCQkKCQkJCgl9OwoJYnlDbGFzcyhwYW5lbCwidGh1bWIiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsbCk7CgkKCXBhbmVsLmxpc3RlbmVyc1sidW50aHVtYiJdID0gbCA9IGZ1bmN0aW9uKCkgewoKCQljaGtsaXN0LmZvckVhY2goZnVuY3Rpb24oeCkgewoJCQlpZiAoeC5jaGVja2VkKSB7CgkJCQl2YXIgbmFtZSA9IHgudmFsdWU7CgkJCQlkZWxldGUgZG9jLl9hdHRhY2htZW50c1sidGh1bWJfIituYW1lXTsKCQkJfQkJCQoJCX0pCgkJdXBkYXRlQXR0YWNobWVudHNFZGl0KGRvYywgaHRtbGFyZWEpOwoJfTsKCWJ5Q2xhc3MocGFuZWwsInVudGh1bWIiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsbCk7CgkKCQoJcGFuZWwubGlzdGVuZXJzWyJhZGRHYWwiXSA9IGwgPSBmdW5jdGlvbigpIHsKCQkJCgkJY2hrbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHgpIHsKCQkJaWYgKHguY2hlY2tlZCkgewoJCQkJdmFyIG5hbWUgPSB4LnZhbHVlOwoJCQkJZ2FsbGVyeVtuYW1lXSA9IHRydWU7CgkJCX0KCQl9KQoJCWRvYy5nYWxsZXJ5ID0gZ2FsbGVyeTsJCQoJCXVwZGF0ZUF0dGFjaG1lbnRzRWRpdChkb2MsIGh0bWxhcmVhKTsKCQkJCgl9OwoKCWJ5Q2xhc3MocGFuZWwsImFkZEdhbCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixsKTsKCgkKCXBhbmVsLmxpc3RlbmVyc1siZGVsR2FsIl0gPSBsID0gZnVuY3Rpb24oKSB7CgkJCQoJCWNoa2xpc3QuZm9yRWFjaChmdW5jdGlvbih4KSB7CgkJCWlmICh4LmNoZWNrZWQpIHsKCQkJCXZhciBuYW1lID0geC52YWx1ZTsKCQkJCWRlbGV0ZSBnYWxsZXJ5W25hbWVdOwoJCQl9CgkJfSk7CgkJZG9jLmdhbGxlcnkgPSBnYWxsZXJ5OwoJCXVwZGF0ZUF0dGFjaG1lbnRzRWRpdChkb2MsIGh0bWxhcmVhKTsKCQkJCgl9OwoJCQoJYnlDbGFzcyhwYW5lbCwiZGVsR2FsIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGwpOwoKCXZhciBjb250ZW50ID0gYnlJZCgiYXR0Y2hMaXN0Iik7Cgljb250ZW50LmlubmVySFRNTD0iIjsJCgkKCWZvcih2YXIgbmFtZSBpbiBkb2MuX2F0dGFjaG1lbnRzKSB7CgkJaWYgKG5hbWUuc3Vic3RyKDAsNikgPT0gInRodW1iXyIpIGNvbnRpbnVlOwoJCXZhciB0aHVtYk5hbWUgPSAidGh1bWJfIituYW1lOwoJCXZhciBhID0gZG9jLl9hdHRhY2htZW50c1tuYW1lXTsKCQl2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKCQl2YXIgY2VsbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwoJCXZhciBjZWxsMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CgkJdmFyIGNlbGwzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKCQl2YXIgY2VsbDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwoJCXZhciBjZWxsNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CgkJcm93LmFwcGVuZENoaWxkKGNlbGwxKTsKCQlyb3cuYXBwZW5kQ2hpbGQoY2VsbDIpOwoJCXJvdy5hcHBlbmRDaGlsZChjZWxsMyk7CgkJcm93LmFwcGVuZENoaWxkKGNlbGw0KTsKCQlyb3cuYXBwZW5kQ2hpbGQoY2VsbDUpOwoJCXZhciBjaGsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoJCWNoay5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpOwoJCWNoay5zZXRBdHRyaWJ1dGUoInZhbHVlIixuYW1lKTsKCQljZWxsMS5hcHBlbmRDaGlsZChjaGspOwkJCgkJdmFyIG5kID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmFtZSk7CgkJdmFyIGFhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwoJCXZhciB1cmwgPSBsaW5rVG9BdHRhY2htZW50KGRvYy5faWQsbmFtZSxhKQoJCWFhLnNldEF0dHJpYnV0ZSgiaHJlZiIsdXJsKTsKCQlhYS5zZXRBdHRyaWJ1dGUoInRhcmdldCIsIl9ibGFuayIpOwoJCXBhbmVsLmRhdGFVcmxzLnB1c2godXJsKTsKCQlhYS5hcHBlbmRDaGlsZChuZCk7CQkKCQl2YXIgaGFzVGh1bWIgPSBmYWxzZTsKCQkKCQljZWxsNC5hcHBlbmRDaGlsZChhYSk7CgkJaWYgKGRvYy5fYXR0YWNobWVudHNbdGh1bWJOYW1lXSkgewoJCQl2YXIgbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKCQkJbmQuc3JjID0gbGlua1RvQXR0YWNobWVudChkb2MuX2lkLHRodW1iTmFtZSxkb2MuX2F0dGFjaG1lbnRzW3RodW1iTmFtZV0pOwoJCQluZC5vbmxvYWQ9ZnVuY3Rpb24oKSB7CgkJCQlVUkwucmV2b2tlT2JqZWN0VVJMKG5kLnNyYyk7CgkJCX0KCQkJY2VsbDMuYXBwZW5kQ2hpbGQobmQpOwoJCQloYXNUaHVtYj10cnVlOwoJCX0KCQlpZiAoZ2FsbGVyeVtuYW1lXSkgCgkJCWNlbGwyLnRleHRDb250ZW50PSIqIjsKCQljb250ZW50LmFwcGVuZENoaWxkKHJvdyk7CgkJY2hrbGlzdC5wdXNoKGNoayk7CgkJdmFyIGxpbmtBZGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKCQlsaW5rQWRkLmlubmVySFRNTD0iVmxvxb5pdCBvZGtheiI7CgkJY2VsbDUuYXBwZW5kQ2hpbGQobGlua0FkZCk7CgkJbGlua0FkZC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGlkLCBuYW1lKSB7CgkJCQoJCQlodG1sYXJlYS5pbnNlcnRIVE1MKCI8YSBocmVmPVwiIitsaW5rVG9BdHRhY2htZW50KGlkLG5hbWUpKyJcIj4iK25hbWUrIjwvYT4iKTsKCQkJCgkJfS5iaW5kKG51bGwsZG9jLl9pZCwgbmFtZSkpOwoJCWlmIChoYXNUaHVtYikgewoJCQl2YXIgdGh1bWJBZGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKCQkJdGh1bWJBZGQuaW5uZXJIVE1MPSJWbG/Fvml0IG7DoWhsZWQiOwoJCQljZWxsNS5hcHBlbmRDaGlsZCh0aHVtYkFkZCk7CgkJCXRodW1iQWRkLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oaWQsIG5hbWUsIHRodW1iTmFtZSkgewkJCQoJCQkJaHRtbGFyZWEuaW5zZXJ0SFRNTCgiPGEgaHJlZj1cIiIrbGlua1RvQXR0YWNobWVudChpZCxuYW1lKSsiXCI+PGltZyBzcmM9XCIiK2xpbmtUb0F0dGFjaG1lbnQoaWQsdGh1bWJOYW1lKSsiXCI+PC9hPiIpOwoJCQl9LmJpbmQobnVsbCxkb2MuX2lkLCBuYW1lLHRodW1iTmFtZSkpOwoJCX0KCQlpZiAoYS5jb250ZW50X3R5cGUuc3Vic3RyKDAsNikgPT0gImltYWdlLyIpIHsKCQkJdmFyIGltZ0FkZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwoJCQlpbWdBZGQuaW5uZXJIVE1MPSJWbG/Fvml0IG9icsOhemVrIjsKCQkJY2VsbDUuYXBwZW5kQ2hpbGQoaW1nQWRkKTsJCQoJCQlpbWdBZGQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihpZCwgbmFtZSkgewkJCQoJCQkJaHRtbGFyZWEuaW5zZXJ0SFRNTCgiPGltZyBzcmM9XCIiK2xpbmtUb0F0dGFjaG1lbnQoaWQsbmFtZSkrIlwiPiIpOwoJCQl9LmJpbmQobnVsbCxkb2MuX2lkLG5hbWUpKTsKCQl9Cgl9CgkKfQoKZnVuY3Rpb24gbmF2aWdhdGVUb0FydGljbGUoZG9jLCBvcHRpb25zKSB7CgkKCXZhciBhcnRWaWV3ID0gYnlJZCgiYXJ0VmlldyIpOwoJdmFyIGFydEVkaXQgPSBieUlkKCJhcnRFZGl0IikKCWlmIChvcHRpb25zLmVkaXQpIHsKCQlhcnRWaWV3LmhpZGRlbj10cnVlOwoJCWFydEVkaXQuaGlkZGVuPWZhbHNlCgkJdmFyIGFydFRpdGxlRWRpdCA9IGJ5SWQoImFydFRpdGxlRWRpdCIpOwoJCXZhciBhcnRUZXh0RWRpdCA9IGJ5SWQoImFydFRleHRFZGl0Iik7CgkJdmFyIGh0bWxFZGl0b3IgPSBuZXcgSHRtbEFyZWEoYXJ0VGV4dEVkaXQpOwoJCWFydFRpdGxlRWRpdC52YWx1ZSA9IGRvYy50aXRsZTsKCQlodG1sRWRpdG9yLnNldENvbnRlbnQoZG9jLnRleHQpOwoJCWh0bWxFZGl0b3IuYWRkU2VwYXJhdG9yKHRydWUpOwoJCXZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKCQlpbWcuc3JjPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVvQUFBQVdDQVlBQUFCbm5BcjlBQUFCbDBsRVFWUll3KzNXdjBwY1FSVEg4UThJK2dRRyIKCQkJCSsib3FqRXdqeUJJajZBQ0NIQk9pUmRra0l0QW1JaHBJanY0Q05vSTBSZlF5ekZTa0VTaUNFUlRHZTBNTmswWjBIazNydDcvK3k2eGZ6ZyIKCQkJCSsid0lVek0zZm15NXpmR1pLU2twS1NIa3Y3V0kvdkRYd1poRTN0UlhTalZza3hyWXA3R3NNbDN1RVhubGJZUitPUVdnTUlDajdFL1BjOSIKCQkJCSsiL0VkUElQVWJWSk43Nml1a0prQzl4Q0d1SXc3eEltTitYanhjdDJqTW8wR3FDMm9lVjNpTlVUekJHL3pHYkljMTEzSGN6MXRiQjFKZCIKCQkJCSsiVUFkWXlSaS8xcUdydmNWNUdIeGxVR1U2VmwxSWRVRjl3MFRHK0VsOHpWbHJDVDh3VTljSHV6MThFNURnSDRZSzhrUDRtM09JVzR4ayIKCQkJCSsiekJtSjNFUE40V2RPV1ZZcXZVNFFtb0lrM2pTVEJmbXBPRnlaR3pXUmNhT2V4MDFhYkxxejVzRm9FaExzWXJNZy93azdKVDFxTlY3aSIKCQkJCSsiOXgrYjUySDYzWlQzRFlhcnd0cnJBU1NZeG5kOER0OFlqcGpCRmk3d0xPZEFDOUhoMmwxdk5MNnZvc3phT3NiSEVqNTRndVVPbHBBTCIKCQkJCSsicTlVRFNHMk5ZeHRuNFMyMzhiMGR1U0x6WDhZUi9rUWM0VldOZDFUYjhFOXgxMVFaSmlVbEpTVU5tUDRENlArbHM2S29Kd3NBQUFBQSIKCQkJCSJTVVZPUks1Q1lJST0iOwoJCXZhciBzYXZlQnV0dCA9IGh0bWxFZGl0b3IuYWRkQnV0dG9uKGltZyx0cnVlKTsKCQlzYXZlQnV0dC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKSB7CgkJCgkJCWRvYy50aXRsZSA9IGFydFRpdGxlRWRpdC52YWx1ZTsKCQkJZG9jLnRleHQgPSBodG1sRWRpdG9yLmdldENvbnRlbnQoKTsKCQkJZG9jLm1vZGlmaWVkID0gKG5ldyBEYXRlKCkudG9KU09OKCkpOwoJCQlpZiAoIWRvYy5jcmVhdGVkKSB7CgkJCQlkb2MuY3JlYXRlZCA9IGRvYy5tb2RpZmllZDsKCQkJfQoJCQljb25zb2xlLmxvZyhkb2MpOwkJCQoJCQlwdXREb2MoZG9jKS50aGVuKGZ1bmN0aW9uKCkgewkJCQkKCQkJCWxvY2F0aW9uLmhhc2g9JyMnK2VuY29kZVVSSUNvbXBvbmVudChkb2MuX2lkKTsKCQkJCQoJCQl9KTsKCQkJCgkJfSk7CgkJdmFyIGF0dGFjaEJ1dHQgPSBodG1sRWRpdG9yLmFkZEJ1dHRvbigiUMWZaWRhdCBwxZnDrWxvaHkiKTsKCQlhdHRhY2hCdXR0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpIHsJCQkKCQkJYXR0YWNobWVudFVwbG9hZChkb2MpLnRoZW4oZnVuY3Rpb24oZG9jKSB7CgkJCQl1cGRhdGVBdHRhY2htZW50c0VkaXQoZG9jLCBodG1sRWRpdG9yKTsKCQkJfSkKCQkJCgkJfSk7CgkJCgkJd2luZG93LmRhdGFiYXNlLmdldFNlc3Npb24oKS50aGVuKGZ1bmN0aW9uKHgpIHsKCQkJZG9jLmF1dGhvcj0geC51c2VyQ3R4Lm5hbWU7CgkJfSk7CgkJCgkJdXBkYXRlQXR0YWNobWVudHNFZGl0KGRvYyxodG1sRWRpdG9yKTsKCQkKCQkKCgoJfSBlbHNlIHsKCQl1cGRhdGVBdHRhY2htZW50c0VkaXQobnVsbCk7CgkJYXJ0Vmlldy5oaWRkZW49ZmFsc2U7CgkJYXJ0RWRpdC5oaWRkZW49IHRydWU7CgkJCgkJdmFyIGFydFRpdGxlID0gYnlJZCgiYXJ0VGl0bGUiKTsKCQl2YXIgYXJ0VGV4dCA9IGJ5SWQoImFydFRleHQiKTsKCQl2YXIgYXJ0QXV0aG9yID0gYnlJZCgiYXJ0QXV0aG9yIik7CgkJdmFyIGFydERhdGV0aW1lQ3JlYXRlZCA9IGJ5SWQoImFydERhdGV0aW1lQ3JlYXRlZCIpOwoJCXZhciBhcnREYXRldGltZVVwZGF0ZWQgPSBieUlkKCJhcnREYXRldGltZVVwZGF0ZWQiKTsKCQkKCQlhcnRUaXRsZS50ZXh0Q29udGVudCA9IGRvYy50aXRsZTsKCQlhcnRUZXh0LmlubmVySFRNTCA9IGRvYy50ZXh0OwoJCWFydEF1dGhvci50ZXh0Q29udGVudCA9IGRvYy5hdXRob3I7CgkJYXJ0RGF0ZXRpbWVDcmVhdGVkLnRleHRDb250ZW50ID0gKG5ldyBEYXRlKGRvYy5jcmVhdGVkKSkudG9Mb2NhbGVTdHJpbmcoKTsKCQlhcnREYXRldGltZVVwZGF0ZWQudGV4dENvbnRlbnQgPSAobmV3IERhdGUoZG9jLm1vZGlmaWVkKSkudG9Mb2NhbGVTdHJpbmcoKTsKCQkKCQl2YXIgZWRpdEJ1dHQgPSBieUlkKCJidXR0R29FZGl0Iik7CgkJZWRpdEJ1dHQub25jbGljayA9IGZ1bmN0aW9uKCkgewoJCQlsb2NhdGlvbi5oYXNoPScjZWRpdC0nK2VuY29kZVVSSUNvbXBvbmVudChkb2MuX2lkKTsKCQl9CgkJdmFyIG5ld0J1dHQgPSBieUlkKCJidXR0R29OZXciKTsKCQluZXdCdXR0Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKCQkJdmFyIGQgPSAiYS4iK0RhdGUubm93KCk7CgkJCWxvY2F0aW9uLmhhc2g9JyNlZGl0LScrZW5jb2RlVVJJQ29tcG9uZW50KGQpOwoJCX0KCgl9Cn0=", "content_type": "application/javascript"}, "mystyle.css": {"data": "Ym9keSB7CgkgICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgpkaXYuY29udGVudCB7CgltYXJnaW4tcmlnaHQ6MjYlOwoJYmFja2dyb3VuZC1jb2xvcjogI0RERERDQzsKfQoKZGl2Lm5hdmlnYXRpb24gewoJcG9zaXRpb246YWJzb2x1dGU7CglyaWdodDowOwoJdG9wOjA7Cgl3aWR0aDogMjUlOwp9CgpkaXYuYm9keXBhcnQgewoJcG9zaXRpb246cmVsYXRpdmU7CgliYWNrZ3JvdW5kLWNvbG9yOiAjQUFBQUREOwp9CgpkaXYuaGVhZGVyIHsKCWhlaWdodDogMTBlbTsJCn0KCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTAwcHgpIHsKCWRpdi5jb250ZW50IHsKCQltYXJnaW4tcmlnaHQ6MHB4OwoJfQoJZGl2Lm5hdmlnYXRpb24gewoJCXBvc2l0aW9uOnJlbGF0aXZlOwoJCXdpZHRoOiBhdXRvOwoJfQoJCn0KCmRpdi5hcnRpY2xlZWRpdCB7CgkKCXBhZGRpbmc6IDEwcHg7Cn0KCmRpdi5odG1sZWRpdG9yIGRpdi5jb250ZW50IHsKCW1pbi1oZWlnaHQ6IDEwZW07Cglib3JkZXI6IDFweCBzb2xpZDsKCXdpZHRoOiAxMDAlOwoJcGFkZGluZzogNXB4OwoJYmFja2dyb3VuZC1jb2xvcjogI0VFRTsJCglib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgpkaXYubG9naW5EbGcgewoJcG9zaXRpb246Zml4ZWQ7CglsZWZ0OjA7Cgl0b3A6MDsKCXdpZHRoOiAxMDB2dzsKCWhlaWdodDogMTAwdmg7Cn0KCmRpdi5saWdodGJveCB7CglsZWZ0OjA7Cgl0b3A6MDsKCXdpZHRoOiAxMDB2dzsKCWhlaWdodDogMTAwdmg7CgliYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKCW9wYWNpdHk6IDAuMzsKfQoKZGl2LmlubmVyIHsKCXBvc2l0aW9uOmFic29sdXRlOwoJdG9wOiAyMCU7CglsZWZ0OiA1MCU7Cgl3aWR0aDogMzAwcHg7CgliYWNrZ3JvdW5kLWNvbG9yOiAjRUVEOwoJbWFyZ2luLWxlZnQ6IC0xNTBweDsKCXBhZGRpbmc6IDVweDsKCQp9", "content_type": "text/css"}, "pouchdb.authentication.min.js": {"data": "IWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlBvdWNoQXV0aGVudGljYXRpb249ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFuW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYz1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYy5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixjfXZhciBmPW5bc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtzXVsxXVtlXTtyZXR1cm4gbyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPHIubGVuZ3RoO3MrKylvKHJbc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRVcmw/ZS5nZXRVcmwoKS5yZXBsYWNlKC9cL1teXC9dK1wvPyQvLCIiKTplLm5hbWUucmVwbGFjZSgvXC9bXlwvXStcLz8kLywiIil9dmFyIG89ZSgxMyksaT1lKDE2KTtuLmdldFVzZXJzVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBpKHIoZSksIi9fdXNlcnMiKX0sbi5nZXRTZXNzaW9uVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBpKHIoZSksIi9fc2Vzc2lvbiIpfSxuLm9uY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJuIG4uZ2V0QXJndW1lbnRzKGZ1bmN0aW9uKG4pe2lmKHQpdGhyb3cgY29uc29sZS50cmFjZSgpLG5ldyBFcnJvcigib25jZSBjYWxsZWQgIG1vcmUgdGhhbiBvbmNlIik7dD0hMCxlLmFwcGx5KHRoaXMsbil9KX0sbi5nZXRBcmd1bWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCkscj0tMTsrK3I8dDspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuIGUuY2FsbCh0aGlzLG4pfX0sbi50b1Byb21pc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0QXJndW1lbnRzKGZ1bmN0aW9uKHIpe3ZhciBpLHM9dGhpcyxhPSJmdW5jdGlvbiI9PXR5cGVvZiByW3IubGVuZ3RoLTFdJiZyLnBvcCgpO2EmJihpPWZ1bmN0aW9uKGUsbil7dC5uZXh0VGljayhmdW5jdGlvbigpe2EoZSxuKX0pfSk7dmFyIHU9bmV3IG8oZnVuY3Rpb24odCxvKXt0cnl7dmFyIGk9bi5vbmNlKGZ1bmN0aW9uKGUsbil7ZT9vKGUpOnQobil9KTtyLnB1c2goaSksZS5hcHBseShzLHIpfWNhdGNoKGUpe28oZSl9fSk7cmV0dXJuIGkmJnUudGhlbihmdW5jdGlvbihlKXtpKG51bGwsZSl9LGkpLHUuY2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHV9KX0sbi5pbmhlcml0cz1lKDcpLG4uZXh0ZW5kPWUoMTIpLG4uYWpheD1lKDExKSxuLmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiBuLmV4dGVuZCghMCx7fSxlKX0sbi51dWlkPWUoMTQpLnV1aWQsbi5Qcm9taXNlPW99KS5jYWxsKHRoaXMsZSgxNSkpfSx7MTE6MTEsMTI6MTIsMTM6MTMsMTQ6MTQsMTU6MTUsMTY6MTYsNzo3fV0sMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg7aWYodCl7Zm9yKHZhciBuPVtdLHI9LTE7KytyPHQ7KW5bcl09YXJndW1lbnRzW3JdO3JldHVybiBlLmNhbGwodGhpcyxuKX1yZXR1cm4gZS5jYWxsKHRoaXMsW10pfX10LmV4cG9ydHM9cn0se31dLDM6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7cmV0dXJuIldlYmtpdEFwcGVhcmFuY2UiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlfHx3aW5kb3cuY29uc29sZSYmKGNvbnNvbGUuZmlyZWJ1Z3x8Y29uc29sZS5leGNlcHRpb24mJmNvbnNvbGUudGFibGUpfHxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcLyhcZCspLykmJnBhcnNlSW50KFJlZ0V4cC4kMSwxMCk+PTMxfWZ1bmN0aW9uIG8oKXt2YXIgZT1hcmd1bWVudHMsdD10aGlzLnVzZUNvbG9ycztpZihlWzBdPSh0PyIlYyI6IiIpK3RoaXMubmFtZXNwYWNlKyh0PyIgJWMiOiIgIikrZVswXSsodD8iJWMgIjoiICIpKyIrIituLmh1bWFuaXplKHRoaXMuZGlmZiksIXQpcmV0dXJuIGU7dmFyIHI9ImNvbG9yOiAiK3RoaXMuY29sb3I7ZT1bZVswXSxyLCJjb2xvcjogaW5oZXJpdCJdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDEpKTt2YXIgbz0wLGk9MDtyZXR1cm4gZVswXS5yZXBsYWNlKC8lW2EteiVdL2csZnVuY3Rpb24oZSl7IiUlIiE9PWUmJihvKyssIiVjIj09PWUmJihpPW8pKX0pLGUuc3BsaWNlKGksMCxyKSxlfWZ1bmN0aW9uIGkoKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyhlKXt0cnl7bnVsbD09ZT9uLnN0b3JhZ2UucmVtb3ZlSXRlbSgiZGVidWciKTpuLnN0b3JhZ2UuZGVidWc9ZX1jYXRjaChlKXt9fWZ1bmN0aW9uIGEoKXt2YXIgZTt0cnl7ZT1uLnN0b3JhZ2UuZGVidWd9Y2F0Y2goZSl7fXJldHVybiBlfWZ1bmN0aW9uIHUoKXt0cnl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2V9Y2F0Y2goZSl7fX1uPXQuZXhwb3J0cz1lKDQpLG4ubG9nPWksbi5mb3JtYXRBcmdzPW8sbi5zYXZlPXMsbi5sb2FkPWEsbi51c2VDb2xvcnM9cixuLnN0b3JhZ2U9InVuZGVmaW5lZCIhPXR5cGVvZiBjaHJvbWUmJiJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2U/Y2hyb21lLnN0b3JhZ2UubG9jYWw6dSgpLG4uY29sb3JzPVsibGlnaHRzZWFncmVlbiIsImZvcmVzdGdyZWVuIiwiZ29sZGVucm9kIiwiZG9kZ2VyYmx1ZSIsImRhcmtvcmNoaWQiLCJjcmltc29uIl0sbi5mb3JtYXR0ZXJzLmo9ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfSxuLmVuYWJsZShhKCkpfSx7NDo0fV0sNDpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXtyZXR1cm4gbi5jb2xvcnNbZisrJW4uY29sb3JzLmxlbmd0aF19ZnVuY3Rpb24gbyhlKXtmdW5jdGlvbiB0KCl7fWZ1bmN0aW9uIG8oKXt2YXIgZT1vLHQ9K25ldyBEYXRlLGk9dC0oY3x8dCk7ZS5kaWZmPWksZS5wcmV2PWMsZS5jdXJyPXQsYz10LG51bGw9PWUudXNlQ29sb3JzJiYoZS51c2VDb2xvcnM9bi51c2VDb2xvcnMoKSksbnVsbD09ZS5jb2xvciYmZS51c2VDb2xvcnMmJihlLmNvbG9yPXIoKSk7dmFyIHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtzWzBdPW4uY29lcmNlKHNbMF0pLCJzdHJpbmciIT10eXBlb2Ygc1swXSYmKHM9WyIlbyJdLmNvbmNhdChzKSk7dmFyIGE9MDtzWzBdPXNbMF0ucmVwbGFjZSgvJShbYS16JV0pL2csZnVuY3Rpb24odCxyKXtpZigiJSUiPT09dClyZXR1cm4gdDthKys7dmFyIG89bi5mb3JtYXR0ZXJzW3JdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBvKXt2YXIgaT1zW2FdO3Q9by5jYWxsKGUsaSkscy5zcGxpY2UoYSwxKSxhLS19cmV0dXJuIHR9KSwiZnVuY3Rpb24iPT10eXBlb2Ygbi5mb3JtYXRBcmdzJiYocz1uLmZvcm1hdEFyZ3MuYXBwbHkoZSxzKSk7dmFyIHU9by5sb2d8fG4ubG9nfHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO3UuYXBwbHkoZSxzKX10LmVuYWJsZWQ9ITEsby5lbmFibGVkPSEwO3ZhciBpPW4uZW5hYmxlZChlKT9vOnQ7cmV0dXJuIGkubmFtZXNwYWNlPWUsaX1mdW5jdGlvbiBpKGUpe24uc2F2ZShlKTtmb3IodmFyIHQ9KGV8fCIiKS5zcGxpdCgvW1xzLF0rLykscj10Lmxlbmd0aCxvPTA7bzxyO28rKyl0W29dJiYoZT10W29dLnJlcGxhY2UoL1wqL2csIi4qPyIpLCItIj09PWVbMF0/bi5za2lwcy5wdXNoKG5ldyBSZWdFeHAoIl4iK2Uuc3Vic3RyKDEpKyIkIikpOm4ubmFtZXMucHVzaChuZXcgUmVnRXhwKCJeIitlKyIkIikpKX1mdW5jdGlvbiBzKCl7bi5lbmFibGUoIiIpfWZ1bmN0aW9uIGEoZSl7dmFyIHQscjtmb3IodD0wLHI9bi5za2lwcy5sZW5ndGg7dDxyO3QrKylpZihuLnNraXBzW3RdLnRlc3QoZSkpcmV0dXJuITE7Zm9yKHQ9MCxyPW4ubmFtZXMubGVuZ3RoO3Q8cjt0KyspaWYobi5uYW1lc1t0XS50ZXN0KGUpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBFcnJvcj9lLnN0YWNrfHxlLm1lc3NhZ2U6ZX1uPXQuZXhwb3J0cz1vLG4uY29lcmNlPXUsbi5kaXNhYmxlPXMsbi5lbmFibGU9aSxuLmVuYWJsZWQ9YSxuLmh1bWFuaXplPWUoMTApLG4ubmFtZXM9W10sbi5za2lwcz1bXSxuLmZvcm1hdHRlcnM9e307dmFyIGMsZj0wfSx7MTA6MTB9XSw1OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBvKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZX1mdW5jdGlvbiBhKGUpe3JldHVybiB2b2lkIDA9PT1lfXQuZXhwb3J0cz1yLHIuRXZlbnRFbWl0dGVyPXIsci5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsci5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsci5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLHIucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZighaShlKXx8ZTwwfHxpc05hTihlKSl0aHJvdyBUeXBlRXJyb3IoIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLHUsYztpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLCJlcnJvciI9PT1lJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8cyh0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKHQ9YXJndW1lbnRzWzFdLHQgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3ZhciBmPW5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuICgnK3QrIikiKTt0aHJvdyBmLmNvbnRleHQ9dCxmfWlmKG49dGhpcy5fZXZlbnRzW2VdLGEobikpcmV0dXJuITE7aWYobyhuKSlzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOm4uY2FsbCh0aGlzKTticmVhaztjYXNlIDI6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDppPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuLmFwcGx5KHRoaXMsaSl9ZWxzZSBpZihzKG4pKWZvcihpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjPW4uc2xpY2UoKSxyPWMubGVuZ3RoLHU9MDt1PHI7dSsrKWNbdV0uYXBwbHkodGhpcyxpKTtyZXR1cm4hMH0sci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZighbyh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KCJuZXdMaXN0ZW5lciIsZSxvKHQubGlzdGVuZXIpP3QubGlzdGVuZXI6dCksdGhpcy5fZXZlbnRzW2VdP3ModGhpcy5fZXZlbnRzW2VdKT90aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RoaXMuX2V2ZW50c1tlXSx0XTp0aGlzLl9ldmVudHNbZV09dCxzKHRoaXMuX2V2ZW50c1tlXSkmJiF0aGlzLl9ldmVudHNbZV0ud2FybmVkJiYobj1hKHRoaXMuX21heExpc3RlbmVycyk/ci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycyxuJiZuPjAmJnRoaXMuX2V2ZW50c1tlXS5sZW5ndGg+biYmKHRoaXMuX2V2ZW50c1tlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcigiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4iLHRoaXMuX2V2ZW50c1tlXS5sZW5ndGgpLCJmdW5jdGlvbiI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpKSx0aGlzfSxyLnByb3RvdHlwZS5vbj1yLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKSxyfHwocj0hMCx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgcj0hMTtyZXR1cm4gbi5saXN0ZW5lcj10LHRoaXMub24oZSxuKSx0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxhO2lmKCFvKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1tlXSlyZXR1cm4gdGhpcztpZihuPXRoaXMuX2V2ZW50c1tlXSxpPW4ubGVuZ3RoLHI9LTEsbj09PXR8fG8obi5saXN0ZW5lcikmJm4ubGlzdGVuZXI9PT10KWRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIixlLHQpO2Vsc2UgaWYocyhuKSl7Zm9yKGE9aTthLS0gPjA7KWlmKG5bYV09PT10fHxuW2FdLmxpc3RlbmVyJiZuW2FdLmxpc3RlbmVyPT09dCl7cj1hO2JyZWFrfWlmKHI8MClyZXR1cm4gdGhpczsxPT09bi5sZW5ndGg/KG4ubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSk6bi5zcGxpY2UociwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsdCl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1tlXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodCBpbiB0aGlzLl9ldmVudHMpInJlbW92ZUxpc3RlbmVyIiE9PXQmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVtb3ZlTGlzdGVuZXIiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihuPXRoaXMuX2V2ZW50c1tlXSxvKG4pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKTtlbHNlIGlmKG4pZm9yKDtuLmxlbmd0aDspdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG5bbi5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXT9vKHRoaXMuX2V2ZW50c1tlXSk/W3RoaXMuX2V2ZW50c1tlXV06dGhpcy5fZXZlbnRzW2VdLnNsaWNlKCk6W119LHIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZXZlbnRzKXt2YXIgdD10aGlzLl9ldmVudHNbZV07aWYobyh0KSlyZXR1cm4gMTtpZih0KXJldHVybiB0Lmxlbmd0aH1yZXR1cm4gMH0sci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXJDb3VudCh0KX19LHt9XSw2OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKCl7Zj0hMDtmb3IodmFyIGUsdCxuPWwubGVuZ3RoO247KXtmb3IodD1sLGw9W10sZT0tMTsrK2U8bjspdFtlXSgpO249bC5sZW5ndGh9Zj0hMX1mdW5jdGlvbiByKGUpezEhPT1sLnB1c2goZSl8fGZ8fG8oKX12YXIgbyxpPWUuTXV0YXRpb25PYnNlcnZlcnx8ZS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO2lmKGkpe3ZhciBzPTAsYT1uZXcgaShuKSx1PWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO2Eub2JzZXJ2ZSh1LHtjaGFyYWN0ZXJEYXRhOiEwfSksbz1mdW5jdGlvbigpe3UuZGF0YT1zPSsrcyUyfX1lbHNlIGlmKGUuc2V0SW1tZWRpYXRlfHwidW5kZWZpbmVkIj09dHlwZW9mIGUuTWVzc2FnZUNoYW5uZWwpbz0iZG9jdW1lbnQiaW4gZSYmIm9ucmVhZHlzdGF0ZWNoYW5nZSJpbiBlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe24oKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9LGUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHQpfTpmdW5jdGlvbigpe3NldFRpbWVvdXQobiwwKX07ZWxzZXt2YXIgYz1uZXcgZS5NZXNzYWdlQ2hhbm5lbDtjLnBvcnQxLm9ubWVzc2FnZT1uLG89ZnVuY3Rpb24oKXtjLnBvcnQyLnBvc3RNZXNzYWdlKDApfX12YXIgZixsPVtdO3QuZXhwb3J0cz1yfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNzpbZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9OnQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQ7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBuLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fSx7fV0sODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtlKCJvYmplY3QiPT10eXBlb2Ygbj9uOnRoaXMpfSkuY2FsbCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZSxuPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLHI9ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPXR5cGVvZiBlKXRocm93IGUrIiBpcyBub3QgYW4gb2JqZWN0Ijt2YXIgbz10LmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBuLmNhbGwobyxmdW5jdGlvbih0KXtpZih0KWZvcih2YXIgbiBpbiB0KSJvYmplY3QiPT10eXBlb2YgdFtuXSYmZVtuXT9yLmNhbGwoZSxlW25dLHRbbl0pOmVbbl09dFtuXX0pLGV9O2UuZXh0ZW5kPXJ9KX0se31dLDk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoInJlc29sdmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3RoaXMuc3RhdGU9Zyx0aGlzLnF1ZXVlPVtdLHRoaXMub3V0Y29tZT12b2lkIDAsZSE9PXImJnUodGhpcyxlKX1mdW5jdGlvbiBpKGUsdCxuKXt0aGlzLnByb21pc2U9ZSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHRoaXMub25GdWxmaWxsZWQ9dCx0aGlzLmNhbGxGdWxmaWxsZWQ9dGhpcy5vdGhlckNhbGxGdWxmaWxsZWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBuJiYodGhpcy5vblJlamVjdGVkPW4sdGhpcy5jYWxsUmVqZWN0ZWQ9dGhpcy5vdGhlckNhbGxSZWplY3RlZCl9ZnVuY3Rpb24gcyhlLHQsbil7cChmdW5jdGlvbigpe3ZhciByO3RyeXtyPXQobil9Y2F0Y2godCl7cmV0dXJuIHkucmVqZWN0KGUsdCl9cj09PWU/eS5yZWplY3QoZSxuZXcgVHlwZUVycm9yKCJDYW5ub3QgcmVzb2x2ZSBwcm9taXNlIHdpdGggaXRzZWxmIikpOnkucmVzb2x2ZShlLHIpfSl9ZnVuY3Rpb24gYShlKXt2YXIgdD1lJiZlLnRoZW47aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgdClyZXR1cm4gZnVuY3Rpb24oKXt0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gdShlLHQpe2Z1bmN0aW9uIG4odCl7aXx8KGk9ITAseS5yZWplY3QoZSx0KSl9ZnVuY3Rpb24gcih0KXtpfHwoaT0hMCx5LnJlc29sdmUoZSx0KSl9ZnVuY3Rpb24gbygpe3QocixuKX12YXIgaT0hMSxzPWMobyk7ImVycm9yIj09PXMuc3RhdHVzJiZuKHMudmFsdWUpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj17fTt0cnl7bi52YWx1ZT1lKHQpLG4uc3RhdHVzPSJzdWNjZXNzIn1jYXRjaChlKXtuLnN0YXR1cz0iZXJyb3IiLG4udmFsdWU9ZX1yZXR1cm4gbn1mdW5jdGlvbiBmKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdGhpcz9lOnkucmVzb2x2ZShuZXcgdGhpcyhyKSxlKX1mdW5jdGlvbiBsKGUpe3ZhciB0PW5ldyB0aGlzKHIpO3JldHVybiB5LnJlamVjdCh0LGUpfWZ1bmN0aW9uIGQoZSl7ZnVuY3Rpb24gdChlLHQpe2Z1bmN0aW9uIHIoZSl7c1t0XT1lLCsrYSE9PW98fGl8fChpPSEwLHkucmVzb2x2ZShjLHMpKX1uLnJlc29sdmUoZSkudGhlbihyLGZ1bmN0aW9uKGUpe2l8fChpPSEwLHkucmVqZWN0KGMsZSkpfSl9dmFyIG49dGhpcztpZigiW29iamVjdCBBcnJheV0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKCJtdXN0IGJlIGFuIGFycmF5IikpO3ZhciBvPWUubGVuZ3RoLGk9ITE7aWYoIW8pcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7Zm9yKHZhciBzPW5ldyBBcnJheShvKSxhPTAsdT0tMSxjPW5ldyB0aGlzKHIpOysrdTxvOyl0KGVbdV0sdSk7cmV0dXJuIGN9ZnVuY3Rpb24gaChlKXtmdW5jdGlvbiB0KGUpe24ucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2l8fChpPSEwLHkucmVzb2x2ZShhLGUpKX0sZnVuY3Rpb24oZSl7aXx8KGk9ITAseS5yZWplY3QoYSxlKSl9KX12YXIgbj10aGlzO2lmKCJbb2JqZWN0IEFycmF5XSIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoIm11c3QgYmUgYW4gYXJyYXkiKSk7dmFyIG89ZS5sZW5ndGgsaT0hMTtpZighbylyZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtmb3IodmFyIHM9LTEsYT1uZXcgdGhpcyhyKTsrK3M8bzspdChlW3NdKTtyZXR1cm4gYX12YXIgcD1lKDYpLHk9e30sdj1bIlJFSkVDVEVEIl0sbT1bIkZVTEZJTExFRCJdLGc9WyJQRU5ESU5HIl07dC5leHBvcnRzPW8sby5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfSxvLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUmJnRoaXMuc3RhdGU9PT1tfHwiZnVuY3Rpb24iIT10eXBlb2YgdCYmdGhpcy5zdGF0ZT09PXYpcmV0dXJuIHRoaXM7dmFyIG49bmV3IHRoaXMuY29uc3RydWN0b3Iocik7aWYodGhpcy5zdGF0ZSE9PWcpe3ZhciBvPXRoaXMuc3RhdGU9PT1tP2U6dDtzKG4sbyx0aGlzLm91dGNvbWUpfWVsc2UgdGhpcy5xdWV1ZS5wdXNoKG5ldyBpKG4sZSx0KSk7cmV0dXJuIG59LGkucHJvdG90eXBlLmNhbGxGdWxmaWxsZWQ9ZnVuY3Rpb24oZSl7eS5yZXNvbHZlKHRoaXMucHJvbWlzZSxlKX0saS5wcm90b3R5cGUub3RoZXJDYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKGUpe3ModGhpcy5wcm9taXNlLHRoaXMub25GdWxmaWxsZWQsZSl9LGkucHJvdG90eXBlLmNhbGxSZWplY3RlZD1mdW5jdGlvbihlKXt5LnJlamVjdCh0aGlzLnByb21pc2UsZSl9LGkucHJvdG90eXBlLm90aGVyQ2FsbFJlamVjdGVkPWZ1bmN0aW9uKGUpe3ModGhpcy5wcm9taXNlLHRoaXMub25SZWplY3RlZCxlKX0seS5yZXNvbHZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49YyhhLHQpO2lmKCJlcnJvciI9PT1uLnN0YXR1cylyZXR1cm4geS5yZWplY3QoZSxuLnZhbHVlKTt2YXIgcj1uLnZhbHVlO2lmKHIpdShlLHIpO2Vsc2V7ZS5zdGF0ZT1tLGUub3V0Y29tZT10O2Zvcih2YXIgbz0tMSxpPWUucXVldWUubGVuZ3RoOysrbzxpOyllLnF1ZXVlW29dLmNhbGxGdWxmaWxsZWQodCl9cmV0dXJuIGV9LHkucmVqZWN0PWZ1bmN0aW9uKGUsdCl7ZS5zdGF0ZT12LGUub3V0Y29tZT10O2Zvcih2YXIgbj0tMSxyPWUucXVldWUubGVuZ3RoOysrbjxyOyllLnF1ZXVlW25dLmNhbGxSZWplY3RlZCh0KTtyZXR1cm4gZX0sby5yZXNvbHZlPWYsby5yZWplY3Q9bCxvLmFsbD1kLG8ucmFjZT1ofSx7Njo2fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUpe2lmKGU9IiIrZSwhKGUubGVuZ3RoPjFlNCkpe3ZhciB0PS9eKCg/OlxkKyk/XC4/XGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoZSk7aWYodCl7dmFyIG49cGFyc2VGbG9hdCh0WzFdKSxyPSh0WzJdfHwibXMiKS50b0xvd2VyQ2FzZSgpO3N3aXRjaChyKXtjYXNlInllYXJzIjpjYXNlInllYXIiOmNhc2UieXJzIjpjYXNlInlyIjpjYXNlInkiOnJldHVybiBuKmw7Y2FzZSJkYXlzIjpjYXNlImRheSI6Y2FzZSJkIjpyZXR1cm4gbipmO2Nhc2UiaG91cnMiOmNhc2UiaG91ciI6Y2FzZSJocnMiOmNhc2UiaHIiOmNhc2UiaCI6cmV0dXJuIG4qYztjYXNlIm1pbnV0ZXMiOmNhc2UibWludXRlIjpjYXNlIm1pbnMiOmNhc2UibWluIjpjYXNlIm0iOnJldHVybiBuKnU7Y2FzZSJzZWNvbmRzIjpjYXNlInNlY29uZCI6Y2FzZSJzZWNzIjpjYXNlInNlYyI6Y2FzZSJzIjpyZXR1cm4gbiphO2Nhc2UibWlsbGlzZWNvbmRzIjpjYXNlIm1pbGxpc2Vjb25kIjpjYXNlIm1zZWNzIjpjYXNlIm1zZWMiOmNhc2UibXMiOnJldHVybiBufX19fWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGU+PWY/TWF0aC5yb3VuZChlL2YpKyJkIjplPj1jP01hdGgucm91bmQoZS9jKSsiaCI6ZT49dT9NYXRoLnJvdW5kKGUvdSkrIm0iOmU+PWE/TWF0aC5yb3VuZChlL2EpKyJzIjplKyJtcyJ9ZnVuY3Rpb24gaShlKXtyZXR1cm4gcyhlLGYsImRheSIpfHxzKGUsYywiaG91ciIpfHxzKGUsdSwibWludXRlIil8fHMoZSxhLCJzZWNvbmQiKXx8ZSsiIG1zIn1mdW5jdGlvbiBzKGUsdCxuKXtpZighKGU8dCkpcmV0dXJuIGU8MS41KnQ/TWF0aC5mbG9vcihlL3QpKyIgIituOk1hdGguY2VpbChlL3QpKyIgIituKyJzIn12YXIgYT0xZTMsdT02MCphLGM9NjAqdSxmPTI0KmMsbD0zNjUuMjUqZjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHx7fSwic3RyaW5nIj09dHlwZW9mIGU/cihlKTp0Lmxvbmc/aShlKTpvKGUpfX0se31dLDExOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJiJvYmplY3QiPT10eXBlb2YgZSYmImRlZmF1bHQiaW4gZT9lLmRlZmF1bHQ6ZX1mdW5jdGlvbiBvKGUsdCl7ZT1lfHxbXSx0PXR8fHt9O3RyeXtyZXR1cm4gbmV3IEJsb2IoZSx0KX1jYXRjaChpKXtpZigiVHlwZUVycm9yIiE9PWkubmFtZSl0aHJvdyBpO2Zvcih2YXIgbj0idW5kZWZpbmVkIiE9dHlwZW9mIEJsb2JCdWlsZGVyP0Jsb2JCdWlsZGVyOiJ1bmRlZmluZWQiIT10eXBlb2YgTVNCbG9iQnVpbGRlcj9NU0Jsb2JCdWlsZGVyOiJ1bmRlZmluZWQiIT10eXBlb2YgTW96QmxvYkJ1aWxkZXI/TW96QmxvYkJ1aWxkZXI6V2ViS2l0QmxvYkJ1aWxkZXIscj1uZXcgbixvPTA7bzxlLmxlbmd0aDtvKz0xKXIuYXBwZW5kKGVbb10pO3JldHVybiByLmdldEJsb2IodC50eXBlKX19ZnVuY3Rpb24gaShlLHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgRmlsZVJlYWRlcilyZXR1cm4gdCgobmV3IEZpbGVSZWFkZXJTeW5jKS5yZWFkQXNBcnJheUJ1ZmZlcihlKSk7dmFyIG49bmV3IEZpbGVSZWFkZXI7bi5vbmxvYWRlbmQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0fHxuZXcgQXJyYXlCdWZmZXIoMCk7dChuKX0sbi5yZWFkQXNBcnJheUJ1ZmZlcihlKX1mdW5jdGlvbiBzKCl7Zm9yKHZhciBlPXt9LHQ9bmV3IEEoZnVuY3Rpb24odCxuKXtlLnJlc29sdmU9dCxlLnJlamVjdD1ufSksbj1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCkscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybiBlLnByb21pc2U9dCxBLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGZldGNoLmFwcGx5KG51bGwsbil9KS50aGVuKGZ1bmN0aW9uKHQpe2UucmVzb2x2ZSh0KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2UucmVqZWN0KHQpfSksZX1mdW5jdGlvbiBhKGUsdCl7dmFyIG4scixvLGE9bmV3IEhlYWRlcnMsdT17bWV0aG9kOmUubWV0aG9kLGNyZWRlbnRpYWxzOiJpbmNsdWRlIixoZWFkZXJzOmF9O3JldHVybiBlLmpzb24mJihhLnNldCgiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiIpLGEuc2V0KCJDb250ZW50LVR5cGUiLGUuaGVhZGVyc1siQ29udGVudC1UeXBlIl18fCJhcHBsaWNhdGlvbi9qc29uIikpLGUuYm9keSYmZS5ib2R5IGluc3RhbmNlb2YgQmxvYj9pKGUuYm9keSxmdW5jdGlvbihlKXt1LmJvZHk9ZX0pOmUuYm9keSYmZS5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBlLmJvZHk/dS5ib2R5PUpTT04uc3RyaW5naWZ5KGUuYm9keSk6ImJvZHkiaW4gZT91LmJvZHk9ZS5ib2R5OnUuYm9keT1udWxsLE9iamVjdC5rZXlzKGUuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbih0KXtlLmhlYWRlcnMuaGFzT3duUHJvcGVydHkodCkmJmEuc2V0KHQsZS5oZWFkZXJzW3RdKX0pLG49cyhlLnVybCx1KSxlLnRpbWVvdXQ+MCYmKHI9c2V0VGltZW91dChmdW5jdGlvbigpe24ucmVqZWN0KG5ldyBFcnJvcigiTG9hZCB0aW1lb3V0IGZvciByZXNvdXJjZTogIitlLnVybCkpfSxlLnRpbWVvdXQpKSxuLnByb21pc2UudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbz17c3RhdHVzQ29kZTp0LnN0YXR1c30sZS50aW1lb3V0PjAmJmNsZWFyVGltZW91dChyKSxvLnN0YXR1c0NvZGU+PTIwMCYmby5zdGF0dXNDb2RlPDMwMD9lLmJpbmFyeT90LmJsb2IoKTp0LnRleHQoKTp0Lmpzb24oKX0pLnRoZW4oZnVuY3Rpb24oZSl7by5zdGF0dXNDb2RlPj0yMDAmJm8uc3RhdHVzQ29kZTwzMDA/dChudWxsLG8sZSk6dChlLG8pfSkuY2F0Y2goZnVuY3Rpb24oZSl7dChlLG8pfSkse2Fib3J0Om4ucmVqZWN0fX1mdW5jdGlvbiB1KGUsdCl7dmFyIG4scixzPSExLGE9ZnVuY3Rpb24oKXtuLmFib3J0KCksZigpfSx1PWZ1bmN0aW9uKCl7cz0hMCxuLmFib3J0KCksZigpfSxjPXthYm9ydDphfSxmPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpLGMuYWJvcnQ9ZnVuY3Rpb24oKXt9LG4mJihuLm9ucHJvZ3Jlc3M9dm9pZCAwLG4udXBsb2FkJiYobi51cGxvYWQub25wcm9ncmVzcz12b2lkIDApLG4ub25yZWFkeXN0YXRlY2hhbmdlPXZvaWQgMCxuPXZvaWQgMCl9O249ZS54aHI/bmV3IGUueGhyOm5ldyBYTUxIdHRwUmVxdWVzdDt0cnl7bi5vcGVuKGUubWV0aG9kLGUudXJsKX1jYXRjaChlKXtyZXR1cm4gdChuZXcgRXJyb3IoZS5uYW1lfHwiVXJsIGlzIGludmFsaWQiKSl9bi53aXRoQ3JlZGVudGlhbHM9ISgid2l0aENyZWRlbnRpYWxzImluIGUpfHxlLndpdGhDcmVkZW50aWFscywiR0VUIj09PWUubWV0aG9kP2RlbGV0ZSBlLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdOmUuanNvbiYmKGUuaGVhZGVycy5BY2NlcHQ9ImFwcGxpY2F0aW9uL2pzb24iLGUuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ZS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXXx8ImFwcGxpY2F0aW9uL2pzb24iLGUuYm9keSYmZS5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBlLmJvZHkmJihlLmJvZHk9SlNPTi5zdHJpbmdpZnkoZS5ib2R5KSkpLGUuYmluYXJ5JiYobi5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIiksImJvZHkiaW4gZXx8KGUuYm9keT1udWxsKTtmb3IodmFyIGwgaW4gZS5oZWFkZXJzKWUuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShsKSYmbi5zZXRSZXF1ZXN0SGVhZGVyKGwsZS5oZWFkZXJzW2xdKTtyZXR1cm4gZS50aW1lb3V0PjAmJihyPXNldFRpbWVvdXQodSxlLnRpbWVvdXQpLG4ub25wcm9ncmVzcz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChyKSw0IT09bi5yZWFkeVN0YXRlJiYocj1zZXRUaW1lb3V0KHUsZS50aW1lb3V0KSl9LCJ1bmRlZmluZWQiIT10eXBlb2Ygbi51cGxvYWQmJihuLnVwbG9hZC5vbnByb2dyZXNzPW4ub25wcm9ncmVzcykpLG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PW4ucmVhZHlTdGF0ZSl7dmFyIHI9e3N0YXR1c0NvZGU6bi5zdGF0dXN9O2lmKG4uc3RhdHVzPj0yMDAmJm4uc3RhdHVzPDMwMCl7dmFyIGk7aT1lLmJpbmFyeT9vKFtuLnJlc3BvbnNlfHwiIl0se3R5cGU6bi5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIil9KTpuLnJlc3BvbnNlVGV4dCx0KG51bGwscixpKX1lbHNle3ZhciBhPXt9O2lmKHMpYT1uZXcgRXJyb3IoIkVUSU1FRE9VVCIpLGEuY29kZT0iRVRJTUVET1VUIjtlbHNlIGlmKCJzdHJpbmciPT10eXBlb2Ygbi5yZXNwb25zZSl0cnl7YT1KU09OLnBhcnNlKG4ucmVzcG9uc2UpfWNhdGNoKGUpe31hLnN0YXR1cz1uLnN0YXR1cyx0KGEpfWYoKX19LGUuYm9keSYmZS5ib2R5IGluc3RhbmNlb2YgQmxvYj9pKGUuYm9keSxmdW5jdGlvbihlKXtuLnNlbmQoZSl9KTpuLnNlbmQoZS5ib2R5KSxjfWZ1bmN0aW9uIGMoKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCwhMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gZihlLHQpe3JldHVybiBxfHxlLnhocj91KGUsdCk6YShlLHQpfWZ1bmN0aW9uIGwoZSl7RXJyb3IuY2FsbCh0aGlzLGUucmVhc29uKSx0aGlzLnN0YXR1cz1lLnN0YXR1cyx0aGlzLm5hbWU9ZS5lcnJvcix0aGlzLm1lc3NhZ2U9ZS5yZWFzb24sdGhpcy5lcnJvcj0hMH1mdW5jdGlvbiBkKGUpe2lmKCJvYmplY3QiIT10eXBlb2YgZSl7dmFyIHQ9ZTtlPVAsZS5kYXRhPXR9cmV0dXJuImVycm9yImluIGUmJiJjb25mbGljdCI9PT1lLmVycm9yJiYoZS5uYW1lPSJjb25mbGljdCIsZS5zdGF0dXM9NDA5KSwibmFtZSJpbiBlfHwoZS5uYW1lPWUuZXJyb3J8fCJ1bmtub3duIiksInN0YXR1cyJpbiBlfHwoZS5zdGF0dXM9NTAwKSwibWVzc2FnZSJpbiBlfHwoZS5tZXNzYWdlPWUubWVzc2FnZXx8ZS5yZWFzb24pLGV9ZnVuY3Rpb24gaChlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYiYmZSBpbnN0YW5jZW9mIEJsb2J9ZnVuY3Rpb24gcChlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5zbGljZSlyZXR1cm4gZS5zbGljZSgwKTt2YXIgdD1uZXcgQXJyYXlCdWZmZXIoZS5ieXRlTGVuZ3RoKSxuPW5ldyBVaW50OEFycmF5KHQpLHI9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIG4uc2V0KHIpLHR9ZnVuY3Rpb24geShlKXtpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIHAoZSk7dmFyIHQ9ZS5zaXplLG49ZS50eXBlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLnNsaWNlP2Uuc2xpY2UoMCx0LG4pOmUud2Via2l0U2xpY2UoMCx0LG4pfWZ1bmN0aW9uIHYoZSl7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKG51bGw9PT10KXJldHVybiEwO3ZhciBuPXQuY29uc3RydWN0b3I7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZCLmNhbGwobik9PUR9ZnVuY3Rpb24gbShlKXt2YXIgdCxuLHI7aWYoIWV8fCJvYmplY3QiIT10eXBlb2YgZSlyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodD1bXSxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXRbbl09bShlW25dKTtyZXR1cm4gdH1pZihlIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gZS50b0lTT1N0cmluZygpO2lmKGgoZSkpcmV0dXJuIHkoZSk7aWYoIXYoZSkpcmV0dXJuIGU7dD17fTtmb3IobiBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pKXt2YXIgbz1tKGVbbl0pOyJ1bmRlZmluZWQiIT10eXBlb2YgbyYmKHRbbl09byl9cmV0dXJuIHR9ZnVuY3Rpb24gZyhlLHQpe2Zvcih2YXIgbj17fSxyPTAsbz10Lmxlbmd0aDtyPG87cisrKXt2YXIgaT10W3JdO2kgaW4gZSYmKG5baV09ZVtpXSl9cmV0dXJuIG59ZnVuY3Rpb24gdygpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiYidW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZS5zdG9yYWdlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZS5zdG9yYWdlLmxvY2FsfWZ1bmN0aW9uIGIoKXtyZXR1cm4gVX1mdW5jdGlvbiBfKGUpe3coKT9jaHJvbWUuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24odCl7bnVsbCE9dC5kYl9uYW1lJiZlLmVtaXQodC5kYk5hbWUubmV3VmFsdWUpfSk6YigpJiYoInVuZGVmaW5lZCIhPXR5cGVvZiBhZGRFdmVudExpc3RlbmVyP2FkZEV2ZW50TGlzdGVuZXIoInN0b3JhZ2UiLGZ1bmN0aW9uKHQpe2UuZW1pdCh0LmtleSl9KTp3aW5kb3cuYXR0YWNoRXZlbnQoInN0b3JhZ2UiLGZ1bmN0aW9uKHQpe2UuZW1pdCh0LmtleSl9KSl9ZnVuY3Rpb24gaigpe0MuRXZlbnRFbWl0dGVyLmNhbGwodGhpcyksdGhpcy5fbGlzdGVuZXJzPXt9LF8odGhpcyl9ZnVuY3Rpb24geCgpe3JldHVybiIifWZ1bmN0aW9uIEUoZSx0KXtmdW5jdGlvbiBuKHQsbixyKXtpZighZS5iaW5hcnkmJmUuanNvbiYmInN0cmluZyI9PXR5cGVvZiB0KXRyeXt0PUpTT04ucGFyc2UodCl9Y2F0Y2goZSl7cmV0dXJuIHIoZSl9QXJyYXkuaXNBcnJheSh0KSYmKHQ9dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3J8fGUubWlzc2luZz9kKGUpOmV9KSksZS5iaW5hcnkmJk4odCxuKSxyKG51bGwsdCxuKX1lPW0oZSk7dmFyIHI9e21ldGhvZDoiR0VUIixoZWFkZXJzOnt9LGpzb246ITAscHJvY2Vzc0RhdGE6ITAsdGltZW91dDoxZTQsY2FjaGU6ITF9O3JldHVybiBlPVMuZXh0ZW5kKHIsZSksZS5qc29uJiYoZS5iaW5hcnl8fChlLmhlYWRlcnMuQWNjZXB0PSJhcHBsaWNhdGlvbi9qc29uIiksZS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT1lLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdfHwiYXBwbGljYXRpb24vanNvbiIpLGUuYmluYXJ5JiYoZS5lbmNvZGluZz1udWxsLGUuanNvbj0hMSksZS5wcm9jZXNzRGF0YXx8KGUuanNvbj0hMSksZihlLGZ1bmN0aW9uKHIsbyxpKXtpZihyKXJldHVybiB0KGQocikpO3ZhciBzLGE9by5oZWFkZXJzJiZvLmhlYWRlcnNbImNvbnRlbnQtdHlwZSJdLHU9aXx8eCgpO2lmKCFlLmJpbmFyeSYmKGUuanNvbnx8IWUucHJvY2Vzc0RhdGEpJiYib2JqZWN0IiE9dHlwZW9mIHUmJigvanNvbi8udGVzdChhKXx8L15bXHNdKlx7Ly50ZXN0KHUpJiYvXH1bXHNdKiQvLnRlc3QodSkpKXRyeXt1PUpTT04ucGFyc2UodS50b1N0cmluZygpKX1jYXRjaChlKXt9by5zdGF0dXNDb2RlPj0yMDAmJm8uc3RhdHVzQ29kZTwzMDA/bih1LG8sdCk6KHM9ZCh1KSxzLnN0YXR1cz1vLnN0YXR1c0NvZGUsdChzKSl9KX1mdW5jdGlvbiBUKGUsdCl7dmFyIG49bmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50P25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKToiIixyPW4uaW5kZXhPZigic2FmYXJpIikhPT0tMSYmbi5pbmRleE9mKCJjaHJvbWUiKT09PS0xLG89bi5pbmRleE9mKCJtc2llIikhPT0tMSxpPW4uaW5kZXhPZigiZWRnZSIpIT09LTEscz1yfHwob3x8aSkmJiJHRVQiPT09ZS5tZXRob2QsYT0hKCJjYWNoZSJpbiBlKXx8ZS5jYWNoZSx1PS9eYmxvYjovLnRlc3QoZS51cmwpO2lmKCF1JiYoc3x8IWEpKXt2YXIgYz1lLnVybC5pbmRleE9mKCI/IikhPT0tMTtlLnVybCs9KGM/IiYiOiI/IikrIl9ub25jZT0iK0RhdGUubm93KCl9cmV0dXJuIEUoZSx0KX12YXIgTz1yKGUoOSkpLFM9ZSg4KSxMPXIoZSg3KSksaz0ocihlKDIpKSxyKGUoMykpKSxDPWUoNSksQT0iZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOk8scT1jKCk7TChsLEVycm9yKSxsLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh7c3RhdHVzOnRoaXMuc3RhdHVzLG5hbWU6dGhpcy5uYW1lLG1lc3NhZ2U6dGhpcy5tZXNzYWdlLHJlYXNvbjp0aGlzLnJlYXNvbn0pfTt2YXIgVSxQPShuZXcgbCh7c3RhdHVzOjQwMSxlcnJvcjoidW5hdXRob3JpemVkIixyZWFzb246Ik5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0LiJ9KSxuZXcgbCh7c3RhdHVzOjQwMCxlcnJvcjoiYmFkX3JlcXVlc3QiLHJlYXNvbjoiTWlzc2luZyBKU09OIGxpc3Qgb2YgJ2RvY3MnIn0pLG5ldyBsKHtzdGF0dXM6NDA0LGVycm9yOiJub3RfZm91bmQiLHJlYXNvbjoibWlzc2luZyJ9KSxuZXcgbCh7c3RhdHVzOjQwOSxlcnJvcjoiY29uZmxpY3QiLHJlYXNvbjoiRG9jdW1lbnQgdXBkYXRlIGNvbmZsaWN0In0pLG5ldyBsKHtzdGF0dXM6NDAwLGVycm9yOiJiYWRfcmVxdWVzdCIscmVhc29uOiJfaWQgZmllbGQgbXVzdCBjb250YWluIGEgc3RyaW5nIn0pLG5ldyBsKHtzdGF0dXM6NDEyLGVycm9yOiJtaXNzaW5nX2lkIixyZWFzb246Il9pZCBpcyByZXF1aXJlZCBmb3IgcHV0cyJ9KSxuZXcgbCh7c3RhdHVzOjQwMCxlcnJvcjoiYmFkX3JlcXVlc3QiLHJlYXNvbjoiT25seSByZXNlcnZlZCBkb2N1bWVudCBpZHMgbWF5IHN0YXJ0IHdpdGggdW5kZXJzY29yZS4ifSksbmV3IGwoe3N0YXR1czo0MTIsZXJyb3I6InByZWNvbmRpdGlvbl9mYWlsZWQiLHJlYXNvbjoiRGF0YWJhc2Ugbm90IG9wZW4ifSksbmV3IGwoe3N0YXR1czo1MDAsZXJyb3I6InVua25vd25fZXJyb3IiLHJlYXNvbjoiRGF0YWJhc2UgZW5jb3VudGVyZWQgYW4gdW5rbm93biBlcnJvciJ9KSksQj0obmV3IGwoe3N0YXR1czo1MDAsZXJyb3I6ImJhZGFyZyIscmVhc29uOiJTb21lIHF1ZXJ5IGFyZ3VtZW50IGlzIGludmFsaWQifSksbmV3IGwoe3N0YXR1czo0MDAsZXJyb3I6ImludmFsaWRfcmVxdWVzdCIscmVhc29uOiJSZXF1ZXN0IHdhcyBpbnZhbGlkIn0pLG5ldyBsKHtzdGF0dXM6NDAwLGVycm9yOiJxdWVyeV9wYXJzZV9lcnJvciIscmVhc29uOiJTb21lIHF1ZXJ5IHBhcmFtZXRlciBpcyBpbnZhbGlkIn0pLG5ldyBsKHtzdGF0dXM6NTAwLGVycm9yOiJkb2NfdmFsaWRhdGlvbiIscmVhc29uOiJCYWQgc3BlY2lhbCBkb2N1bWVudCBtZW1iZXIifSksbmV3IGwoe3N0YXR1czo0MDAsZXJyb3I6ImJhZF9yZXF1ZXN0IixyZWFzb246IlNvbWV0aGluZyB3cm9uZyB3aXRoIHRoZSByZXF1ZXN0In0pLG5ldyBsKHtzdGF0dXM6NDAwLGVycm9yOiJiYWRfcmVxdWVzdCIscmVhc29uOiJEb2N1bWVudCBtdXN0IGJlIGEgSlNPTiBvYmplY3QifSksbmV3IGwoe3N0YXR1czo0MDQsZXJyb3I6Im5vdF9mb3VuZCIscmVhc29uOiJEYXRhYmFzZSBub3QgZm91bmQifSksbmV3IGwoe3N0YXR1czo1MDAsZXJyb3I6ImluZGV4ZWRfZGJfd2VudF9iYWQiLHJlYXNvbjoidW5rbm93biJ9KSxuZXcgbCh7c3RhdHVzOjUwMCxlcnJvcjoid2ViX3NxbF93ZW50X2JhZCIscmVhc29uOiJ1bmtub3duIn0pLG5ldyBsKHtzdGF0dXM6NTAwLGVycm9yOiJsZXZlbERCX3dlbnRfd2VudF9iYWQiLHJlYXNvbjoidW5rbm93biJ9KSxuZXcgbCh7c3RhdHVzOjQwMyxlcnJvcjoiZm9yYmlkZGVuIixyZWFzb246IkZvcmJpZGRlbiBieSBkZXNpZ24gZG9jIHZhbGlkYXRlX2RvY191cGRhdGUgZnVuY3Rpb24ifSksbmV3IGwoe3N0YXR1czo0MDAsZXJyb3I6ImJhZF9yZXF1ZXN0IixyZWFzb246IkludmFsaWQgcmV2IGZvcm1hdCJ9KSxuZXcgbCh7c3RhdHVzOjQxMixlcnJvcjoiZmlsZV9leGlzdHMiLHJlYXNvbjoiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjcmVhdGVkLCB0aGUgZmlsZSBhbHJlYWR5IGV4aXN0cy4ifSksbmV3IGwoe3N0YXR1czo0MTIsZXJyb3I6Im1pc3Npbmdfc3R1YiJ9KSxuZXcgbCh7c3RhdHVzOjQxMyxlcnJvcjoiaW52YWxpZF91cmwiLHJlYXNvbjoiUHJvdmlkZWQgVVJMIGlzIGludmFsaWQifSksRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nKSxEPUIuY2FsbChPYmplY3QpO2soInBvdWNoZGI6YXBpIik7aWYodygpKVU9ITE7ZWxzZSB0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oIl9wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UiLDEpLFU9ISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZSIpfWNhdGNoKGUpe1U9ITF9TChqLEMuRXZlbnRFbWl0dGVyKSxqLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQsbixyKXtmdW5jdGlvbiBvKCl7ZnVuY3Rpb24gZSgpe3M9ITF9aWYoaS5fbGlzdGVuZXJzW3RdKXtpZihzKXJldHVybiB2b2lkKHM9IndhaXRpbmciKTtzPSEwO3ZhciBhPWcocixbInN0eWxlIiwiaW5jbHVkZV9kb2NzIiwiYXR0YWNobWVudHMiLCJjb25mbGljdHMiLCJmaWx0ZXIiLCJkb2NfaWRzIiwidmlldyIsInNpbmNlIiwicXVlcnlfcGFyYW1zIiwiYmluYXJ5Il0pO24uY2hhbmdlcyhhKS5vbigiY2hhbmdlIixmdW5jdGlvbihlKXtlLnNlcT5yLnNpbmNlJiYhci5jYW5jZWxsZWQmJihyLnNpbmNlPWUuc2VxLHIub25DaGFuZ2UoZSkpfSkub24oImNvbXBsZXRlIixmdW5jdGlvbigpeyJ3YWl0aW5nIj09PXMmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtvKCl9LDApLHM9ITF9KS5vbigiZXJyb3IiLGUpfX1pZighdGhpcy5fbGlzdGVuZXJzW3RdKXt2YXIgaT10aGlzLHM9ITE7dGhpcy5fbGlzdGVuZXJzW3RdPW8sdGhpcy5vbihlLG8pfX0sai5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt0IGluIHRoaXMuX2xpc3RlbmVycyYmKEMuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsZSx0aGlzLl9saXN0ZW5lcnNbdF0pLGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbdF0pfSxqLnByb3RvdHlwZS5ub3RpZnlMb2NhbFdpbmRvd3M9ZnVuY3Rpb24oZSl7dygpP2Nocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7ZGJOYW1lOmV9KTpiKCkmJihsb2NhbFN0b3JhZ2VbZV09ImEiPT09bG9jYWxTdG9yYWdlW2VdPyJiIjoiYSIpfSxqLnByb3RvdHlwZS5ub3RpZnk9ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KGUpLHRoaXMubm90aWZ5TG9jYWxXaW5kb3dzKGUpfTt2YXIgTj0oIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Ii5zcGxpdCgiIiksZnVuY3Rpb24oKXt9KTt0LmV4cG9ydHM9VH0sezI6MiwzOjMsNTo1LDc6Nyw4OjgsOTo5fV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gbnVsbD09PWU/U3RyaW5nKGUpOiJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGU/Y1toLmNhbGwoZSldfHwib2JqZWN0Ijp0eXBlb2YgZX1mdW5jdGlvbiBvKGUpe3JldHVybiBudWxsIT09ZSYmZT09PWUud2luZG93fWZ1bmN0aW9uIGkoZSl7aWYoIWV8fCJvYmplY3QiIT09cihlKXx8ZS5ub2RlVHlwZXx8byhlKSlyZXR1cm4hMTt0cnl7aWYoZS5jb25zdHJ1Y3RvciYmIXAuY2FsbChlLCJjb25zdHJ1Y3RvciIpJiYhcC5jYWxsKGUuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpcmV0dXJuITF9Y2F0Y2goZSl7cmV0dXJuITF9dmFyIHQ7Zm9yKHQgaW4gZSk7cmV0dXJuIHZvaWQgMD09PXR8fHAuY2FsbChlLHQpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuImZ1bmN0aW9uIj09PXIoZSl9ZnVuY3Rpb24gYSgpe2Zvcih2YXIgZT1bXSx0PS0xLG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuKTsrK3Q8bjspclt0XT1hcmd1bWVudHNbdF07dmFyIG89e307ZS5wdXNoKHthcmdzOnIscmVzdWx0Ontjb250YWluZXI6byxrZXk6ImtleSJ9fSk7Zm9yKHZhciBpO2k9ZS5wb3AoKTspdShlLGkuYXJncyxpLnJlc3VsdCk7cmV0dXJuIG8ua2V5fWZ1bmN0aW9uIHUoZSx0LG4pe3ZhciByLG8sYSx1LGMsZixsLGQ9dFswXXx8e30saD0xLHA9dC5sZW5ndGgsdj0hMSxtPS9cZCsvO2ZvcigiYm9vbGVhbiI9PXR5cGVvZiBkJiYodj1kLGQ9dFsxXXx8e30saD0yKSwib2JqZWN0Ij09dHlwZW9mIGR8fHMoZCl8fChkPXt9KSxwPT09aCYmKGQ9dGhpcywtLWgpO2g8cDtoKyspaWYobnVsbCE9KHI9dFtoXSkpe2w9eShyKTtmb3IobyBpbiByKWlmKCEobyBpbiBPYmplY3QucHJvdG90eXBlKSl7aWYobCYmIW0udGVzdChvKSljb250aW51ZTtpZihhPWRbb10sdT1yW29dLGQ9PT11KWNvbnRpbnVlO3YmJnUmJihpKHUpfHwoYz15KHUpKSk/KGM/KGM9ITEsZj1hJiZ5KGEpP2E6W10pOmY9YSYmaShhKT9hOnt9LGUucHVzaCh7YXJnczpbdixmLHVdLHJlc3VsdDp7Y29udGFpbmVyOmQsa2V5Om99fSkpOnZvaWQgMCE9PXUmJih5KHIpJiZzKHUpfHwoZFtvXT11KSl9fW4uY29udGFpbmVyW24ua2V5XT1kfWZvcih2YXIgYz17fSxmPVsiQm9vbGVhbiIsIk51bWJlciIsIlN0cmluZyIsIkZ1bmN0aW9uIiwiQXJyYXkiLCJEYXRlIiwiUmVnRXhwIiwiT2JqZWN0IiwiRXJyb3IiXSxsPTA7bDxmLmxlbmd0aDtsKyspe3ZhciBkPWZbbF07Y1siW29iamVjdCAiK2QrIl0iXT1kLnRvTG93ZXJDYXNlKCl9dmFyIGg9Yy50b1N0cmluZyxwPWMuaGFzT3duUHJvcGVydHkseT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iYXJyYXkiPT09cihlKX07dC5leHBvcnRzPWF9LHt9XSwxMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZS5kZWZhdWx0OmV9dmFyIG89cihlKDkpKSxpPSJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlP1Byb21pc2U6bzt0LmV4cG9ydHM9aX0sezk6OX1dLDE0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZS5kZWZhdWx0OmV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYiYmZSBpbnN0YW5jZW9mIEJsb2J9ZnVuY3Rpb24gaShlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5zbGljZSlyZXR1cm4gZS5zbGljZSgwKTt2YXIgdD1uZXcgQXJyYXlCdWZmZXIoZS5ieXRlTGVuZ3RoKSxuPW5ldyBVaW50OEFycmF5KHQpLHI9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIG4uc2V0KHIpLHR9ZnVuY3Rpb24gcyhlKXtpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIGkoZSk7dmFyIHQ9ZS5zaXplLG49ZS50eXBlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLnNsaWNlP2Uuc2xpY2UoMCx0LG4pOmUud2Via2l0U2xpY2UoMCx0LG4pfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKG51bGw9PT10KXJldHVybiEwO3ZhciBuPXQuY29uc3RydWN0b3I7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZLLmNhbGwobik9PVZ9ZnVuY3Rpb24gdShlKXt2YXIgdCxuLHI7aWYoIWV8fCJvYmplY3QiIT10eXBlb2YgZSlyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodD1bXSxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXRbbl09dShlW25dKTtyZXR1cm4gdH1pZihlIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gZS50b0lTT1N0cmluZygpO2lmKG8oZSkpcmV0dXJuIHMoZSk7aWYoIWEoZSkpcmV0dXJuIGU7dD17fTtmb3IobiBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pKXt2YXIgaT11KGVbbl0pOyJ1bmRlZmluZWQiIT10eXBlb2YgaSYmKHRbbl09aSl9cmV0dXJuIHR9ZnVuY3Rpb24gYyhlKXt2YXIgdD0hMTtyZXR1cm4gJChmdW5jdGlvbihuKXtpZih0KXRocm93IG5ldyBFcnJvcigib25jZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UiKTt0PSEwLGUuYXBwbHkodGhpcyxuKX0pfWZ1bmN0aW9uIGYoZSl7cmV0dXJuICQoZnVuY3Rpb24obil7bj11KG4pO3ZhciByLG89dGhpcyxpPSJmdW5jdGlvbiI9PXR5cGVvZiBuW24ubGVuZ3RoLTFdJiZuLnBvcCgpO2kmJihyPWZ1bmN0aW9uKGUsbil7dC5uZXh0VGljayhmdW5jdGlvbigpe2koZSxuKX0pfSk7dmFyIHM9bmV3IEgoZnVuY3Rpb24odCxyKXt2YXIgaTt0cnl7dmFyIHM9YyhmdW5jdGlvbihlLG4pe2U/cihlKTp0KG4pfSk7bi5wdXNoKHMpLGk9ZS5hcHBseShvLG4pLGkmJiJmdW5jdGlvbiI9PXR5cGVvZiBpLnRoZW4mJnQoaSl9Y2F0Y2goZSl7cihlKX19KTtyZXR1cm4gciYmcy50aGVuKGZ1bmN0aW9uKGUpe3IobnVsbCxlKX0sciksc30pfWZ1bmN0aW9uIGwoZSx0KXtmdW5jdGlvbiBuKGUsdCxuKXtpZihYLmVuYWJsZWQpe2Zvcih2YXIgcj1bZS5uYW1lLHRdLG89MDtvPG4ubGVuZ3RoLTE7bysrKXIucHVzaChuW29dKTtYLmFwcGx5KG51bGwscik7dmFyIGk9bltuLmxlbmd0aC0xXTtuW24ubGVuZ3RoLTFdPWZ1bmN0aW9uKG4scil7dmFyIG89W2UubmFtZSx0XTtvPW8uY29uY2F0KG4/WyJlcnJvciIsbl06WyJzdWNjZXNzIixyXSksWC5hcHBseShudWxsLG8pLGkobixyKX19fXJldHVybiBmKCQoZnVuY3Rpb24ocil7aWYodGhpcy5fY2xvc2VkKXJldHVybiBILnJlamVjdChuZXcgRXJyb3IoImRhdGFiYXNlIGlzIGNsb3NlZCIpKTtpZih0aGlzLl9kZXN0cm95ZWQpcmV0dXJuIEgucmVqZWN0KG5ldyBFcnJvcigiZGF0YWJhc2UgaXMgZGVzdHJveWVkIikpO3ZhciBvPXRoaXM7cmV0dXJuIG4obyxlLHIpLHRoaXMudGFza3F1ZXVlLmlzUmVhZHk/dC5hcHBseSh0aGlzLHIpOm5ldyBIKGZ1bmN0aW9uKHQsbil7by50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbihpKXtpP24oaSk6dChvW2VdLmFwcGx5KG8scikpfSl9KX0pKX1mdW5jdGlvbiBkKGUsdCl7Zm9yKHZhciBuPXt9LHI9MCxvPXQubGVuZ3RoO3I8bztyKyspe3ZhciBpPXRbcl07aSBpbiBlJiYobltpXT1lW2ldKX1yZXR1cm4gbn1mdW5jdGlvbiBoKGUpe3JldHVybiBlfWZ1bmN0aW9uIHAoZSl7cmV0dXJuW3tvazplfV19ZnVuY3Rpb24geShlLHQsbil7ZnVuY3Rpb24gcigpe3ZhciBlPVtdO3kuZm9yRWFjaChmdW5jdGlvbih0KXt0LmRvY3MuZm9yRWFjaChmdW5jdGlvbihuKXtlLnB1c2goe2lkOnQuaWQsZG9jczpbbl19KX0pfSksbihudWxsLHtyZXN1bHRzOmV9KX1mdW5jdGlvbiBvKCl7KytsPT09ZiYmcigpfWZ1bmN0aW9uIGkoZSx0LG4pe3lbZV09e2lkOnQsZG9jczpufSxvKCl9ZnVuY3Rpb24gcygpe2lmKCEobT49di5sZW5ndGgpKXt2YXIgZT1NYXRoLm1pbihtK1Esdi5sZW5ndGgpLHQ9di5zbGljZShtLGUpO2EodCxtKSxtKz10Lmxlbmd0aH19ZnVuY3Rpb24gYShuLHIpe24uZm9yRWFjaChmdW5jdGlvbihuLG8pe3ZhciBhPXIrbyx1PWNbbl0sZj1kKHVbMF0sWyJhdHRzX3NpbmNlIiwiYXR0YWNobWVudHMiXSk7Zi5vcGVuX3JldnM9dS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmV2fSksZi5vcGVuX3JldnM9Zi5vcGVuX3JldnMuZmlsdGVyKGgpO3ZhciBsPWg7MD09PWYub3Blbl9yZXZzLmxlbmd0aCYmKGRlbGV0ZSBmLm9wZW5fcmV2cyxsPXApLFsicmV2cyIsImF0dGFjaG1lbnRzIiwiYmluYXJ5IiwiYWpheCJdLmZvckVhY2goZnVuY3Rpb24oZSl7ZSBpbiB0JiYoZltlXT10W2VdKX0pLGUuZ2V0KG4sZixmdW5jdGlvbihlLHQpe3ZhciByO3I9ZT9be2Vycm9yOmV9XTpsKHQpLGkoYSxuLHIpLHMoKX0pfSl9dmFyIHU9dC5kb2NzLGM9e307dS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaWQgaW4gYz9jW2UuaWRdLnB1c2goZSk6Y1tlLmlkXT1bZV19KTt2YXIgZj1PYmplY3Qua2V5cyhjKS5sZW5ndGgsbD0wLHk9bmV3IEFycmF5KGYpLHY9T2JqZWN0LmtleXMoYyksbT0wO3MoKX1mdW5jdGlvbiB2KCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBjaHJvbWUmJiJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2UmJiJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2UubG9jYWx9ZnVuY3Rpb24gbSgpe3JldHVybiBKfWZ1bmN0aW9uIGcoZSl7digpP2Nocm9tZS5zdG9yYWdlLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcihmdW5jdGlvbih0KXtudWxsIT10LmRiX25hbWUmJmUuZW1pdCh0LmRiTmFtZS5uZXdWYWx1ZSl9KTptKCkmJigidW5kZWZpbmVkIiE9dHlwZW9mIGFkZEV2ZW50TGlzdGVuZXI/YWRkRXZlbnRMaXN0ZW5lcigic3RvcmFnZSIsZnVuY3Rpb24odCl7ZS5lbWl0KHQua2V5KX0pOndpbmRvdy5hdHRhY2hFdmVudCgic3RvcmFnZSIsZnVuY3Rpb24odCl7ZS5lbWl0KHQua2V5KX0pKX1mdW5jdGlvbiB3KCl7Vy5FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSx0aGlzLl9saXN0ZW5lcnM9e30sZyh0aGlzKX1mdW5jdGlvbiBiKGUpe2lmKCJ1bmRlZmluZWQiIT09Y29uc29sZSYmZSBpbiBjb25zb2xlKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Y29uc29sZVtlXS5hcHBseShjb25zb2xlLHQpfX1mdW5jdGlvbiBfKGUsdCl7dmFyIG49NmU1O2U9cGFyc2VJbnQoZSwxMCl8fDAsdD1wYXJzZUludCh0LDEwKSx0IT09dHx8dDw9ZT90PShlfHwxKTw8MTp0Kz0xLHQ+biYmKGU9bj4+MSx0PW4pO3ZhciByPU1hdGgucmFuZG9tKCksbz10LWU7cmV0dXJufn4obypyK2UpfWZ1bmN0aW9uIGooZSl7dmFyIHQ9MDtyZXR1cm4gZXx8KHQ9MmUzKSxfKGUsdCl9ZnVuY3Rpb24geChlLHQpe2IoImluZm8iLCJUaGUgYWJvdmUgIitlKyIgaXMgdG90YWxseSBub3JtYWwuICIrdCl9ZnVuY3Rpb24gRShlLHQpe2Zvcih2YXIgbiBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkobikpe3ZhciByPXUodFtuXSk7InVuZGVmaW5lZCIhPXR5cGVvZiByJiYoZVtuXT1yKX19ZnVuY3Rpb24gVChlLHQsbil7cmV0dXJuIEUoZSx0KSxuJiZFKGUsbiksZX1mdW5jdGlvbiBPKGUpe0Vycm9yLmNhbGwodGhpcyxlLnJlYXNvbiksdGhpcy5zdGF0dXM9ZS5zdGF0dXMsdGhpcy5uYW1lPWUuZXJyb3IsdGhpcy5tZXNzYWdlPWUucmVhc29uLHRoaXMuZXJyb3I9ITB9ZnVuY3Rpb24gUyhlLHQpe2Z1bmN0aW9uIG4odCl7Zm9yKHZhciBuIGluIGUpImZ1bmN0aW9uIiE9dHlwZW9mIGVbbl0mJih0aGlzW25dPWVbbl0pO3ZvaWQgMCE9PXQmJih0aGlzLnJlYXNvbj10KX1yZXR1cm4gbi5wcm90b3R5cGU9Ty5wcm90b3R5cGUsbmV3IG4odCl9ZnVuY3Rpb24gTChlLHQsbil7dHJ5e3JldHVybiFlKHQsbil9Y2F0Y2goZSl7dmFyIHI9IkZpbHRlciBmdW5jdGlvbiB0aHJldzogIitlLnRvU3RyaW5nKCk7cmV0dXJuIFMocmUscil9fWZ1bmN0aW9uIGsoZSl7dmFyIHQ9e30sbj1lLmZpbHRlciYmImZ1bmN0aW9uIj09dHlwZW9mIGUuZmlsdGVyO3JldHVybiB0LnF1ZXJ5PWUucXVlcnlfcGFyYW1zLGZ1bmN0aW9uKHIpe3IuZG9jfHwoci5kb2M9e30pO3ZhciBvPW4mJkwoZS5maWx0ZXIsci5kb2MsdCk7aWYoIm9iamVjdCI9PXR5cGVvZiBvKXJldHVybiBvO2lmKG8pcmV0dXJuITE7aWYoZS5pbmNsdWRlX2RvY3Mpe2lmKCFlLmF0dGFjaG1lbnRzKWZvcih2YXIgaSBpbiByLmRvYy5fYXR0YWNobWVudHMpci5kb2MuX2F0dGFjaG1lbnRzLmhhc093blByb3BlcnR5KGkpJiYoci5kb2MuX2F0dGFjaG1lbnRzW2ldLnN0dWI9ITApfWVsc2UgZGVsZXRlIHIuZG9jO3JldHVybiEwfX1mdW5jdGlvbiBDKGUpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXQ9dC5jb25jYXQoZVtuXSk7cmV0dXJuIHR9ZnVuY3Rpb24gQSgpe31mdW5jdGlvbiBxKGUpe3ZhciB0O2lmKGU/InN0cmluZyIhPXR5cGVvZiBlP3Q9UyhlZSk6L15fLy50ZXN0KGUpJiYhL15fKGRlc2lnbnxsb2NhbCkvLnRlc3QoZSkmJih0PVMobmUpKTp0PVModGUpLHQpdGhyb3cgdH1mdW5jdGlvbiBVKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBjb3Jkb3ZhfHwidW5kZWZpbmVkIiE9dHlwZW9mIFBob25lR2FwfHwidW5kZWZpbmVkIiE9dHlwZW9mIHBob25lZ2FwfWZ1bmN0aW9uIFAoZSx0KXtyZXR1cm4ibGlzdGVuZXJDb3VudCJpbiBlP2UubGlzdGVuZXJDb3VudCh0KTpXLkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50KGUsdCl9ZnVuY3Rpb24gQihlKXtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1lLnNwbGl0KCIvIik7cmV0dXJuIDI9PT10Lmxlbmd0aD90OjE9PT10Lmxlbmd0aD9bZSxlXTpudWxsfWZ1bmN0aW9uIEQoZSl7dmFyIHQ9QihlKTtyZXR1cm4gdD90LmpvaW4oIi8iKTpudWxsfWZ1bmN0aW9uIE4oZSl7Zm9yKHZhciB0PWNlLmV4ZWMoZSksbj17fSxyPTE0O3ItLTspe3ZhciBvPXNlW3JdLGk9dFtyXXx8IiIscz1bInVzZXIiLCJwYXNzd29yZCJdLmluZGV4T2YobykhPT0tMTtuW29dPXM/ZGVjb2RlVVJJQ29tcG9uZW50KGkpOml9cmV0dXJuIG5bYWVdPXt9LG5bc2VbMTJdXS5yZXBsYWNlKHVlLGZ1bmN0aW9uKGUsdCxyKXt0JiYoblthZV1bdF09cil9KSxufWZ1bmN0aW9uIE0oZSx0LG4pe3JldHVybiBuZXcgSChmdW5jdGlvbihyLG8pe2UuZ2V0KHQsZnVuY3Rpb24oaSxzKXtpZihpKXtpZig0MDQhPT1pLnN0YXR1cylyZXR1cm4gbyhpKTtzPXt9fXZhciBhPXMuX3Jldix1PW4ocyk7cmV0dXJuIHU/KHUuX2lkPXQsdS5fcmV2PWEsdm9pZCByKFIoZSx1LG4pKSk6cih7dXBkYXRlZDohMSxyZXY6YX0pfSl9KX1mdW5jdGlvbiBSKGUsdCxuKXtyZXR1cm4gZS5wdXQodCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm57dXBkYXRlZDohMCxyZXY6ZS5yZXZ9fSxmdW5jdGlvbihyKXtpZig0MDkhPT1yLnN0YXR1cyl0aHJvdyByO3JldHVybiBNKGUsdC5faWQsbil9KX1mdW5jdGlvbiBJKGUpe3JldHVybiAwfE1hdGgucmFuZG9tKCkqZX1mdW5jdGlvbiBGKGUsdCl7dD10fHxmZS5sZW5ndGg7dmFyIG49IiIscj0tMTtpZihlKXtmb3IoOysrcjxlOyluKz1mZVtJKHQpXTtyZXR1cm4gbn1mb3IoOysrcjwzNjspc3dpdGNoKHIpe2Nhc2UgODpjYXNlIDEzOmNhc2UgMTg6Y2FzZSAyMzpuKz0iLSI7YnJlYWs7Y2FzZSAxOTpuKz1mZVszJkkoMTYpfDhdO2JyZWFrO2RlZmF1bHQ6bis9ZmVbSSgxNildfXJldHVybiBufU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgSix6PXIoZSg5KSksJD1yKGUoMikpLEc9cihlKDMpKSxXPWUoNSksWT1yKGUoNykpLEg9ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2U/UHJvbWlzZTp6LEs9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLFY9Sy5jYWxsKE9iamVjdCksWD1HKCJwb3VjaGRiOmFwaSIpLFE9NjtpZih2KCkpSj0hMTtlbHNlIHRyeXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZSIsMSksSj0hIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlIil9Y2F0Y2goZSl7Sj0hMX1ZKHcsVy5FdmVudEVtaXR0ZXIpLHcucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuLHIpe2Z1bmN0aW9uIG8oKXtmdW5jdGlvbiBlKCl7cz0hMX1pZihpLl9saXN0ZW5lcnNbdF0pe2lmKHMpcmV0dXJuIHZvaWQocz0id2FpdGluZyIpO3M9ITA7dmFyIGE9ZChyLFsic3R5bGUiLCJpbmNsdWRlX2RvY3MiLCJhdHRhY2htZW50cyIsImNvbmZsaWN0cyIsImZpbHRlciIsImRvY19pZHMiLCJ2aWV3Iiwic2luY2UiLCJxdWVyeV9wYXJhbXMiLCJiaW5hcnkiXSk7Cm4uY2hhbmdlcyhhKS5vbigiY2hhbmdlIixmdW5jdGlvbihlKXtlLnNlcT5yLnNpbmNlJiYhci5jYW5jZWxsZWQmJihyLnNpbmNlPWUuc2VxLHIub25DaGFuZ2UoZSkpfSkub24oImNvbXBsZXRlIixmdW5jdGlvbigpeyJ3YWl0aW5nIj09PXMmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtvKCl9LDApLHM9ITF9KS5vbigiZXJyb3IiLGUpfX1pZighdGhpcy5fbGlzdGVuZXJzW3RdKXt2YXIgaT10aGlzLHM9ITE7dGhpcy5fbGlzdGVuZXJzW3RdPW8sdGhpcy5vbihlLG8pfX0sdy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt0IGluIHRoaXMuX2xpc3RlbmVycyYmKFcuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsZSx0aGlzLl9saXN0ZW5lcnNbdF0pLGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbdF0pfSx3LnByb3RvdHlwZS5ub3RpZnlMb2NhbFdpbmRvd3M9ZnVuY3Rpb24oZSl7digpP2Nocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7ZGJOYW1lOmV9KTptKCkmJihsb2NhbFN0b3JhZ2VbZV09ImEiPT09bG9jYWxTdG9yYWdlW2VdPyJiIjoiYSIpfSx3LnByb3RvdHlwZS5ub3RpZnk9ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KGUpLHRoaXMubm90aWZ5TG9jYWxXaW5kb3dzKGUpfSxZKE8sRXJyb3IpLE8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtzdGF0dXM6dGhpcy5zdGF0dXMsbmFtZTp0aGlzLm5hbWUsbWVzc2FnZTp0aGlzLm1lc3NhZ2UscmVhc29uOnRoaXMucmVhc29ufSl9O3ZhciBaLGVlPShuZXcgTyh7c3RhdHVzOjQwMSxlcnJvcjoidW5hdXRob3JpemVkIixyZWFzb246Ik5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0LiJ9KSxuZXcgTyh7c3RhdHVzOjQwMCxlcnJvcjoiYmFkX3JlcXVlc3QiLHJlYXNvbjoiTWlzc2luZyBKU09OIGxpc3Qgb2YgJ2RvY3MnIn0pLG5ldyBPKHtzdGF0dXM6NDA0LGVycm9yOiJub3RfZm91bmQiLHJlYXNvbjoibWlzc2luZyJ9KSxuZXcgTyh7c3RhdHVzOjQwOSxlcnJvcjoiY29uZmxpY3QiLHJlYXNvbjoiRG9jdW1lbnQgdXBkYXRlIGNvbmZsaWN0In0pLG5ldyBPKHtzdGF0dXM6NDAwLGVycm9yOiJiYWRfcmVxdWVzdCIscmVhc29uOiJfaWQgZmllbGQgbXVzdCBjb250YWluIGEgc3RyaW5nIn0pKSx0ZT1uZXcgTyh7c3RhdHVzOjQxMixlcnJvcjoibWlzc2luZ19pZCIscmVhc29uOiJfaWQgaXMgcmVxdWlyZWQgZm9yIHB1dHMifSksbmU9bmV3IE8oe3N0YXR1czo0MDAsZXJyb3I6ImJhZF9yZXF1ZXN0IixyZWFzb246Ik9ubHkgcmVzZXJ2ZWQgZG9jdW1lbnQgaWRzIG1heSBzdGFydCB3aXRoIHVuZGVyc2NvcmUuIn0pLHJlPShuZXcgTyh7c3RhdHVzOjQxMixlcnJvcjoicHJlY29uZGl0aW9uX2ZhaWxlZCIscmVhc29uOiJEYXRhYmFzZSBub3Qgb3BlbiJ9KSxuZXcgTyh7c3RhdHVzOjUwMCxlcnJvcjoidW5rbm93bl9lcnJvciIscmVhc29uOiJEYXRhYmFzZSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yIn0pLG5ldyBPKHtzdGF0dXM6NTAwLGVycm9yOiJiYWRhcmciLHJlYXNvbjoiU29tZSBxdWVyeSBhcmd1bWVudCBpcyBpbnZhbGlkIn0pLG5ldyBPKHtzdGF0dXM6NDAwLGVycm9yOiJpbnZhbGlkX3JlcXVlc3QiLHJlYXNvbjoiUmVxdWVzdCB3YXMgaW52YWxpZCJ9KSxuZXcgTyh7c3RhdHVzOjQwMCxlcnJvcjoicXVlcnlfcGFyc2VfZXJyb3IiLHJlYXNvbjoiU29tZSBxdWVyeSBwYXJhbWV0ZXIgaXMgaW52YWxpZCJ9KSxuZXcgTyh7c3RhdHVzOjUwMCxlcnJvcjoiZG9jX3ZhbGlkYXRpb24iLHJlYXNvbjoiQmFkIHNwZWNpYWwgZG9jdW1lbnQgbWVtYmVyIn0pLG5ldyBPKHtzdGF0dXM6NDAwLGVycm9yOiJiYWRfcmVxdWVzdCIscmVhc29uOiJTb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGUgcmVxdWVzdCJ9KSksb2U9KG5ldyBPKHtzdGF0dXM6NDAwLGVycm9yOiJiYWRfcmVxdWVzdCIscmVhc29uOiJEb2N1bWVudCBtdXN0IGJlIGEgSlNPTiBvYmplY3QifSksbmV3IE8oe3N0YXR1czo0MDQsZXJyb3I6Im5vdF9mb3VuZCIscmVhc29uOiJEYXRhYmFzZSBub3QgZm91bmQifSksbmV3IE8oe3N0YXR1czo1MDAsZXJyb3I6ImluZGV4ZWRfZGJfd2VudF9iYWQiLHJlYXNvbjoidW5rbm93biJ9KSxuZXcgTyh7c3RhdHVzOjUwMCxlcnJvcjoid2ViX3NxbF93ZW50X2JhZCIscmVhc29uOiJ1bmtub3duIn0pLG5ldyBPKHtzdGF0dXM6NTAwLGVycm9yOiJsZXZlbERCX3dlbnRfd2VudF9iYWQiLHJlYXNvbjoidW5rbm93biJ9KSxuZXcgTyh7c3RhdHVzOjQwMyxlcnJvcjoiZm9yYmlkZGVuIixyZWFzb246IkZvcmJpZGRlbiBieSBkZXNpZ24gZG9jIHZhbGlkYXRlX2RvY191cGRhdGUgZnVuY3Rpb24ifSksbmV3IE8oe3N0YXR1czo0MDAsZXJyb3I6ImJhZF9yZXF1ZXN0IixyZWFzb246IkludmFsaWQgcmV2IGZvcm1hdCJ9KSxuZXcgTyh7c3RhdHVzOjQxMixlcnJvcjoiZmlsZV9leGlzdHMiLHJlYXNvbjoiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjcmVhdGVkLCB0aGUgZmlsZSBhbHJlYWR5IGV4aXN0cy4ifSksbmV3IE8oe3N0YXR1czo0MTIsZXJyb3I6Im1pc3Npbmdfc3R1YiJ9KSxuZXcgTyh7c3RhdHVzOjQxMyxlcnJvcjoiaW52YWxpZF91cmwiLHJlYXNvbjoiUHJvdmlkZWQgVVJMIGlzIGludmFsaWQifSksQS5uYW1lKTtaPW9lP2Z1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9OmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvU3RyaW5nKCkubWF0Y2goL15ccypmdW5jdGlvblxzKihcUyopXHMqXCgvKVsxXX07dmFyIGllPVosc2U9WyJzb3VyY2UiLCJwcm90b2NvbCIsImF1dGhvcml0eSIsInVzZXJJbmZvIiwidXNlciIsInBhc3N3b3JkIiwiaG9zdCIsInBvcnQiLCJyZWxhdGl2ZSIsInBhdGgiLCJkaXJlY3RvcnkiLCJmaWxlIiwicXVlcnkiLCJhbmNob3IiXSxhZT0icXVlcnlLZXkiLHVlPS8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZyxjZT0vXig/Oig/IVteOkBdKzpbXjpAXC9dKkApKFteOlwvPyMuXSspOik/KD86XC9cLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XC8/I10qKSg/OjooXGQqKSk/KSgoKFwvKD86W14/I10oPyFbXj8jXC9dKlwuW14/I1wvLl0rKD86Wz8jXXwkKSkpKlwvPyk/KFtePyNcL10qKSkoPzpcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxmZT0iMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLnNwbGl0KCIiKTtuLmFkYXB0ZXJGdW49bCxuLmJ1bGtHZXRTaGltPXksbi5jaGFuZ2VzSGFuZGxlcj13LG4uY2xvbmU9dSxuLmRlZmF1bHRCYWNrT2ZmPWosbi5leHBsYWluRXJyb3I9eCxuLmV4dGVuZD1ULG4uZmlsdGVyQ2hhbmdlPWssbi5mbGF0dGVuPUMsbi5mdW5jdGlvbk5hbWU9aWUsbi5ndWFyZGVkQ29uc29sZT1iLG4uaGFzTG9jYWxTdG9yYWdlPW0sbi5pbnZhbGlkSWRFcnJvcj1xLG4uaXNDaHJvbWVBcHA9dixuLmlzQ29yZG92YT1VLG4ubGlzdGVuZXJDb3VudD1QLG4ubm9ybWFsaXplRGRvY0Z1bmN0aW9uTmFtZT1ELG4ub25jZT1jLG4ucGFyc2VEZG9jRnVuY3Rpb25OYW1lPUIsbi5wYXJzZVVyaT1OLG4ucGljaz1kLG4udG9Qcm9taXNlPWYsbi51cHNlcnQ9TSxuLnV1aWQ9Rn0pLmNhbGwodGhpcyxlKDE1KSl9LHsxNToxNSwyOjIsMzozLDU6NSw3OjcsOTo5fV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gaShlKXtpZihsPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChsPT09cnx8IWwpJiZzZXRUaW1lb3V0KXJldHVybiBsPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gbChlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gbC5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gbC5jYWxsKHRoaXMsZSwwKX19fWZ1bmN0aW9uIHMoZSl7aWYoZD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChkPT09b3x8IWQpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGQ9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIGQoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBkLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gZC5jYWxsKHRoaXMsZSl9fX1mdW5jdGlvbiBhKCl7diYmcCYmKHY9ITEscC5sZW5ndGg/eT1wLmNvbmNhdCh5KTptPS0xLHkubGVuZ3RoJiZ1KCkpfWZ1bmN0aW9uIHUoKXtpZighdil7dmFyIGU9aShhKTt2PSEwO2Zvcih2YXIgdD15Lmxlbmd0aDt0Oyl7Zm9yKHA9eSx5PVtdOysrbTx0OylwJiZwW21dLnJ1bigpO209LTEsdD15Lmxlbmd0aH1wPW51bGwsdj0hMSxzKGUpfX1mdW5jdGlvbiBjKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gZigpe312YXIgbCxkLGg9dC5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXtsPSJmdW5jdGlvbiI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6cn1jYXRjaChlKXtsPXJ9dHJ5e2Q9ImZ1bmN0aW9uIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6b31jYXRjaChlKXtkPW99fSgpO3ZhciBwLHk9W10sdj0hMSxtPS0xO2gubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt5LnB1c2gobmV3IGMoZSx0KSksMSE9PXkubGVuZ3RofHx2fHxpKHUpfSxjLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxoLnRpdGxlPSJicm93c2VyIixoLmJyb3dzZXI9ITAsaC5lbnY9e30saC5hcmd2PVtdLGgudmVyc2lvbj0iIixoLnZlcnNpb25zPXt9LGgub249ZixoLmFkZExpc3RlbmVyPWYsaC5vbmNlPWYsaC5vZmY9ZixoLnJlbW92ZUxpc3RlbmVyPWYsaC5yZW1vdmVBbGxMaXN0ZW5lcnM9ZixoLmVtaXQ9ZixoLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpfSxoLmN3ZD1mdW5jdGlvbigpe3JldHVybiIvIn0saC5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCIpfSxoLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sMTY6W2Z1bmN0aW9uKHQsbixyKXshZnVuY3Rpb24odCxyLG8peyJ1bmRlZmluZWQiIT10eXBlb2YgbiYmbi5leHBvcnRzP24uZXhwb3J0cz1vKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuYW1kP2Uobyk6clt0XT1vKCl9KCJ1cmxqb2luIix0aGlzLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3JldHVybiBlPWUucmVwbGFjZSgvOlwvL2csIjovLyIpLGU9ZS5yZXBsYWNlKC8oW146XHNdKVwvKy9nLCIkMS8iKSxlPWUucmVwbGFjZSgvXC8oXD98JnwjW14hXSkvZywiJDEiKSxlPWUucmVwbGFjZSgvKFw/LispXD8vZywiJDEmIil9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLG49e307Im9iamVjdCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJih0PWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXXx8e30pO3ZhciByPVtdLnNsaWNlLmNhbGwodCwwKS5qb2luKCIvIik7cmV0dXJuIGUocixuKX19KX0se31dLDE3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJiJ1bmtub3duX2Vycm9yIj09PXQubmFtZSYmKHQubWVzc2FnZT0odC5tZXNzYWdlfHwiIikrIiBVbmtub3duIGVycm9yISAgRGlkIHlvdSByZW1lbWJlciB0byBlbmFibGUgQ09SUz8iKSxlKHQsbil9fWZ1bmN0aW9uIG8oZSx0LG4sbyl7dmFyIGE9WyJuYW1lIiwicGFzc3dvcmQiLCJyb2xlcyIsInR5cGUiLCJzYWx0IiwibWV0YWRhdGEiXTtpZihuLm1ldGFkYXRhKXtmb3IodmFyIHUgaW4gbi5tZXRhZGF0YSlpZihuLmhhc093blByb3BlcnR5KHUpJiYoYS5pbmRleE9mKHUpIT09LTF8fHUuc3RhcnRzV2l0aCgiXyIpKSlyZXR1cm4gbyhuZXcgaSgnY2Fubm90IHVzZSByZXNlcnZlZCB3b3JkIGluIG1ldGFkYXRhOiAiJyt1KyciJykpO3Q9cy5leHRlbmQoITAsdCxuLm1ldGFkYXRhKX12YXIgYz1zLmdldFVzZXJzVXJsKGUpKyIvIitlbmNvZGVVUklDb21wb25lbnQodC5faWQpLGY9cy5leHRlbmQoITAse21ldGhvZDoiUFVUIix1cmw6Yyxib2R5OnR9LG4uYWpheHx8e30pO3MuYWpheChmLHIobykpfWZ1bmN0aW9uIGkoZSl7dGhpcy5zdGF0dXM9NDAwLHRoaXMubmFtZT0iYXV0aGVudGljYXRpb25fZXJyb3IiLHRoaXMubWVzc2FnZT1lLHRoaXMuZXJyb3I9ITA7dHJ5e0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsaSl9Y2F0Y2goZSl7fX12YXIgcz1lKDEpO24uc2lnbnVwPXMudG9Qcm9taXNlKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBzPXRoaXM7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiByJiYocj0idW5kZWZpbmVkIj09dHlwZW9mIG4/InVuZGVmaW5lZCI9PXR5cGVvZiB0P2U6dDpuLG49e30pLFsiaHR0cCIsImh0dHBzIl0uaW5kZXhPZihzLnR5cGUoKSk9PT0tMSlyZXR1cm4gcihuZXcgaSgnVGhpcyBwbHVnaW4gb25seSB3b3JrcyBmb3IgdGhlIGh0dHAvaHR0cHMgYWRhcHRlci4gU28geW91IHNob3VsZCB1c2UgbmV3IFBvdWNoREIoImh0dHA6Ly9teXNpdGUuY29tOjU5ODQvbXlkYiIpIGluc3RlYWQuJykpO2lmKCFlKXJldHVybiByKG5ldyBpKCJZb3UgbXVzdCBwcm92aWRlIGEgdXNlcm5hbWUiKSk7aWYoIXQpcmV0dXJuIHIobmV3IGkoIllvdSBtdXN0IHByb3ZpZGUgYSBwYXNzd29yZCIpKTt2YXIgYT0ib3JnLmNvdWNoZGIudXNlcjoiK2UsdT17bmFtZTplLHBhc3N3b3JkOnQscm9sZXM6bi5yb2xlc3x8W10sdHlwZToidXNlciIsX2lkOmF9O28ocyx1LG4scil9KSxuLnNpZ25VcD1uLnNpZ251cCxuLmxvZ2luPXMudG9Qcm9taXNlKGZ1bmN0aW9uKGUsdCxuLG8pe3ZhciBhPXRoaXM7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBvJiYobz1uLG49e30pLFsiaHR0cCIsImh0dHBzIl0uaW5kZXhPZihhLnR5cGUoKSk9PT0tMSlyZXR1cm4gbyhuZXcgaSgidGhpcyBwbHVnaW4gb25seSB3b3JrcyBmb3IgdGhlIGh0dHAvaHR0cHMgYWRhcHRlciIpKTtpZighZSlyZXR1cm4gbyhuZXcgaSgieW91IG11c3QgcHJvdmlkZSBhIHVzZXJuYW1lIikpO2lmKCF0KXJldHVybiBvKG5ldyBpKCJ5b3UgbXVzdCBwcm92aWRlIGEgcGFzc3dvcmQiKSk7dmFyIHU9cy5leHRlbmQoITAse21ldGhvZDoiUE9TVCIsdXJsOnMuZ2V0U2Vzc2lvblVybChhKSxoZWFkZXJzOnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe25hbWU6ZSxwYXNzd29yZDp0fSl9LG4uYWpheHx8e30pO3MuYWpheCh1LHIobykpfSksbi5sb2dJbj1uLmxvZ2luLG4ubG9nb3V0PXMudG9Qcm9taXNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczsidW5kZWZpbmVkIj09dHlwZW9mIHQmJih0PWUsZT17fSk7dmFyIG89cy5leHRlbmQoITAse21ldGhvZDoiREVMRVRFIix1cmw6cy5nZXRTZXNzaW9uVXJsKG4pfSxlLmFqYXh8fHt9KTtzLmFqYXgobyxyKHQpKX0pLG4ubG9nT3V0PW4ubG9nb3V0LG4uZ2V0U2Vzc2lvbj1zLnRvUHJvbWlzZShmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7InVuZGVmaW5lZCI9PXR5cGVvZiB0JiYodD1lLGU9e30pO3ZhciBvPXMuZ2V0U2Vzc2lvblVybChuKSxpPXMuZXh0ZW5kKCEwLHttZXRob2Q6IkdFVCIsdXJsOm99LGUuYWpheHx8e30pO3MuYWpheChpLHIodCkpfSksbi5nZXRVc2VyPXMudG9Qcm9taXNlKGZ1bmN0aW9uKGUsdCxuKXt2YXIgbz10aGlzO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgbiYmKG49InVuZGVmaW5lZCI9PXR5cGVvZiB0P2U6dCx0PXt9KSwhZSlyZXR1cm4gbihuZXcgaSgieW91IG11c3QgcHJvdmlkZSBhIHVzZXJuYW1lIikpO3ZhciBhPXMuZ2V0VXNlcnNVcmwobyksdT1zLmV4dGVuZCghMCx7bWV0aG9kOiJHRVQiLHVybDphKyIvIitlbmNvZGVVUklDb21wb25lbnQoIm9yZy5jb3VjaGRiLnVzZXI6IitlKX0sdC5hamF4fHx7fSk7cy5hamF4KHUscihuKSl9KSxuLnB1dFVzZXI9cy50b1Byb21pc2UoZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBuJiYobj0idW5kZWZpbmVkIj09dHlwZW9mIHQ/ZTp0LHQ9e30pLFsiaHR0cCIsImh0dHBzIl0uaW5kZXhPZihyLnR5cGUoKSk9PT0tMT9uKG5ldyBpKCdUaGlzIHBsdWdpbiBvbmx5IHdvcmtzIGZvciB0aGUgaHR0cC9odHRwcyBhZGFwdGVyLiBTbyB5b3Ugc2hvdWxkIHVzZSBuZXcgUG91Y2hEQigiaHR0cDovL215c2l0ZS5jb206NTk4NC9teWRiIikgaW5zdGVhZC4nKSk6ZT9yLmdldFVzZXIoZSx0LGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGU/bihlKTp2b2lkIG8ocixpLHQsbil9KTpuKG5ldyBpKCJZb3UgbXVzdCBwcm92aWRlIGEgdXNlcm5hbWUiKSl9KSxuLmNoYW5nZVBhc3N3b3JkPXMudG9Qcm9taXNlKGZ1bmN0aW9uKGUsdCxuLG8pe3ZhciBhPXRoaXM7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBvJiYobz0idW5kZWZpbmVkIj09dHlwZW9mIG4/InVuZGVmaW5lZCI9PXR5cGVvZiB0P2U6dDpuLG49e30pLFsiaHR0cCIsImh0dHBzIl0uaW5kZXhPZihhLnR5cGUoKSk9PT0tMT9vKG5ldyBpKCdUaGlzIHBsdWdpbiBvbmx5IHdvcmtzIGZvciB0aGUgaHR0cC9odHRwcyBhZGFwdGVyLiBTbyB5b3Ugc2hvdWxkIHVzZSBuZXcgUG91Y2hEQigiaHR0cDovL215c2l0ZS5jb206NTk4NC9teWRiIikgaW5zdGVhZC4nKSk6ZT90P2EuZ2V0VXNlcihlLG4sZnVuY3Rpb24oZSxpKXtpZihlKXJldHVybiBvKGUpO2kucGFzc3dvcmQ9dDt2YXIgdT1zLmdldFVzZXJzVXJsKGEpKyIvIitlbmNvZGVVUklDb21wb25lbnQoaS5faWQpLGM9cy5leHRlbmQoITAse21ldGhvZDoiUFVUIix1cmw6dSxib2R5Oml9LG4uYWpheHx8e30pO3MuYWpheChjLHIobykpfSk6byhuZXcgaSgiWW91IG11c3QgcHJvdmlkZSBhIHBhc3N3b3JkIikpOm8obmV3IGkoIllvdSBtdXN0IHByb3ZpZGUgYSB1c2VybmFtZSIpKX0pLG4uY2hhbmdlVXNlcm5hbWU9cy50b1Byb21pc2UoZnVuY3Rpb24oZSx0LG4sbyl7dmFyIGE9dGhpcyx1PSJvcmcuY291Y2hkYi51c2VyOiIsYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHMuUHJvbWlzZShmdW5jdGlvbih0LG4pe3MuYWpheChlLHIoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT9uKGUpOnZvaWQgdChyKX0pKX0pfSxmPWZ1bmN0aW9uKGUsdCl7dmFyIG49cy5nZXRVc2Vyc1VybChhKSsiLyIrZW5jb2RlVVJJQ29tcG9uZW50KGUuX2lkKSxyPXMuZXh0ZW5kKCEwLHttZXRob2Q6IlBVVCIsdXJsOm4sYm9keTplfSx0LmFqYXgpO3JldHVybiBjKHIpfTtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG8mJihvPW4sbj17fSksbi5hamF4PW4uYWpheHx8e30sWyJodHRwIiwiaHR0cHMiXS5pbmRleE9mKGEudHlwZSgpKT09PS0xP28obmV3IGkoJ1RoaXMgcGx1Z2luIG9ubHkgd29ya3MgZm9yIHRoZSBodHRwL2h0dHBzIGFkYXB0ZXIuIFNvIHlvdSBzaG91bGQgdXNlIG5ldyBQb3VjaERCKCJodHRwOi8vbXlzaXRlLmNvbTo1OTg0L215ZGIiKSBpbnN0ZWFkLicpKTp0P2U/YS5nZXRVc2VyKHQsbikudGhlbihmdW5jdGlvbigpe3ZhciBlPW5ldyBpKCJ1c2VyIGFscmVhZHkgZXhpc3RzIik7dGhyb3cgZS50YWtlbj0hMCxlfSxmdW5jdGlvbigpe3JldHVybiBhLmdldFVzZXIoZSxuKX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHI9cy5jbG9uZShlKTtyZXR1cm4gZGVsZXRlIHIuX3JldixyLl9pZD11K3Qsci5uYW1lPXQsci5yb2xlcz1uLnJvbGVzfHxlLnJvbGVzfHx7fSxmKHIsbikudGhlbihmdW5jdGlvbigpe3JldHVybiBlLl9kZWxldGVkPSEwLGYoZSxuKX0pfSkudGhlbihmdW5jdGlvbihlKXtvKG51bGwsZSl9KS5jYXRjaChvKTpvKG5ldyBpKCJZb3UgbXVzdCBwcm92aWRlIGEgdXNlcm5hbWUgdG8gcmVuYW1lIikpOm8obmV3IGkoIllvdSBtdXN0IHByb3ZpZGUgYSBuZXcgdXNlcm5hbWUiKSl9KSxzLmluaGVyaXRzKGksRXJyb3IpLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuUG91Y2hEQiYmd2luZG93LlBvdWNoREIucGx1Z2luKG4pfSx7MToxfV19LHt9LFsxN10pKDE3KX0pOwo=", "content_type": "application/javascript"}, "test.html": {"data": "", "content_type": "text/html"}, "pouchdb-6.2.0.min.js": {"data": "Ly8gUG91Y2hEQiA2LjIuMAovLyAKLy8gKGMpIDIwMTItMjAxNyBEYWxlIEhhcnZleSBhbmQgdGhlIFBvdWNoREIgdGVhbQovLyBQb3VjaERCIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEFwYWNoZSBsaWNlbnNlLCB2ZXJzaW9uIDIuMC4KLy8gRm9yIGFsbCBkZXRhaWxzIGFuZCBkb2N1bWVudGF0aW9uOgovLyBodHRwOi8vcG91Y2hkYi5jb20KIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlBvdWNoREI9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gbyhzLGEpe2lmKCFuW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJnUpcmV0dXJuIHUocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgYz1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgYy5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixjfXZhciBmPW5bc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtzXVsxXVtlXTtyZXR1cm4gbyhufHxlKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8ci5sZW5ndGg7cysrKW8ocltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDtpZih0KXtmb3IodmFyIG49W10scj0tMTsrK3I8dDspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuIGUuY2FsbCh0aGlzLG4pfXJldHVybiBlLmNhbGwodGhpcyxbXSl9fXQuZXhwb3J0cz1yfSx7fV0sMjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihyKXtmdW5jdGlvbiBvKCl7cmV0dXJuISgidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvd3x8dm9pZCAwPT09d2luZG93LnByb2Nlc3N8fCJyZW5kZXJlciIhPT13aW5kb3cucHJvY2Vzcy50eXBlKXx8KCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50JiYiV2Via2l0QXBwZWFyYW5jZSJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGV8fCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJndpbmRvdy5jb25zb2xlJiYoY29uc29sZS5maXJlYnVnfHxjb25zb2xlLmV4Y2VwdGlvbiYmY29uc29sZS50YWJsZSl8fCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFwvKFxkKykvKSYmcGFyc2VJbnQoUmVnRXhwLiQxLDEwKT49MzF8fCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcLyhcZCspLykpfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpcy51c2VDb2xvcnM7aWYoZVswXT0odD8iJWMiOiIiKSt0aGlzLm5hbWVzcGFjZSsodD8iICVjIjoiICIpK2VbMF0rKHQ/IiVjICI6IiAiKSsiKyIrbi5odW1hbml6ZSh0aGlzLmRpZmYpLHQpe3ZhciByPSJjb2xvcjogIit0aGlzLmNvbG9yO2Uuc3BsaWNlKDEsMCxyLCJjb2xvcjogaW5oZXJpdCIpO3ZhciBvPTAsaT0wO2VbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLGZ1bmN0aW9uKGUpeyIlJSIhPT1lJiYobysrLCIlYyI9PT1lJiYoaT1vKSl9KSxlLnNwbGljZShpLDAscil9fWZ1bmN0aW9uIHMoKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYShlKXt0cnl7bnVsbD09ZT9uLnN0b3JhZ2UucmVtb3ZlSXRlbSgiZGVidWciKTpuLnN0b3JhZ2UuZGVidWc9ZX1jYXRjaChlKXt9fWZ1bmN0aW9uIHUoKXt0cnl7cmV0dXJuIG4uc3RvcmFnZS5kZWJ1Z31jYXRjaChlKXt9aWYodm9pZCAwIT09ciYmImVudiJpbiByKXJldHVybiByLmVudi5ERUJVR31uPXQuZXhwb3J0cz1lKDMpLG4ubG9nPXMsbi5mb3JtYXRBcmdzPWksbi5zYXZlPWEsbi5sb2FkPXUsbi51c2VDb2xvcnM9byxuLnN0b3JhZ2U9InVuZGVmaW5lZCIhPXR5cGVvZiBjaHJvbWUmJnZvaWQgMCE9PWNocm9tZS5zdG9yYWdlP2Nocm9tZS5zdG9yYWdlLmxvY2FsOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe319KCksbi5jb2xvcnM9WyJsaWdodHNlYWdyZWVuIiwiZm9yZXN0Z3JlZW4iLCJnb2xkZW5yb2QiLCJkb2RnZXJibHVlIiwiZGFya29yY2hpZCIsImNyaW1zb24iXSxuLmZvcm1hdHRlcnMuaj1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfWNhdGNoKGUpe3JldHVybiJbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogIitlLm1lc3NhZ2V9fSxuLmVuYWJsZSh1KCkpfSkuY2FsbCh0aGlzLGUoOSkpfSx7MzozLDk6OX1dLDM6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUpe3ZhciB0LHI9MDtmb3IodCBpbiBlKXI9KHI8PDUpLXIrZS5jaGFyQ29kZUF0KHQpLHJ8PTA7cmV0dXJuIG4uY29sb3JzW01hdGguYWJzKHIpJW4uY29sb3JzLmxlbmd0aF19ZnVuY3Rpb24gbyhlKXtmdW5jdGlvbiB0KCl7aWYodC5lbmFibGVkKXt2YXIgZT10LHI9K25ldyBEYXRlLG89ci0oY3x8cik7ZS5kaWZmPW8sZS5wcmV2PWMsZS5jdXJyPXIsYz1yO2Zvcih2YXIgaT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCkscz0wO3M8aS5sZW5ndGg7cysrKWlbc109YXJndW1lbnRzW3NdO2lbMF09bi5jb2VyY2UoaVswXSksInN0cmluZyIhPXR5cGVvZiBpWzBdJiZpLnVuc2hpZnQoIiVPIik7dmFyIGE9MDtpWzBdPWlbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csZnVuY3Rpb24odCxyKXtpZigiJSUiPT09dClyZXR1cm4gdDthKys7dmFyIG89bi5mb3JtYXR0ZXJzW3JdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBvKXt2YXIgcz1pW2FdO3Q9by5jYWxsKGUscyksaS5zcGxpY2UoYSwxKSxhLS19cmV0dXJuIHR9KSxuLmZvcm1hdEFyZ3MuY2FsbChlLGkpOyh0LmxvZ3x8bi5sb2d8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkpLmFwcGx5KGUsaSl9fXJldHVybiB0Lm5hbWVzcGFjZT1lLHQuZW5hYmxlZD1uLmVuYWJsZWQoZSksdC51c2VDb2xvcnM9bi51c2VDb2xvcnMoKSx0LmNvbG9yPXIoZSksImZ1bmN0aW9uIj09dHlwZW9mIG4uaW5pdCYmbi5pbml0KHQpLHR9ZnVuY3Rpb24gaShlKXtuLnNhdmUoZSksbi5uYW1lcz1bXSxuLnNraXBzPVtdO2Zvcih2YXIgdD0oZXx8IiIpLnNwbGl0KC9bXHMsXSsvKSxyPXQubGVuZ3RoLG89MDtvPHI7bysrKXRbb10mJihlPXRbb10ucmVwbGFjZSgvXCovZywiLio/IiksIi0iPT09ZVswXT9uLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgiXiIrZS5zdWJzdHIoMSkrIiQiKSk6bi5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoIl4iK2UrIiQiKSkpfWZ1bmN0aW9uIHMoKXtuLmVuYWJsZSgiIil9ZnVuY3Rpb24gYShlKXt2YXIgdCxyO2Zvcih0PTAscj1uLnNraXBzLmxlbmd0aDt0PHI7dCsrKWlmKG4uc2tpcHNbdF0udGVzdChlKSlyZXR1cm4hMTtmb3IodD0wLHI9bi5uYW1lcy5sZW5ndGg7dDxyO3QrKylpZihuLm5hbWVzW3RdLnRlc3QoZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yP2Uuc3RhY2t8fGUubWVzc2FnZTplfW49dC5leHBvcnRzPW8uZGVidWc9by5kZWZhdWx0PW8sbi5jb2VyY2U9dSxuLmRpc2FibGU9cyxuLmVuYWJsZT1pLG4uZW5hYmxlZD1hLG4uaHVtYW5pemU9ZSg4KSxuLm5hbWVzPVtdLG4uc2tpcHM9W10sbi5mb3JtYXR0ZXJzPXt9O3ZhciBjfSx7ODo4fV0sNDpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9ZnVuY3Rpb24gbyhlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX1mdW5jdGlvbiBpKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX1mdW5jdGlvbiBzKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9PWV9ZnVuY3Rpb24gYShlKXtyZXR1cm4gdm9pZCAwPT09ZX10LmV4cG9ydHM9cixyLkV2ZW50RW1pdHRlcj1yLHIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLHIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwLHIuZGVmYXVsdE1heExpc3RlbmVycz0xMCxyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7aWYoIWkoZSl8fGU8MHx8aXNOYU4oZSkpdGhyb3cgVHlwZUVycm9yKCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsaSx1LGM7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSwiZXJyb3IiPT09ZSYmKCF0aGlzLl9ldmVudHMuZXJyb3J8fHModGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXtpZigodD1hcmd1bWVudHNbMV0paW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3ZhciBmPW5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuICgnK3QrIikiKTt0aHJvdyBmLmNvbnRleHQ9dCxmfWlmKG49dGhpcy5fZXZlbnRzW2VdLGEobikpcmV0dXJuITE7aWYobyhuKSlzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOm4uY2FsbCh0aGlzKTticmVhaztjYXNlIDI6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDppPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuLmFwcGx5KHRoaXMsaSl9ZWxzZSBpZihzKG4pKWZvcihpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjPW4uc2xpY2UoKSxyPWMubGVuZ3RoLHU9MDt1PHI7dSsrKWNbdV0uYXBwbHkodGhpcyxpKTtyZXR1cm4hMH0sci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZighbyh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KCJuZXdMaXN0ZW5lciIsZSxvKHQubGlzdGVuZXIpP3QubGlzdGVuZXI6dCksdGhpcy5fZXZlbnRzW2VdP3ModGhpcy5fZXZlbnRzW2VdKT90aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RoaXMuX2V2ZW50c1tlXSx0XTp0aGlzLl9ldmVudHNbZV09dCxzKHRoaXMuX2V2ZW50c1tlXSkmJiF0aGlzLl9ldmVudHNbZV0ud2FybmVkJiYobj1hKHRoaXMuX21heExpc3RlbmVycyk/ci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycykmJm4+MCYmdGhpcy5fZXZlbnRzW2VdLmxlbmd0aD5uJiYodGhpcy5fZXZlbnRzW2VdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LiIsdGhpcy5fZXZlbnRzW2VdLmxlbmd0aCksImZ1bmN0aW9uIj09dHlwZW9mIGNvbnNvbGUudHJhY2UmJmNvbnNvbGUudHJhY2UoKSksdGhpc30sci5wcm90b3R5cGUub249ci5wcm90b3R5cGUuYWRkTGlzdGVuZXIsci5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbikscnx8KHI9ITAsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWlmKCFvKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIHI9ITE7cmV0dXJuIG4ubGlzdGVuZXI9dCx0aGlzLm9uKGUsbiksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksYTtpZighbyh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbZV0pcmV0dXJuIHRoaXM7aWYobj10aGlzLl9ldmVudHNbZV0saT1uLmxlbmd0aCxyPS0xLG49PT10fHxvKG4ubGlzdGVuZXIpJiZuLmxpc3RlbmVyPT09dClkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSx0KTtlbHNlIGlmKHMobikpe2ZvcihhPWk7YS0tID4wOylpZihuW2FdPT09dHx8blthXS5saXN0ZW5lciYmblthXS5saXN0ZW5lcj09PXQpe3I9YTticmVha31pZihyPDApcmV0dXJuIHRoaXM7MT09PW4ubGVuZ3RoPyhuLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0pOm4uc3BsaWNlKHIsMSksdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIixlLHQpfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2V2ZW50cz17fTp0aGlzLl9ldmVudHNbZV0mJmRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHQgaW4gdGhpcy5fZXZlbnRzKSJyZW1vdmVMaXN0ZW5lciIhPT10JiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyh0KTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInJlbW92ZUxpc3RlbmVyIiksdGhpcy5fZXZlbnRzPXt9LHRoaXN9aWYobj10aGlzLl9ldmVudHNbZV0sbyhuKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbik7ZWxzZSBpZihuKWZvcig7bi5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuW24ubGVuZ3RoLTFdKTtyZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzfSxyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzW2VdP28odGhpcy5fZXZlbnRzW2VdKT9bdGhpcy5fZXZlbnRzW2VdXTp0aGlzLl9ldmVudHNbZV0uc2xpY2UoKTpbXX0sci5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlKXtpZih0aGlzLl9ldmVudHMpe3ZhciB0PXRoaXMuX2V2ZW50c1tlXTtpZihvKHQpKXJldHVybiAxO2lmKHQpcmV0dXJuIHQubGVuZ3RofXJldHVybiAwfSxyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5saXN0ZW5lckNvdW50KHQpfX0se31dLDU6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oKXtmPSEwO2Zvcih2YXIgZSx0LG49bC5sZW5ndGg7bjspe2Zvcih0PWwsbD1bXSxlPS0xOysrZTxuOyl0W2VdKCk7bj1sLmxlbmd0aH1mPSExfWZ1bmN0aW9uIHIoZSl7MSE9PWwucHVzaChlKXx8Znx8bygpfXZhciBvLGk9ZS5NdXRhdGlvbk9ic2VydmVyfHxlLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7aWYoaSl7dmFyIHM9MCxhPW5ldyBpKG4pLHU9ZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7YS5vYnNlcnZlKHUse2NoYXJhY3RlckRhdGE6ITB9KSxvPWZ1bmN0aW9uKCl7dS5kYXRhPXM9KytzJTJ9fWVsc2UgaWYoZS5zZXRJbW1lZGlhdGV8fHZvaWQgMD09PWUuTWVzc2FnZUNoYW5uZWwpbz0iZG9jdW1lbnQiaW4gZSYmIm9ucmVhZHlzdGF0ZWNoYW5nZSJpbiBlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe24oKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9LGUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHQpfTpmdW5jdGlvbigpe3NldFRpbWVvdXQobiwwKX07ZWxzZXt2YXIgYz1uZXcgZS5NZXNzYWdlQ2hhbm5lbDtjLnBvcnQxLm9ubWVzc2FnZT1uLG89ZnVuY3Rpb24oKXtjLnBvcnQyLnBvc3RNZXNzYWdlKDApfX12YXIgZixsPVtdO3QuZXhwb3J0cz1yfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNjpbZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9OnQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQ7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBuLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fSx7fV0sNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIG8oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dGhpcy5zdGF0ZT1fLHRoaXMucXVldWU9W10sdGhpcy5vdXRjb21lPXZvaWQgMCxlIT09ciYmdSh0aGlzLGUpfWZ1bmN0aW9uIGkoZSx0LG4pe3RoaXMucHJvbWlzZT1lLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYodGhpcy5vbkZ1bGZpbGxlZD10LHRoaXMuY2FsbEZ1bGZpbGxlZD10aGlzLm90aGVyQ2FsbEZ1bGZpbGxlZCksImZ1bmN0aW9uIj09dHlwZW9mIG4mJih0aGlzLm9uUmVqZWN0ZWQ9bix0aGlzLmNhbGxSZWplY3RlZD10aGlzLm90aGVyQ2FsbFJlamVjdGVkKX1mdW5jdGlvbiBzKGUsdCxuKXtwKGZ1bmN0aW9uKCl7dmFyIHI7dHJ5e3I9dChuKX1jYXRjaCh0KXtyZXR1cm4gdi5yZWplY3QoZSx0KX1yPT09ZT92LnJlamVjdChlLG5ldyBUeXBlRXJyb3IoIkNhbm5vdCByZXNvbHZlIHByb21pc2Ugd2l0aCBpdHNlbGYiKSk6di5yZXNvbHZlKGUscil9KX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUmJmUudGhlbjtpZihlJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbigpe3QuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiB1KGUsdCl7ZnVuY3Rpb24gbih0KXtpfHwoaT0hMCx2LnJlamVjdChlLHQpKX1mdW5jdGlvbiByKHQpe2l8fChpPSEwLHYucmVzb2x2ZShlLHQpKX1mdW5jdGlvbiBvKCl7dChyLG4pfXZhciBpPSExLHM9YyhvKTsiZXJyb3IiPT09cy5zdGF0dXMmJm4ocy52YWx1ZSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXt9O3RyeXtuLnZhbHVlPWUodCksbi5zdGF0dXM9InN1Y2Nlc3MifWNhdGNoKGUpe24uc3RhdHVzPSJlcnJvciIsbi52YWx1ZT1lfXJldHVybiBufWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0aGlzP2U6di5yZXNvbHZlKG5ldyB0aGlzKHIpLGUpfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9bmV3IHRoaXMocik7cmV0dXJuIHYucmVqZWN0KHQsZSl9ZnVuY3Rpb24gZChlKXt2YXIgdD10aGlzO2lmKCJbb2JqZWN0IEFycmF5XSIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoIm11c3QgYmUgYW4gYXJyYXkiKSk7dmFyIG49ZS5sZW5ndGgsbz0hMTtpZighbilyZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtmb3IodmFyIGk9bmV3IEFycmF5KG4pLHM9MCxhPS0xLHU9bmV3IHRoaXMocik7KythPG47KSFmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGEoZSl7aVtyXT1lLCsrcyE9PW58fG98fChvPSEwLHYucmVzb2x2ZSh1LGkpKX10LnJlc29sdmUoZSkudGhlbihhLGZ1bmN0aW9uKGUpe298fChvPSEwLHYucmVqZWN0KHUsZSkpfSl9KGVbYV0sYSk7cmV0dXJuIHV9ZnVuY3Rpb24gaChlKXt2YXIgdD10aGlzO2lmKCJbb2JqZWN0IEFycmF5XSIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoIm11c3QgYmUgYW4gYXJyYXkiKSk7dmFyIG49ZS5sZW5ndGgsbz0hMTtpZighbilyZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtmb3IodmFyIGk9LTEscz1uZXcgdGhpcyhyKTsrK2k8bjspIWZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe298fChvPSEwLHYucmVzb2x2ZShzLGUpKX0sZnVuY3Rpb24oZSl7b3x8KG89ITAsdi5yZWplY3QocyxlKSl9KX0oZVtpXSk7cmV0dXJuIHN9dmFyIHA9ZSg1KSx2PXt9LGc9WyJSRUpFQ1RFRCJdLHk9WyJGVUxGSUxMRUQiXSxfPVsiUEVORElORyJdO3QuZXhwb3J0cz1vLG8ucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX0sby5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZ0aGlzLnN0YXRlPT09eXx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQmJnRoaXMuc3RhdGU9PT1nKXJldHVybiB0aGlzO3ZhciBuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHIpO2lmKHRoaXMuc3RhdGUhPT1fKXtzKG4sdGhpcy5zdGF0ZT09PXk/ZTp0LHRoaXMub3V0Y29tZSl9ZWxzZSB0aGlzLnF1ZXVlLnB1c2gobmV3IGkobixlLHQpKTtyZXR1cm4gbn0saS5wcm90b3R5cGUuY2FsbEZ1bGZpbGxlZD1mdW5jdGlvbihlKXt2LnJlc29sdmUodGhpcy5wcm9taXNlLGUpfSxpLnByb3RvdHlwZS5vdGhlckNhbGxGdWxmaWxsZWQ9ZnVuY3Rpb24oZSl7cyh0aGlzLnByb21pc2UsdGhpcy5vbkZ1bGZpbGxlZCxlKX0saS5wcm90b3R5cGUuY2FsbFJlamVjdGVkPWZ1bmN0aW9uKGUpe3YucmVqZWN0KHRoaXMucHJvbWlzZSxlKX0saS5wcm90b3R5cGUub3RoZXJDYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24oZSl7cyh0aGlzLnByb21pc2UsdGhpcy5vblJlamVjdGVkLGUpfSx2LnJlc29sdmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1jKGEsdCk7aWYoImVycm9yIj09PW4uc3RhdHVzKXJldHVybiB2LnJlamVjdChlLG4udmFsdWUpO3ZhciByPW4udmFsdWU7aWYocil1KGUscik7ZWxzZXtlLnN0YXRlPXksZS5vdXRjb21lPXQ7Zm9yKHZhciBvPS0xLGk9ZS5xdWV1ZS5sZW5ndGg7KytvPGk7KWUucXVldWVbb10uY2FsbEZ1bGZpbGxlZCh0KX1yZXR1cm4gZX0sdi5yZWplY3Q9ZnVuY3Rpb24oZSx0KXtlLnN0YXRlPWcsZS5vdXRjb21lPXQ7Zm9yKHZhciBuPS0xLHI9ZS5xdWV1ZS5sZW5ndGg7KytuPHI7KWUucXVldWVbbl0uY2FsbFJlamVjdGVkKHQpO3JldHVybiBlfSxvLnJlc29sdmU9ZixvLnJlamVjdD1sLG8uYWxsPWQsby5yYWNlPWh9LHs1OjV9XSw4OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlKXtpZihlPVN0cmluZyhlKSwhKGUubGVuZ3RoPjFlNCkpe3ZhciB0PS9eKCg/OlxkKyk/XC4/XGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoZSk7aWYodCl7dmFyIG49cGFyc2VGbG9hdCh0WzFdKTtzd2l0Y2goKHRbMl18fCJtcyIpLnRvTG93ZXJDYXNlKCkpe2Nhc2UieWVhcnMiOmNhc2UieWVhciI6Y2FzZSJ5cnMiOmNhc2UieXIiOmNhc2UieSI6cmV0dXJuIG4qbDtjYXNlImRheXMiOmNhc2UiZGF5IjpjYXNlImQiOnJldHVybiBuKmY7Y2FzZSJob3VycyI6Y2FzZSJob3VyIjpjYXNlImhycyI6Y2FzZSJociI6Y2FzZSJoIjpyZXR1cm4gbipjO2Nhc2UibWludXRlcyI6Y2FzZSJtaW51dGUiOmNhc2UibWlucyI6Y2FzZSJtaW4iOmNhc2UibSI6cmV0dXJuIG4qdTtjYXNlInNlY29uZHMiOmNhc2Uic2Vjb25kIjpjYXNlInNlY3MiOmNhc2Uic2VjIjpjYXNlInMiOnJldHVybiBuKmE7Y2FzZSJtaWxsaXNlY29uZHMiOmNhc2UibWlsbGlzZWNvbmQiOmNhc2UibXNlY3MiOmNhc2UibXNlYyI6Y2FzZSJtcyI6cmV0dXJuIG47ZGVmYXVsdDpyZXR1cm59fX19ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZT49Zj9NYXRoLnJvdW5kKGUvZikrImQiOmU+PWM/TWF0aC5yb3VuZChlL2MpKyJoIjplPj11P01hdGgucm91bmQoZS91KSsibSI6ZT49YT9NYXRoLnJvdW5kKGUvYSkrInMiOmUrIm1zIn1mdW5jdGlvbiBpKGUpe3JldHVybiBzKGUsZiwiZGF5Iil8fHMoZSxjLCJob3VyIil8fHMoZSx1LCJtaW51dGUiKXx8cyhlLGEsInNlY29uZCIpfHxlKyIgbXMifWZ1bmN0aW9uIHMoZSx0LG4pe2lmKCEoZTx0KSlyZXR1cm4gZTwxLjUqdD9NYXRoLmZsb29yKGUvdCkrIiAiK246TWF0aC5jZWlsKGUvdCkrIiAiK24rInMifXZhciBhPTFlMyx1PTYwKmEsYz02MCp1LGY9MjQqYyxsPTM2NS4yNSpmO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49dHlwZW9mIGU7aWYoInN0cmluZyI9PT1uJiZlLmxlbmd0aD4wKXJldHVybiByKGUpO2lmKCJudW1iZXIiPT09biYmaXNOYU4oZSk9PT0hMSlyZXR1cm4gdC5sb25nP2koZSk6byhlKTt0aHJvdyBuZXcgRXJyb3IoInZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9IitKU09OLnN0cmluZ2lmeShlKSl9fSx7fV0sOTpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBpKGUpe2lmKGw9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKGw9PT1yfHwhbCkmJnNldFRpbWVvdXQpcmV0dXJuIGw9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBsKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiBsLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiBsLmNhbGwodGhpcyxlLDApfX19ZnVuY3Rpb24gcyhlKXtpZihkPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKGQ9PT1vfHwhZCkmJmNsZWFyVGltZW91dClyZXR1cm4gZD1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyZXR1cm4gZChlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGQuY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBkLmNhbGwodGhpcyxlKX19fWZ1bmN0aW9uIGEoKXtnJiZwJiYoZz0hMSxwLmxlbmd0aD92PXAuY29uY2F0KHYpOnk9LTEsdi5sZW5ndGgmJnUoKSl9ZnVuY3Rpb24gdSgpe2lmKCFnKXt2YXIgZT1pKGEpO2c9ITA7Zm9yKHZhciB0PXYubGVuZ3RoO3Q7KXtmb3IocD12LHY9W107Kyt5PHQ7KXAmJnBbeV0ucnVuKCk7eT0tMSx0PXYubGVuZ3RofXA9bnVsbCxnPSExLHMoZSl9fWZ1bmN0aW9uIGMoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBmKCl7fXZhciBsLGQsaD10LmV4cG9ydHM9e307IWZ1bmN0aW9uKCl7dHJ5e2w9ImZ1bmN0aW9uIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpyfWNhdGNoKGUpe2w9cn10cnl7ZD0iZnVuY3Rpb24iPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpvfWNhdGNoKGUpe2Q9b319KCk7dmFyIHAsdj1bXSxnPSExLHk9LTE7aC5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3YucHVzaChuZXcgYyhlLHQpKSwxIT09di5sZW5ndGh8fGd8fGkodSl9LGMucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGgudGl0bGU9ImJyb3dzZXIiLGguYnJvd3Nlcj0hMCxoLmVudj17fSxoLmFyZ3Y9W10saC52ZXJzaW9uPSIiLGgudmVyc2lvbnM9e30saC5vbj1mLGguYWRkTGlzdGVuZXI9ZixoLm9uY2U9ZixoLm9mZj1mLGgucmVtb3ZlTGlzdGVuZXI9ZixoLnJlbW92ZUFsbExpc3RlbmVycz1mLGguZW1pdD1mLGguYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LGguY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxoLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LGgudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHt9XSwxMDpbZnVuY3Rpb24odCxuLHIpeyFmdW5jdGlvbih0KXtpZigib2JqZWN0Ij09dHlwZW9mIHIpbi5leHBvcnRzPXQoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZCllKHQpO2Vsc2V7dmFyIG87dHJ5e289d2luZG93fWNhdGNoKGUpe289c2VsZn1vLlNwYXJrTUQ1PXQoKX19KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUsdCl7dmFyIG49ZVswXSxyPWVbMV0sbz1lWzJdLGk9ZVszXTtuKz0ociZvfH5yJmkpK3RbMF0tNjgwODc2OTM2fDAsbj0objw8N3xuPj4+MjUpK3J8MCxpKz0obiZyfH5uJm8pK3RbMV0tMzg5NTY0NTg2fDAsaT0oaTw8MTJ8aT4+PjIwKStufDAsbys9KGkmbnx+aSZyKSt0WzJdKzYwNjEwNTgxOXwwLG89KG88PDE3fG8+Pj4xNSkraXwwLHIrPShvJml8fm8mbikrdFszXS0xMDQ0NTI1MzMwfDAscj0ocjw8MjJ8cj4+PjEwKStvfDAsbis9KHImb3x+ciZpKSt0WzRdLTE3NjQxODg5N3wwLG49KG48PDd8bj4+PjI1KStyfDAsaSs9KG4mcnx+biZvKSt0WzVdKzEyMDAwODA0MjZ8MCxpPShpPDwxMnxpPj4+MjApK258MCxvKz0oaSZufH5pJnIpK3RbNl0tMTQ3MzIzMTM0MXwwLG89KG88PDE3fG8+Pj4xNSkraXwwLHIrPShvJml8fm8mbikrdFs3XS00NTcwNTk4M3wwLHI9KHI8PDIyfHI+Pj4xMCkrb3wwLG4rPShyJm98fnImaSkrdFs4XSsxNzcwMDM1NDE2fDAsbj0objw8N3xuPj4+MjUpK3J8MCxpKz0obiZyfH5uJm8pK3RbOV0tMTk1ODQxNDQxN3wwLGk9KGk8PDEyfGk+Pj4yMCkrbnwwLG8rPShpJm58fmkmcikrdFsxMF0tNDIwNjN8MCxvPShvPDwxN3xvPj4+MTUpK2l8MCxyKz0obyZpfH5vJm4pK3RbMTFdLTE5OTA0MDQxNjJ8MCxyPShyPDwyMnxyPj4+MTApK298MCxuKz0ociZvfH5yJmkpK3RbMTJdKzE4MDQ2MDM2ODJ8MCxuPShuPDw3fG4+Pj4yNSkrcnwwLGkrPShuJnJ8fm4mbykrdFsxM10tNDAzNDExMDF8MCxpPShpPDwxMnxpPj4+MjApK258MCxvKz0oaSZufH5pJnIpK3RbMTRdLTE1MDIwMDIyOTB8MCxvPShvPDwxN3xvPj4+MTUpK2l8MCxyKz0obyZpfH5vJm4pK3RbMTVdKzEyMzY1MzUzMjl8MCxyPShyPDwyMnxyPj4+MTApK298MCxuKz0ociZpfG8mfmkpK3RbMV0tMTY1Nzk2NTEwfDAsbj0objw8NXxuPj4+MjcpK3J8MCxpKz0obiZvfHImfm8pK3RbNl0tMTA2OTUwMTYzMnwwLGk9KGk8PDl8aT4+PjIzKStufDAsbys9KGkmcnxuJn5yKSt0WzExXSs2NDM3MTc3MTN8MCxvPShvPDwxNHxvPj4+MTgpK2l8MCxyKz0obyZufGkmfm4pK3RbMF0tMzczODk3MzAyfDAscj0ocjw8MjB8cj4+PjEyKStvfDAsbis9KHImaXxvJn5pKSt0WzVdLTcwMTU1ODY5MXwwLG49KG48PDV8bj4+PjI3KStyfDAsaSs9KG4mb3xyJn5vKSt0WzEwXSszODAxNjA4M3wwLGk9KGk8PDl8aT4+PjIzKStufDAsbys9KGkmcnxuJn5yKSt0WzE1XS02NjA0NzgzMzV8MCxvPShvPDwxNHxvPj4+MTgpK2l8MCxyKz0obyZufGkmfm4pK3RbNF0tNDA1NTM3ODQ4fDAscj0ocjw8MjB8cj4+PjEyKStvfDAsbis9KHImaXxvJn5pKSt0WzldKzU2ODQ0NjQzOHwwLG49KG48PDV8bj4+PjI3KStyfDAsaSs9KG4mb3xyJn5vKSt0WzE0XS0xMDE5ODAzNjkwfDAsaT0oaTw8OXxpPj4+MjMpK258MCxvKz0oaSZyfG4mfnIpK3RbM10tMTg3MzYzOTYxfDAsbz0obzw8MTR8bz4+PjE4KStpfDAscis9KG8mbnxpJn5uKSt0WzhdKzExNjM1MzE1MDF8MCxyPShyPDwyMHxyPj4+MTIpK298MCxuKz0ociZpfG8mfmkpK3RbMTNdLTE0NDQ2ODE0Njd8MCxuPShuPDw1fG4+Pj4yNykrcnwwLGkrPShuJm98ciZ+bykrdFsyXS01MTQwMzc4NHwwLGk9KGk8PDl8aT4+PjIzKStufDAsbys9KGkmcnxuJn5yKSt0WzddKzE3MzUzMjg0NzN8MCxvPShvPDwxNHxvPj4+MTgpK2l8MCxyKz0obyZufGkmfm4pK3RbMTJdLTE5MjY2MDc3MzR8MCxyPShyPDwyMHxyPj4+MTIpK298MCxuKz0ocl5vXmkpK3RbNV0tMzc4NTU4fDAsbj0objw8NHxuPj4+MjgpK3J8MCxpKz0obl5yXm8pK3RbOF0tMjAyMjU3NDQ2M3wwLGk9KGk8PDExfGk+Pj4yMSkrbnwwLG8rPShpXm5ecikrdFsxMV0rMTgzOTAzMDU2MnwwLG89KG88PDE2fG8+Pj4xNikraXwwLHIrPShvXmlebikrdFsxNF0tMzUzMDk1NTZ8MCxyPShyPDwyM3xyPj4+OSkrb3wwLG4rPShyXm9eaSkrdFsxXS0xNTMwOTkyMDYwfDAsbj0objw8NHxuPj4+MjgpK3J8MCxpKz0obl5yXm8pK3RbNF0rMTI3Mjg5MzM1M3wwLGk9KGk8PDExfGk+Pj4yMSkrbnwwLG8rPShpXm5ecikrdFs3XS0xNTU0OTc2MzJ8MCxvPShvPDwxNnxvPj4+MTYpK2l8MCxyKz0ob15pXm4pK3RbMTBdLTEwOTQ3MzA2NDB8MCxyPShyPDwyM3xyPj4+OSkrb3wwLG4rPShyXm9eaSkrdFsxM10rNjgxMjc5MTc0fDAsbj0objw8NHxuPj4+MjgpK3J8MCxpKz0obl5yXm8pK3RbMF0tMzU4NTM3MjIyfDAsaT0oaTw8MTF8aT4+PjIxKStufDAsbys9KGlebl5yKSt0WzNdLTcyMjUyMTk3OXwwLG89KG88PDE2fG8+Pj4xNikraXwwLHIrPShvXmlebikrdFs2XSs3NjAyOTE4OXwwLHI9KHI8PDIzfHI+Pj45KStvfDAsbis9KHJeb15pKSt0WzldLTY0MDM2NDQ4N3wwLG49KG48PDR8bj4+PjI4KStyfDAsaSs9KG5ecl5vKSt0WzEyXS00MjE4MTU4MzV8MCxpPShpPDwxMXxpPj4+MjEpK258MCxvKz0oaV5uXnIpK3RbMTVdKzUzMDc0MjUyMHwwLG89KG88PDE2fG8+Pj4xNikraXwwLHIrPShvXmlebikrdFsyXS05OTUzMzg2NTF8MCxyPShyPDwyM3xyPj4+OSkrb3wwLG4rPShvXihyfH5pKSkrdFswXS0xOTg2MzA4NDR8MCxuPShuPDw2fG4+Pj4yNikrcnwwLGkrPShyXihufH5vKSkrdFs3XSsxMTI2ODkxNDE1fDAsaT0oaTw8MTB8aT4+PjIyKStufDAsbys9KG5eKGl8fnIpKSt0WzE0XS0xNDE2MzU0OTA1fDAsbz0obzw8MTV8bz4+PjE3KStpfDAscis9KGleKG98fm4pKSt0WzVdLTU3NDM0MDU1fDAscj0ocjw8MjF8cj4+PjExKStvfDAsbis9KG9eKHJ8fmkpKSt0WzEyXSsxNzAwNDg1NTcxfDAsbj0objw8NnxuPj4+MjYpK3J8MCxpKz0ocl4obnx+bykpK3RbM10tMTg5NDk4NjYwNnwwLGk9KGk8PDEwfGk+Pj4yMikrbnwwLG8rPShuXihpfH5yKSkrdFsxMF0tMTA1MTUyM3wwLG89KG88PDE1fG8+Pj4xNykraXwwLHIrPShpXihvfH5uKSkrdFsxXS0yMDU0OTIyNzk5fDAscj0ocjw8MjF8cj4+PjExKStvfDAsbis9KG9eKHJ8fmkpKSt0WzhdKzE4NzMzMTMzNTl8MCxuPShuPDw2fG4+Pj4yNikrcnwwLGkrPShyXihufH5vKSkrdFsxNV0tMzA2MTE3NDR8MCxpPShpPDwxMHxpPj4+MjIpK258MCxvKz0obl4oaXx+cikpK3RbNl0tMTU2MDE5ODM4MHwwLG89KG88PDE1fG8+Pj4xNykraXwwLHIrPShpXihvfH5uKSkrdFsxM10rMTMwOTE1MTY0OXwwLHI9KHI8PDIxfHI+Pj4xMSkrb3wwLG4rPShvXihyfH5pKSkrdFs0XS0xNDU1MjMwNzB8MCxuPShuPDw2fG4+Pj4yNikrcnwwLGkrPShyXihufH5vKSkrdFsxMV0tMTEyMDIxMDM3OXwwLGk9KGk8PDEwfGk+Pj4yMikrbnwwLG8rPShuXihpfH5yKSkrdFsyXSs3MTg3ODcyNTl8MCxvPShvPDwxNXxvPj4+MTcpK2l8MCxyKz0oaV4ob3x+bikpK3RbOV0tMzQzNDg1NTUxfDAscj0ocjw8MjF8cj4+PjExKStvfDAsZVswXT1uK2VbMF18MCxlWzFdPXIrZVsxXXwwLGVbMl09bytlWzJdfDAsZVszXT1pK2VbM118MH1mdW5jdGlvbiBuKGUpe3ZhciB0LG49W107Zm9yKHQ9MDt0PDY0O3QrPTQpblt0Pj4yXT1lLmNoYXJDb2RlQXQodCkrKGUuY2hhckNvZGVBdCh0KzEpPDw4KSsoZS5jaGFyQ29kZUF0KHQrMik8PDE2KSsoZS5jaGFyQ29kZUF0KHQrMyk8PDI0KTtyZXR1cm4gbn1mdW5jdGlvbiByKGUpe3ZhciB0LG49W107Zm9yKHQ9MDt0PDY0O3QrPTQpblt0Pj4yXT1lW3RdKyhlW3QrMV08PDgpKyhlW3QrMl08PDE2KSsoZVt0KzNdPDwyNCk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlKXt2YXIgcixvLGkscyxhLHUsYz1lLmxlbmd0aCxmPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XTtmb3Iocj02NDtyPD1jO3IrPTY0KXQoZixuKGUuc3Vic3RyaW5nKHItNjQscikpKTtmb3IoZT1lLnN1YnN0cmluZyhyLTY0KSxvPWUubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdLHI9MDtyPG87cis9MSlpW3I+PjJdfD1lLmNoYXJDb2RlQXQocik8PChyJTQ8PDMpO2lmKGlbcj4+Ml18PTEyODw8KHIlNDw8Mykscj41NSlmb3IodChmLGkpLHI9MDtyPDE2O3IrPTEpaVtyXT0wO3JldHVybiBzPTgqYyxzPXMudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLGE9cGFyc2VJbnQoc1syXSwxNiksdT1wYXJzZUludChzWzFdLDE2KXx8MCxpWzE0XT1hLGlbMTVdPXUsdChmLGkpLGZ9ZnVuY3Rpb24gaShlKXt2YXIgbixvLGkscyxhLHUsYz1lLmxlbmd0aCxmPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XTtmb3Iobj02NDtuPD1jO24rPTY0KXQoZixyKGUuc3ViYXJyYXkobi02NCxuKSkpO2ZvcihlPW4tNjQ8Yz9lLnN1YmFycmF5KG4tNjQpOm5ldyBVaW50OEFycmF5KDApLG89ZS5sZW5ndGgsaT1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sbj0wO248bztuKz0xKWlbbj4+Ml18PWVbbl08PChuJTQ8PDMpO2lmKGlbbj4+Ml18PTEyODw8KG4lNDw8Myksbj41NSlmb3IodChmLGkpLG49MDtuPDE2O24rPTEpaVtuXT0wO3JldHVybiBzPTgqYyxzPXMudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLGE9cGFyc2VJbnQoc1syXSwxNiksdT1wYXJzZUludChzWzFdLDE2KXx8MCxpWzE0XT1hLGlbMTVdPXUsdChmLGkpLGZ9ZnVuY3Rpb24gcyhlKXt2YXIgdCxuPSIiO2Zvcih0PTA7dDw0O3QrPTEpbis9cFtlPj44KnQrNCYxNV0rcFtlPj44KnQmMTVdO3JldHVybiBufWZ1bmN0aW9uIGEoZSl7dmFyIHQ7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrPTEpZVt0XT1zKGVbdF0pO3JldHVybiBlLmpvaW4oIiIpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuL1tcdTAwODAtXHVGRkZGXS8udGVzdChlKSYmKGU9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSksZX1mdW5jdGlvbiBjKGUsdCl7dmFyIG4scj1lLmxlbmd0aCxvPW5ldyBBcnJheUJ1ZmZlcihyKSxpPW5ldyBVaW50OEFycmF5KG8pO2ZvcihuPTA7bjxyO24rPTEpaVtuXT1lLmNoYXJDb2RlQXQobik7cmV0dXJuIHQ/aTpvfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShlKSl9ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoK3QuYnl0ZUxlbmd0aCk7cmV0dXJuIHIuc2V0KG5ldyBVaW50OEFycmF5KGUpKSxyLnNldChuZXcgVWludDhBcnJheSh0KSxlLmJ5dGVMZW5ndGgpLG4/cjpyLmJ1ZmZlcn1mdW5jdGlvbiBkKGUpe3ZhciB0LG49W10scj1lLmxlbmd0aDtmb3IodD0wO3Q8ci0xO3QrPTIpbi5wdXNoKHBhcnNlSW50KGUuc3Vic3RyKHQsMiksMTYpKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbil9ZnVuY3Rpb24gaCgpe3RoaXMucmVzZXQoKX12YXIgcD1bIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiXTtyZXR1cm4iNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTIiIT09YShvKCJoZWxsbyIpKSYmZnVuY3Rpb24oZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufSwidW5kZWZpbmVkIj09dHlwZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2V8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiBlPTB8ZXx8MCxlPDA/TWF0aC5tYXgoZSt0LDApOk1hdGgubWluKGUsdCl9QXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKG4scil7dmFyIG8saSxzLGEsdT10aGlzLmJ5dGVMZW5ndGgsYz10KG4sdSksZj11O3JldHVybiByIT09ZSYmKGY9dChyLHUpKSxjPmY/bmV3IEFycmF5QnVmZmVyKDApOihvPWYtYyxpPW5ldyBBcnJheUJ1ZmZlcihvKSxzPW5ldyBVaW50OEFycmF5KGkpLGE9bmV3IFVpbnQ4QXJyYXkodGhpcyxjLG8pLHMuc2V0KGEpLGkpfX0oKSxoLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwZW5kQmluYXJ5KHUoZSkpLHRoaXN9LGgucHJvdG90eXBlLmFwcGVuZEJpbmFyeT1mdW5jdGlvbihlKXt0aGlzLl9idWZmKz1lLHRoaXMuX2xlbmd0aCs9ZS5sZW5ndGg7dmFyIHIsbz10aGlzLl9idWZmLmxlbmd0aDtmb3Iocj02NDtyPD1vO3IrPTY0KXQodGhpcy5faGFzaCxuKHRoaXMuX2J1ZmYuc3Vic3RyaW5nKHItNjQscikpKTtyZXR1cm4gdGhpcy5fYnVmZj10aGlzLl9idWZmLnN1YnN0cmluZyhyLTY0KSx0aGlzfSxoLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMuX2J1ZmYsbz1yLmxlbmd0aCxpPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXTtmb3IodD0wO3Q8bzt0Kz0xKWlbdD4+Ml18PXIuY2hhckNvZGVBdCh0KTw8KHQlNDw8Myk7cmV0dXJuIHRoaXMuX2ZpbmlzaChpLG8pLG49YSh0aGlzLl9oYXNoKSxlJiYobj1kKG4pKSx0aGlzLnJlc2V0KCksbn0saC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZj0iIix0aGlzLl9sZW5ndGg9MCx0aGlzLl9oYXNoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XSx0aGlzfSxoLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybntidWZmOnRoaXMuX2J1ZmYsbGVuZ3RoOnRoaXMuX2xlbmd0aCxoYXNoOnRoaXMuX2hhc2h9fSxoLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYnVmZj1lLmJ1ZmYsdGhpcy5fbGVuZ3RoPWUubGVuZ3RoLHRoaXMuX2hhc2g9ZS5oYXNoLHRoaXN9LGgucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5faGFzaCxkZWxldGUgdGhpcy5fYnVmZixkZWxldGUgdGhpcy5fbGVuZ3RofSxoLnByb3RvdHlwZS5fZmluaXNoPWZ1bmN0aW9uKGUsbil7dmFyIHIsbyxpLHM9bjtpZihlW3M+PjJdfD0xMjg8PChzJTQ8PDMpLHM+NTUpZm9yKHQodGhpcy5faGFzaCxlKSxzPTA7czwxNjtzKz0xKWVbc109MDtyPTgqdGhpcy5fbGVuZ3RoLHI9ci50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyksbz1wYXJzZUludChyWzJdLDE2KSxpPXBhcnNlSW50KHJbMV0sMTYpfHwwLGVbMTRdPW8sZVsxNV09aSx0KHRoaXMuX2hhc2gsZSl9LGguaGFzaD1mdW5jdGlvbihlLHQpe3JldHVybiBoLmhhc2hCaW5hcnkodShlKSx0KX0saC5oYXNoQmluYXJ5PWZ1bmN0aW9uKGUsdCl7dmFyIG49byhlKSxyPWEobik7cmV0dXJuIHQ/ZChyKTpyfSxoLkFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSxoLkFycmF5QnVmZmVyLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7dmFyIG4sbz1sKHRoaXMuX2J1ZmYuYnVmZmVyLGUsITApLGk9by5sZW5ndGg7Zm9yKHRoaXMuX2xlbmd0aCs9ZS5ieXRlTGVuZ3RoLG49NjQ7bjw9aTtuKz02NCl0KHRoaXMuX2hhc2gscihvLnN1YmFycmF5KG4tNjQsbikpKTtyZXR1cm4gdGhpcy5fYnVmZj1uLTY0PGk/bmV3IFVpbnQ4QXJyYXkoby5idWZmZXIuc2xpY2Uobi02NCkpOm5ldyBVaW50OEFycmF5KDApLHRoaXN9LGguQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5fYnVmZixvPXIubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdO2Zvcih0PTA7dDxvO3QrPTEpaVt0Pj4yXXw9clt0XTw8KHQlNDw8Myk7cmV0dXJuIHRoaXMuX2ZpbmlzaChpLG8pLG49YSh0aGlzLl9oYXNoKSxlJiYobj1kKG4pKSx0aGlzLnJlc2V0KCksbn0saC5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZj1uZXcgVWludDhBcnJheSgwKSx0aGlzLl9sZW5ndGg9MCx0aGlzLl9oYXNoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XSx0aGlzfSxoLkFycmF5QnVmZmVyLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3ZhciBlPWgucHJvdG90eXBlLmdldFN0YXRlLmNhbGwodGhpcyk7cmV0dXJuIGUuYnVmZj1mKGUuYnVmZiksZX0saC5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYnVmZj1jKGUuYnVmZiwhMCksaC5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLGUpfSxoLkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95PWgucHJvdG90eXBlLmRlc3Ryb3ksaC5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaD1oLnByb3RvdHlwZS5fZmluaXNoLGguQXJyYXlCdWZmZXIuaGFzaD1mdW5jdGlvbihlLHQpe3ZhciBuPWkobmV3IFVpbnQ4QXJyYXkoZSkpLHI9YShuKTtyZXR1cm4gdD9kKHIpOnJ9LGh9KX0se31dLDExOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LG4pe3ZhciByPW5bbi5sZW5ndGgtMV07ZT09PXIuZWxlbWVudCYmKG4ucG9wKCkscj1uW24ubGVuZ3RoLTFdKTt2YXIgbz1yLmVsZW1lbnQsaT1yLmluZGV4O2lmKEFycmF5LmlzQXJyYXkobykpby5wdXNoKGUpO2Vsc2UgaWYoaT09PXQubGVuZ3RoLTIpe3ZhciBzPXQucG9wKCk7b1tzXT1lfWVsc2UgdC5wdXNoKGUpfW4uc3RyaW5naWZ5PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3QucHVzaCh7b2JqOmV9KTtmb3IodmFyIG4scixvLGkscyxhLHUsYyxmLGwsZCxoPSIiO249dC5wb3AoKTspaWYocj1uLm9iaixvPW4ucHJlZml4fHwiIixpPW4udmFsfHwiIixoKz1vLGkpaCs9aTtlbHNlIGlmKCJvYmplY3QiIT10eXBlb2YgciloKz12b2lkIDA9PT1yP251bGw6SlNPTi5zdHJpbmdpZnkocik7ZWxzZSBpZihudWxsPT09ciloKz0ibnVsbCI7ZWxzZSBpZihBcnJheS5pc0FycmF5KHIpKXtmb3IodC5wdXNoKHt2YWw6Il0ifSkscz1yLmxlbmd0aC0xO3M+PTA7cy0tKWE9MD09PXM/IiI6IiwiLHQucHVzaCh7b2JqOnJbc10scHJlZml4OmF9KTt0LnB1c2goe3ZhbDoiWyJ9KX1lbHNle3U9W107Zm9yKGMgaW4gcilyLmhhc093blByb3BlcnR5KGMpJiZ1LnB1c2goYyk7Zm9yKHQucHVzaCh7dmFsOiJ9In0pLHM9dS5sZW5ndGgtMTtzPj0wO3MtLSlmPXVbc10sbD1yW2ZdLGQ9cz4wPyIsIjoiIixkKz1KU09OLnN0cmluZ2lmeShmKSsiOiIsdC5wdXNoKHtvYmo6bCxwcmVmaXg6ZH0pO3QucHVzaCh7dmFsOiJ7In0pfXJldHVybiBofSxuLnBhcnNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLG8saSxzLGEsdSxjLGYsbD1bXSxkPVtdLGg9MDs7KWlmKCJ9IiE9PSh0PWVbaCsrXSkmJiJdIiE9PXQmJnZvaWQgMCE9PXQpc3dpdGNoKHQpe2Nhc2UiICI6Y2FzZSJcdCI6Y2FzZSJcbiI6Y2FzZSI6IjpjYXNlIiwiOmJyZWFrO2Nhc2UibiI6aCs9MyxyKG51bGwsbCxkKTticmVhaztjYXNlInQiOmgrPTMscighMCxsLGQpO2JyZWFrO2Nhc2UiZiI6aCs9NCxyKCExLGwsZCk7YnJlYWs7Y2FzZSIwIjpjYXNlIjEiOmNhc2UiMiI6Y2FzZSIzIjpjYXNlIjQiOmNhc2UiNSI6Y2FzZSI2IjpjYXNlIjciOmNhc2UiOCI6Y2FzZSI5IjpjYXNlIi0iOmZvcihuPSIiLGgtLTs7KXtpZihvPWVbaCsrXSwhL1tcZFwuXC1lXCtdLy50ZXN0KG8pKXtoLS07YnJlYWt9bis9b31yKHBhcnNlRmxvYXQobiksbCxkKTticmVhaztjYXNlJyInOmZvcihpPSIiLHM9dm9pZCAwLGE9MDs7KXtpZignIic9PT0odT1lW2grK10pJiYoIlxcIiE9PXN8fGElMiE9MSkpYnJlYWs7aSs9dSxzPXUsIlxcIj09PXM/YSsrOmE9MH1yKEpTT04ucGFyc2UoJyInK2krJyInKSxsLGQpO2JyZWFrO2Nhc2UiWyI6Yz17ZWxlbWVudDpbXSxpbmRleDpsLmxlbmd0aH0sbC5wdXNoKGMuZWxlbWVudCksZC5wdXNoKGMpO2JyZWFrO2Nhc2UieyI6Zj17ZWxlbWVudDp7fSxpbmRleDpsLmxlbmd0aH0sbC5wdXNoKGYuZWxlbWVudCksZC5wdXNoKGYpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICIrdCl9ZWxzZXtpZigxPT09bC5sZW5ndGgpcmV0dXJuIGwucG9wKCk7cihsLnBvcCgpLGwsZCl9fX0se31dLDEyOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZS5kZWZhdWx0OmV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYiYmZSBpbnN0YW5jZW9mIEJsb2J9ZnVuY3Rpb24gaShlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5zbGljZSlyZXR1cm4gZS5zbGljZSgwKTt2YXIgdD1uZXcgQXJyYXlCdWZmZXIoZS5ieXRlTGVuZ3RoKSxuPW5ldyBVaW50OEFycmF5KHQpLHI9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIG4uc2V0KHIpLHR9ZnVuY3Rpb24gcyhlKXtpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIGkoZSk7dmFyIHQ9ZS5zaXplLG49ZS50eXBlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLnNsaWNlP2Uuc2xpY2UoMCx0LG4pOmUud2Via2l0U2xpY2UoMCx0LG4pfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKG51bGw9PT10KXJldHVybiEwO3ZhciBuPXQuY29uc3RydWN0b3I7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZnby5jYWxsKG4pPT15b31mdW5jdGlvbiB1KGUpe3ZhciB0LG4scjtpZighZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiBlO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih0PVtdLG49MCxyPWUubGVuZ3RoO248cjtuKyspdFtuXT11KGVbbl0pO3JldHVybiB0fWlmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBlLnRvSVNPU3RyaW5nKCk7aWYobyhlKSlyZXR1cm4gcyhlKTtpZighYShlKSlyZXR1cm4gZTt0PXt9O2ZvcihuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikpe3ZhciBpPXUoZVtuXSk7dm9pZCAwIT09aSYmKHRbbl09aSl9cmV0dXJuIHR9ZnVuY3Rpb24gYyhlKXt2YXIgdD0hMTtyZXR1cm4gYW8oZnVuY3Rpb24obil7aWYodCl0aHJvdyBuZXcgRXJyb3IoIm9uY2UgY2FsbGVkIG1vcmUgdGhhbiBvbmNlIik7dD0hMCxlLmFwcGx5KHRoaXMsbil9KX1mdW5jdGlvbiBmKGUpe3JldHVybiBhbyhmdW5jdGlvbih0KXt0PXUodCk7dmFyIG49dGhpcyxyPSJmdW5jdGlvbiI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiZ0LnBvcCgpLG89bmV3IHZvKGZ1bmN0aW9uKHIsbyl7dmFyIGk7dHJ5e3ZhciBzPWMoZnVuY3Rpb24oZSx0KXtlP28oZSk6cih0KX0pO3QucHVzaChzKSxpPWUuYXBwbHkobix0KSxpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS50aGVuJiZyKGkpfWNhdGNoKGUpe28oZSl9fSk7cmV0dXJuIHImJm8udGhlbihmdW5jdGlvbihlKXtyKG51bGwsZSl9LHIpLG99KX1mdW5jdGlvbiBsKGUsdCxuKXtpZihlLmNvbnN0cnVjdG9yLmxpc3RlbmVycygiZGVidWciKS5sZW5ndGgpe2Zvcih2YXIgcj1bImFwaSIsZS5uYW1lLHRdLG89MDtvPG4ubGVuZ3RoLTE7bysrKXIucHVzaChuW29dKTtlLmNvbnN0cnVjdG9yLmVtaXQoImRlYnVnIixyKTt2YXIgaT1uW24ubGVuZ3RoLTFdO25bbi5sZW5ndGgtMV09ZnVuY3Rpb24obixyKXt2YXIgbz1bImFwaSIsZS5uYW1lLHRdO289by5jb25jYXQobj9bImVycm9yIixuXTpbInN1Y2Nlc3MiLHJdKSxlLmNvbnN0cnVjdG9yLmVtaXQoImRlYnVnIixvKSxpKG4scil9fX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGYoYW8oZnVuY3Rpb24obil7aWYodGhpcy5fY2xvc2VkKXJldHVybiB2by5yZWplY3QobmV3IEVycm9yKCJkYXRhYmFzZSBpcyBjbG9zZWQiKSk7aWYodGhpcy5fZGVzdHJveWVkKXJldHVybiB2by5yZWplY3QobmV3IEVycm9yKCJkYXRhYmFzZSBpcyBkZXN0cm95ZWQiKSk7dmFyIHI9dGhpcztyZXR1cm4gbChyLGUsbiksdGhpcy50YXNrcXVldWUuaXNSZWFkeT90LmFwcGx5KHRoaXMsbik6bmV3IHZvKGZ1bmN0aW9uKHQsbyl7ci50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbihpKXtpP28oaSk6dChyW2VdLmFwcGx5KHIsbikpfSl9KX0pKX1mdW5jdGlvbiBoKGUpe3JldHVybiIkIitlfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGUuc3Vic3RyaW5nKDEpfWZ1bmN0aW9uIHYoKXt0aGlzLl9zdG9yZT17fX1mdW5jdGlvbiBnKGUpe2lmKHRoaXMuX3N0b3JlPW5ldyB2LGUmJkFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciB0PTAsbj1lLmxlbmd0aDt0PG47dCsrKXRoaXMuYWRkKGVbdF0pfWZ1bmN0aW9uIHkoZSx0KXtmb3IodmFyIG49e30scj0wLG89dC5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9dFtyXTtpIGluIGUmJihuW2ldPWVbaV0pfXJldHVybiBufWZ1bmN0aW9uIF8oZSl7cmV0dXJuIGV9ZnVuY3Rpb24gbShlKXtyZXR1cm5be29rOmV9XX1mdW5jdGlvbiBiKGUsdCxuKXtmdW5jdGlvbiByKCl7dmFyIGU9W107ZC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe2UucHVzaCh7aWQ6dC5pZCxkb2NzOltuXX0pfSl9KSxuKG51bGwse3Jlc3VsdHM6ZX0pfWZ1bmN0aW9uIG8oKXsrK2w9PT1mJiZyKCl9ZnVuY3Rpb24gaShlLHQsbil7ZFtlXT17aWQ6dCxkb2NzOm59LG8oKX1mdW5jdGlvbiBzKCl7aWYoIShwPj1oLmxlbmd0aCkpe3ZhciBlPU1hdGgubWluKHArd28saC5sZW5ndGgpLHQ9aC5zbGljZShwLGUpO2EodCxwKSxwKz10Lmxlbmd0aH19ZnVuY3Rpb24gYShuLHIpe24uZm9yRWFjaChmdW5jdGlvbihuLG8pe3ZhciBhPXIrbyx1PWMuZ2V0KG4pLGY9eSh1WzBdLFsiYXR0c19zaW5jZSIsImF0dGFjaG1lbnRzIl0pO2Yub3Blbl9yZXZzPXUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldn0pLGYub3Blbl9yZXZzPWYub3Blbl9yZXZzLmZpbHRlcihfKTt2YXIgbD1fOzA9PT1mLm9wZW5fcmV2cy5sZW5ndGgmJihkZWxldGUgZi5vcGVuX3JldnMsbD1tKSxbInJldnMiLCJhdHRhY2htZW50cyIsImJpbmFyeSIsImFqYXgiLCJsYXRlc3QiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UgaW4gdCYmKGZbZV09dFtlXSl9KSxlLmdldChuLGYsZnVuY3Rpb24oZSx0KXt2YXIgcjtyPWU/W3tlcnJvcjplfV06bCh0KSxpKGEsbixyKSxzKCl9KX0pfXZhciB1PXQuZG9jcyxjPW5ldyBtbzt1LmZvckVhY2goZnVuY3Rpb24oZSl7Yy5oYXMoZS5pZCk/Yy5nZXQoZS5pZCkucHVzaChlKTpjLnNldChlLmlkLFtlXSl9KTt2YXIgZj1jLnNpemUsbD0wLGQ9bmV3IEFycmF5KGYpLGg9W107Yy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aC5wdXNoKHQpfSk7dmFyIHA9MDtzKCl9ZnVuY3Rpb24gdygpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZ2b2lkIDAhPT1jaHJvbWUuc3RvcmFnZSYmdm9pZCAwIT09Y2hyb21lLnN0b3JhZ2UubG9jYWx9ZnVuY3Rpb24gRSgpe3JldHVybiBib31mdW5jdGlvbiBTKGUpe3coKT9jaHJvbWUuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24odCl7bnVsbCE9dC5kYl9uYW1lJiZlLmVtaXQodC5kYk5hbWUubmV3VmFsdWUpfSk6RSgpJiYoInVuZGVmaW5lZCIhPXR5cGVvZiBhZGRFdmVudExpc3RlbmVyP2FkZEV2ZW50TGlzdGVuZXIoInN0b3JhZ2UiLGZ1bmN0aW9uKHQpe2UuZW1pdCh0LmtleSl9KTp3aW5kb3cuYXR0YWNoRXZlbnQoInN0b3JhZ2UiLGZ1bmN0aW9uKHQpe2UuZW1pdCh0LmtleSl9KSl9ZnVuY3Rpb24gaygpe3VvLkV2ZW50RW1pdHRlci5jYWxsKHRoaXMpLHRoaXMuX2xpc3RlbmVycz17fSxTKHRoaXMpfWZ1bmN0aW9uIHEoZSl7aWYoInVuZGVmaW5lZCIhPT1jb25zb2xlJiZlIGluIGNvbnNvbGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtjb25zb2xlW2VdLmFwcGx5KGNvbnNvbGUsdCl9fWZ1bmN0aW9uIEEoZSx0KXtyZXR1cm4gZT1wYXJzZUludChlLDEwKXx8MCx0PXBhcnNlSW50KHQsMTApLHQhPT10fHx0PD1lP3Q9KGV8fDEpPDwxOnQrPTEsdD42ZTUmJihlPTNlNSx0PTZlNSksfn4oKHQtZSkqTWF0aC5yYW5kb20oKStlKX1mdW5jdGlvbiB4KGUpe3ZhciB0PTA7cmV0dXJuIGV8fCh0PTJlMyksQShlLHQpfWZ1bmN0aW9uIE8oZSx0KXtxKCJpbmZvIiwiVGhlIGFib3ZlICIrZSsiIGlzIHRvdGFsbHkgbm9ybWFsLiAiK3QpfWZ1bmN0aW9uIFQoZSx0LG4pe0Vycm9yLmNhbGwodGhpcyxuKSx0aGlzLnN0YXR1cz1lLHRoaXMubmFtZT10LHRoaXMubWVzc2FnZT1uLHRoaXMuZXJyb3I9ITB9ZnVuY3Rpb24gaihlLHQpe2Z1bmN0aW9uIG4odCl7Zm9yKHZhciBuIGluIGUpImZ1bmN0aW9uIiE9dHlwZW9mIGVbbl0mJih0aGlzW25dPWVbbl0pO3ZvaWQgMCE9PXQmJih0aGlzLnJlYXNvbj10KX1yZXR1cm4gbi5wcm90b3R5cGU9VC5wcm90b3R5cGUsbmV3IG4odCl9ZnVuY3Rpb24gQyhlKXtpZigib2JqZWN0IiE9dHlwZW9mIGUpe3ZhciB0PWU7ZT1qbyxlLmRhdGE9dH1yZXR1cm4iZXJyb3IiaW4gZSYmImNvbmZsaWN0Ij09PWUuZXJyb3ImJihlLm5hbWU9ImNvbmZsaWN0IixlLnN0YXR1cz00MDkpLCJuYW1lImluIGV8fChlLm5hbWU9ZS5lcnJvcnx8InVua25vd24iKSwic3RhdHVzImluIGV8fChlLnN0YXR1cz01MDApLCJtZXNzYWdlImluIGV8fChlLm1lc3NhZ2U9ZS5tZXNzYWdlfHxlLnJlYXNvbiksZX1mdW5jdGlvbiBMKGUsdCxuKXt0cnl7cmV0dXJuIWUodCxuKX1jYXRjaChlKXt2YXIgcj0iRmlsdGVyIGZ1bmN0aW9uIHRocmV3OiAiK2UudG9TdHJpbmcoKTtyZXR1cm4gaihEbyxyKX19ZnVuY3Rpb24gSShlKXt2YXIgdD17fSxuPWUuZmlsdGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5maWx0ZXI7cmV0dXJuIHQucXVlcnk9ZS5xdWVyeV9wYXJhbXMsZnVuY3Rpb24ocil7ci5kb2N8fChyLmRvYz17fSk7dmFyIG89biYmTChlLmZpbHRlcixyLmRvYyx0KTtpZigib2JqZWN0Ij09dHlwZW9mIG8pcmV0dXJuIG87aWYobylyZXR1cm4hMTtpZihlLmluY2x1ZGVfZG9jcyl7aWYoIWUuYXR0YWNobWVudHMpZm9yKHZhciBpIGluIHIuZG9jLl9hdHRhY2htZW50cylyLmRvYy5fYXR0YWNobWVudHMuaGFzT3duUHJvcGVydHkoaSkmJihyLmRvYy5fYXR0YWNobWVudHNbaV0uc3R1Yj0hMCl9ZWxzZSBkZWxldGUgci5kb2M7cmV0dXJuITB9fWZ1bmN0aW9uIEQoZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO248cjtuKyspdD10LmNvbmNhdChlW25dKTtyZXR1cm4gdH1mdW5jdGlvbiBSKCl7fWZ1bmN0aW9uIE4oZSl7dmFyIHQ7aWYoZT8ic3RyaW5nIiE9dHlwZW9mIGU/dD1qKHhvKTovXl8vLnRlc3QoZSkmJiEvXl8oZGVzaWdufGxvY2FsKS8udGVzdChlKSYmKHQ9aihUbykpOnQ9aihPbyksdCl0aHJvdyB0fWZ1bmN0aW9uIEIoZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZS5fcmVtb3RlP2UuX3JlbW90ZToiZnVuY3Rpb24iPT10eXBlb2YgZS50eXBlJiYocSgid2FybiIsImRiLnR5cGUoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBQb3VjaERCIiksImh0dHAiPT09ZS50eXBlKCkpfWZ1bmN0aW9uICQoZSx0KXtyZXR1cm4ibGlzdGVuZXJDb3VudCJpbiBlP2UubGlzdGVuZXJDb3VudCh0KTp1by5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudChlLHQpfWZ1bmN0aW9uIEYoZSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiAyPT09dC5sZW5ndGg/dDoxPT09dC5sZW5ndGg/W2UsZV06bnVsbH1mdW5jdGlvbiBNKGUpe3ZhciB0PUYoZSk7cmV0dXJuIHQ/dC5qb2luKCIvIik6bnVsbH1mdW5jdGlvbiBQKGUpe2Zvcih2YXIgdD1Iby5leGVjKGUpLG49e30scj0xNDtyLS07KXt2YXIgbz1Qb1tyXSxpPXRbcl18fCIiLHM9WyJ1c2VyIiwicGFzc3dvcmQiXS5pbmRleE9mKG8pIT09LTE7bltvXT1zP2RlY29kZVVSSUNvbXBvbmVudChpKTppfXJldHVybiBuW1VvXT17fSxuW1BvWzEyXV0ucmVwbGFjZShKbyxmdW5jdGlvbihlLHQscil7dCYmKG5bVW9dW3RdPXIpfSksbn1mdW5jdGlvbiBVKGUsdCl7dmFyIG49W10scj1bXTtmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiYobi5wdXNoKG8pLHIucHVzaCh0W29dKSk7cmV0dXJuIG4ucHVzaChlKSxGdW5jdGlvbi5hcHBseShudWxsLG4pLmFwcGx5KG51bGwscil9ZnVuY3Rpb24gSihlLHQsbil7cmV0dXJuIG5ldyB2byhmdW5jdGlvbihyLG8pe2UuZ2V0KHQsZnVuY3Rpb24oaSxzKXtpZihpKXtpZig0MDQhPT1pLnN0YXR1cylyZXR1cm4gbyhpKTtzPXt9fXZhciBhPXMuX3Jldix1PW4ocyk7aWYoIXUpcmV0dXJuIHIoe3VwZGF0ZWQ6ITEscmV2OmF9KTt1Ll9pZD10LHUuX3Jldj1hLHIoSChlLHUsbikpfSl9KX1mdW5jdGlvbiBIKGUsdCxuKXtyZXR1cm4gZS5wdXQodCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm57dXBkYXRlZDohMCxyZXY6ZS5yZXZ9fSxmdW5jdGlvbihyKXtpZig0MDkhPT1yLnN0YXR1cyl0aHJvdyByO3JldHVybiBKKGUsdC5faWQsbil9KX1mdW5jdGlvbiBXKGUpe3JldHVybiAwfE1hdGgucmFuZG9tKCkqZX1mdW5jdGlvbiB6KGUsdCl7dD10fHxXby5sZW5ndGg7dmFyIG49IiIscj0tMTtpZihlKXtmb3IoOysrcjxlOyluKz1Xb1tXKHQpXTtyZXR1cm4gbn1mb3IoOysrcjwzNjspc3dpdGNoKHIpe2Nhc2UgODpjYXNlIDEzOmNhc2UgMTg6Y2FzZSAyMzpuKz0iLSI7YnJlYWs7Y2FzZSAxOTpuKz1Xb1szJlcoMTYpfDhdO2JyZWFrO2RlZmF1bHQ6bis9V29bVygxNildfXJldHVybiBufWZ1bmN0aW9uIEsoZSl7Zm9yKHZhciB0LG4scixvLGk9ZS5yZXZfdHJlZS5zbGljZSgpO289aS5wb3AoKTspe3ZhciBzPW8uaWRzLGE9c1syXSx1PW8ucG9zO2lmKGEubGVuZ3RoKWZvcih2YXIgYz0wLGY9YS5sZW5ndGg7YzxmO2MrKylpLnB1c2goe3Bvczp1KzEsaWRzOmFbY119KTtlbHNle3ZhciBsPSEhc1sxXS5kZWxldGVkLGQ9c1swXTt0JiYhKHIhPT1sP3I6biE9PXU/bjx1OnQ8ZCl8fCh0PWQsbj11LHI9bCl9fXJldHVybiBuKyItIit0fWZ1bmN0aW9uIFgoZSx0KXtmb3IodmFyIG4scj1lLnNsaWNlKCk7bj1yLnBvcCgpOylmb3IodmFyIG89bi5wb3MsaT1uLmlkcyxzPWlbMl0sYT10KDA9PT1zLmxlbmd0aCxvLGlbMF0sbi5jdHgsaVsxXSksdT0wLGM9cy5sZW5ndGg7dTxjO3UrKylyLnB1c2goe3BvczpvKzEsaWRzOnNbdV0sY3R4OmF9KX1mdW5jdGlvbiBHKGUsdCl7cmV0dXJuIGUucG9zLXQucG9zfWZ1bmN0aW9uIFYoZSl7dmFyIHQ9W107WChlLGZ1bmN0aW9uKGUsbixyLG8saSl7ZSYmdC5wdXNoKHtyZXY6bisiLSIrcixwb3M6bixvcHRzOml9KX0pLHQuc29ydChHKS5yZXZlcnNlKCk7Zm9yKHZhciBuPTAscj10Lmxlbmd0aDtuPHI7bisrKWRlbGV0ZSB0W25dLnBvcztyZXR1cm4gdH1mdW5jdGlvbiBRKGUpe2Zvcih2YXIgdD1LKGUpLG49VihlLnJldl90cmVlKSxyPVtdLG89MCxpPW4ubGVuZ3RoO288aTtvKyspe3ZhciBzPW5bb107cy5yZXY9PT10fHxzLm9wdHMuZGVsZXRlZHx8ci5wdXNoKHMucmV2KX1yZXR1cm4gcn0KZnVuY3Rpb24gWShlKXt2YXIgdD1bXTtyZXR1cm4gWChlLnJldl90cmVlLGZ1bmN0aW9uKGUsbixyLG8saSl7ImF2YWlsYWJsZSIhPT1pLnN0YXR1c3x8ZXx8KHQucHVzaChuKyItIityKSxpLnN0YXR1cz0ibWlzc2luZyIpfSksdH1mdW5jdGlvbiBaKGUpe2Zvcih2YXIgdCxuPVtdLHI9ZS5zbGljZSgpO3Q9ci5wb3AoKTspe3ZhciBvPXQucG9zLGk9dC5pZHMscz1pWzBdLGE9aVsxXSx1PWlbMl0sYz0wPT09dS5sZW5ndGgsZj10Lmhpc3Rvcnk/dC5oaXN0b3J5LnNsaWNlKCk6W107Zi5wdXNoKHtpZDpzLG9wdHM6YX0pLGMmJm4ucHVzaCh7cG9zOm8rMS1mLmxlbmd0aCxpZHM6Zn0pO2Zvcih2YXIgbD0wLGQ9dS5sZW5ndGg7bDxkO2wrKylyLnB1c2goe3BvczpvKzEsaWRzOnVbbF0saGlzdG9yeTpmfSl9cmV0dXJuIG4ucmV2ZXJzZSgpfWZ1bmN0aW9uIGVlKGUsdCl7cmV0dXJuIGUucG9zLXQucG9zfWZ1bmN0aW9uIHRlKGUsdCxuKXtmb3IodmFyIHIsbz0wLGk9ZS5sZW5ndGg7bzxpOylyPW8raT4+PjEsbihlW3JdLHQpPDA/bz1yKzE6aT1yO3JldHVybiBvfWZ1bmN0aW9uIG5lKGUsdCxuKXt2YXIgcj10ZShlLHQsbik7ZS5zcGxpY2UociwwLHQpfWZ1bmN0aW9uIHJlKGUsdCl7Zm9yKHZhciBuLHIsbz10LGk9ZS5sZW5ndGg7bzxpO28rKyl7dmFyIHM9ZVtvXSxhPVtzLmlkLHMub3B0cyxbXV07cj8oclsyXS5wdXNoKGEpLHI9YSk6bj1yPWF9cmV0dXJuIG59ZnVuY3Rpb24gb2UoZSx0KXtyZXR1cm4gZVswXTx0WzBdPy0xOjF9ZnVuY3Rpb24gaWUoZSx0KXtmb3IodmFyIG49W3t0cmVlMTplLHRyZWUyOnR9XSxyPSExO24ubGVuZ3RoPjA7KXt2YXIgbz1uLnBvcCgpLGk9by50cmVlMSxzPW8udHJlZTI7KGlbMV0uc3RhdHVzfHxzWzFdLnN0YXR1cykmJihpWzFdLnN0YXR1cz0iYXZhaWxhYmxlIj09PWlbMV0uc3RhdHVzfHwiYXZhaWxhYmxlIj09PXNbMV0uc3RhdHVzPyJhdmFpbGFibGUiOiJtaXNzaW5nIik7Zm9yKHZhciBhPTA7YTxzWzJdLmxlbmd0aDthKyspaWYoaVsyXVswXSl7Zm9yKHZhciB1PSExLGM9MDtjPGlbMl0ubGVuZ3RoO2MrKylpWzJdW2NdWzBdPT09c1syXVthXVswXSYmKG4ucHVzaCh7dHJlZTE6aVsyXVtjXSx0cmVlMjpzWzJdW2FdfSksdT0hMCk7dXx8KHI9Im5ld19icmFuY2giLG5lKGlbMl0sc1syXVthXSxvZSkpfWVsc2Ugcj0ibmV3X2xlYWYiLGlbMl1bMF09c1syXVthXX1yZXR1cm57Y29uZmxpY3RzOnIsdHJlZTplfX1mdW5jdGlvbiBzZShlLHQsbil7dmFyIHIsbz1bXSxpPSExLHM9ITE7aWYoIWUubGVuZ3RoKXJldHVybnt0cmVlOlt0XSxjb25mbGljdHM6Im5ld19sZWFmIn07Zm9yKHZhciBhPTAsdT1lLmxlbmd0aDthPHU7YSsrKXt2YXIgYz1lW2FdO2lmKGMucG9zPT09dC5wb3MmJmMuaWRzWzBdPT09dC5pZHNbMF0pcj1pZShjLmlkcyx0Lmlkcyksby5wdXNoKHtwb3M6Yy5wb3MsaWRzOnIudHJlZX0pLGk9aXx8ci5jb25mbGljdHMscz0hMDtlbHNlIGlmKG4hPT0hMCl7dmFyIGY9Yy5wb3M8dC5wb3M/Yzp0LGw9Yy5wb3M8dC5wb3M/dDpjLGQ9bC5wb3MtZi5wb3MsaD1bXSxwPVtdO2ZvcihwLnB1c2goe2lkczpmLmlkcyxkaWZmOmQscGFyZW50Om51bGwscGFyZW50SWR4Om51bGx9KTtwLmxlbmd0aD4wOyl7dmFyIHY9cC5wb3AoKTtpZigwIT09di5kaWZmKWZvcih2YXIgZz12Lmlkc1syXSx5PTAsXz1nLmxlbmd0aDt5PF87eSsrKXAucHVzaCh7aWRzOmdbeV0sZGlmZjp2LmRpZmYtMSxwYXJlbnQ6di5pZHMscGFyZW50SWR4Onl9KTtlbHNlIHYuaWRzWzBdPT09bC5pZHNbMF0mJmgucHVzaCh2KX12YXIgbT1oWzBdO20/KHI9aWUobS5pZHMsbC5pZHMpLG0ucGFyZW50WzJdW20ucGFyZW50SWR4XT1yLnRyZWUsby5wdXNoKHtwb3M6Zi5wb3MsaWRzOmYuaWRzfSksaT1pfHxyLmNvbmZsaWN0cyxzPSEwKTpvLnB1c2goYyl9ZWxzZSBvLnB1c2goYyl9cmV0dXJuIHN8fG8ucHVzaCh0KSxvLnNvcnQoZWUpLHt0cmVlOm8sY29uZmxpY3RzOml8fCJpbnRlcm5hbF9ub2RlIn19ZnVuY3Rpb24gYWUoZSx0KXtmb3IodmFyIG4scixvPVooZSksaT0wLHM9by5sZW5ndGg7aTxzO2krKyl7dmFyIGEsdT1vW2ldLGM9dS5pZHM7aWYoYy5sZW5ndGg+dCl7bnx8KG49e30pO3ZhciBmPWMubGVuZ3RoLXQ7YT17cG9zOnUucG9zK2YsaWRzOnJlKGMsZil9O2Zvcih2YXIgbD0wO2w8ZjtsKyspe3ZhciBkPXUucG9zK2wrIi0iK2NbbF0uaWQ7bltkXT0hMH19ZWxzZSBhPXtwb3M6dS5wb3MsaWRzOnJlKGMsMCl9O3I9cj9zZShyLGEsITApLnRyZWU6W2FdfXJldHVybiBuJiZYKHIsZnVuY3Rpb24oZSx0LHIpe2RlbGV0ZSBuW3QrIi0iK3JdfSkse3RyZWU6cixyZXZzOm4/T2JqZWN0LmtleXMobik6W119fWZ1bmN0aW9uIHVlKGUsdCxuKXt2YXIgcj1zZShlLHQpLG89YWUoci50cmVlLG4pO3JldHVybnt0cmVlOm8udHJlZSxzdGVtbWVkUmV2czpvLnJldnMsY29uZmxpY3RzOnIuY29uZmxpY3RzfX1mdW5jdGlvbiBjZShlLHQpe2Zvcih2YXIgbixyPWUuc2xpY2UoKSxvPXQuc3BsaXQoIi0iKSxpPXBhcnNlSW50KG9bMF0sMTApLHM9b1sxXTtuPXIucG9wKCk7KXtpZihuLnBvcz09PWkmJm4uaWRzWzBdPT09cylyZXR1cm4hMDtmb3IodmFyIGE9bi5pZHNbMl0sdT0wLGM9YS5sZW5ndGg7dTxjO3UrKylyLnB1c2goe3BvczpuLnBvcysxLGlkczphW3VdfSl9cmV0dXJuITF9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuIGUuaWRzfWZ1bmN0aW9uIGxlKGUsdCl7dHx8KHQ9SyhlKSk7Zm9yKHZhciBuLHI9dC5zdWJzdHJpbmcodC5pbmRleE9mKCItIikrMSksbz1lLnJldl90cmVlLm1hcChmZSk7bj1vLnBvcCgpOyl7aWYoblswXT09PXIpcmV0dXJuISFuWzFdLmRlbGV0ZWQ7bz1vLmNvbmNhdChuWzJdKX19ZnVuY3Rpb24gZGUoZSl7cmV0dXJuL15fbG9jYWwvLnRlc3QoZSl9ZnVuY3Rpb24gaGUoZSx0KXtmb3IodmFyIG4scj10LnJldl90cmVlLnNsaWNlKCk7bj1yLnBvcCgpOyl7dmFyIG89bi5wb3MsaT1uLmlkcyxzPWlbMF0sYT1pWzFdLHU9aVsyXSxjPTA9PT11Lmxlbmd0aCxmPW4uaGlzdG9yeT9uLmhpc3Rvcnkuc2xpY2UoKTpbXTtpZihmLnB1c2goe2lkOnMscG9zOm8sb3B0czphfSksYylmb3IodmFyIGw9MCxkPWYubGVuZ3RoO2w8ZDtsKyspe3ZhciBoPWZbbF0scD1oLnBvcysiLSIraC5pZDtpZihwPT09ZSlyZXR1cm4gbysiLSIrc31mb3IodmFyIHY9MCxnPXUubGVuZ3RoO3Y8Zzt2Kyspci5wdXNoKHtwb3M6bysxLGlkczp1W3ZdLGhpc3Rvcnk6Zn0pfXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHJlc29sdmUgbGF0ZXN0IHJldmlzaW9uIGZvciBpZCAiK3QuaWQrIiwgcmV2ICIrZSl9ZnVuY3Rpb24gcGUoZSx0KXt0cnl7ZS5lbWl0KCJjaGFuZ2UiLHQpfWNhdGNoKGUpe3EoImVycm9yIiwnRXJyb3IgaW4gLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbik6JyxlKX19ZnVuY3Rpb24gdmUoZSx0LG4pe2Z1bmN0aW9uIHIoKXtvLmNhbmNlbCgpfXVvLkV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO3ZhciBvPXRoaXM7dGhpcy5kYj1lLHQ9dD91KHQpOnt9O3ZhciBpPXQuY29tcGxldGU9YyhmdW5jdGlvbih0LG4pe3Q/JChvLCJlcnJvciIpPjAmJm8uZW1pdCgiZXJyb3IiLHQpOm8uZW1pdCgiY29tcGxldGUiLG4pLG8ucmVtb3ZlQWxsTGlzdGVuZXJzKCksZS5yZW1vdmVMaXN0ZW5lcigiZGVzdHJveWVkIixyKX0pO24mJihvLm9uKCJjb21wbGV0ZSIsZnVuY3Rpb24oZSl7bihudWxsLGUpfSksby5vbigiZXJyb3IiLG4pKSxlLm9uY2UoImRlc3Ryb3llZCIsciksdC5vbkNoYW5nZT1mdW5jdGlvbihlKXtvLmlzQ2FuY2VsbGVkfHxwZShvLGUpfTt2YXIgcz1uZXcgdm8oZnVuY3Rpb24oZSxuKXt0LmNvbXBsZXRlPWZ1bmN0aW9uKHQscil7dD9uKHQpOmUocil9fSk7by5vbmNlKCJjYW5jZWwiLGZ1bmN0aW9uKCl7ZS5yZW1vdmVMaXN0ZW5lcigiZGVzdHJveWVkIixyKSx0LmNvbXBsZXRlKG51bGwse3N0YXR1czoiY2FuY2VsbGVkIn0pfSksdGhpcy50aGVuPXMudGhlbi5iaW5kKHMpLHRoaXMuY2F0Y2g9cy5jYXRjaC5iaW5kKHMpLHRoaXMudGhlbihmdW5jdGlvbihlKXtpKG51bGwsZSl9LGkpLGUudGFza3F1ZXVlLmlzUmVhZHk/by52YWxpZGF0ZUNoYW5nZXModCk6ZS50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbihlKXtlP3QuY29tcGxldGUoZSk6by5pc0NhbmNlbGxlZD9vLmVtaXQoImNhbmNlbCIpOm8udmFsaWRhdGVDaGFuZ2VzKHQpfSl9ZnVuY3Rpb24gZ2UoZSx0LG4pe3ZhciByPVt7cmV2OmUuX3Jldn1dOyJhbGxfZG9jcyI9PT1uLnN0eWxlJiYocj1WKHQucmV2X3RyZWUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57cmV2OmUucmV2fX0pKTt2YXIgbz17aWQ6dC5pZCxjaGFuZ2VzOnIsZG9jOmV9O3JldHVybiBsZSh0LGUuX3JldikmJihvLmRlbGV0ZWQ9ITApLG4uY29uZmxpY3RzJiYoby5kb2MuX2NvbmZsaWN0cz1RKHQpLG8uZG9jLl9jb25mbGljdHMubGVuZ3RofHxkZWxldGUgby5kb2MuX2NvbmZsaWN0cyksb31mdW5jdGlvbiB5ZShlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiBfZShlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt0fHxuWzBdJiZuWzBdLmVycm9yP2UodHx8blswXSk6ZShudWxsLG4ubGVuZ3RoP25bMF06bil9fWZ1bmN0aW9uIG1lKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKG4uX2RlbGV0ZWQpZGVsZXRlIG4uX2F0dGFjaG1lbnRzO2Vsc2UgaWYobi5fYXR0YWNobWVudHMpZm9yKHZhciByPU9iamVjdC5rZXlzKG4uX2F0dGFjaG1lbnRzKSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb107bi5fYXR0YWNobWVudHNbaV09eShuLl9hdHRhY2htZW50c1tpXSxbImRhdGEiLCJkaWdlc3QiLCJjb250ZW50X3R5cGUiLCJsZW5ndGgiLCJyZXZwb3MiLCJzdHViIl0pfX19ZnVuY3Rpb24gYmUoZSx0KXt2YXIgbj15ZShlLl9pZCx0Ll9pZCk7cmV0dXJuIDAhPT1uP246eWUoZS5fcmV2aXNpb25zP2UuX3JldmlzaW9ucy5zdGFydDowLHQuX3JldmlzaW9ucz90Ll9yZXZpc2lvbnMuc3RhcnQ6MCl9ZnVuY3Rpb24gd2UoZSl7dmFyIHQ9e30sbj1bXTtyZXR1cm4gWChlLGZ1bmN0aW9uKGUscixvLGkpe3ZhciBzPXIrIi0iK287cmV0dXJuIGUmJih0W3NdPTApLHZvaWQgMCE9PWkmJm4ucHVzaCh7ZnJvbTppLHRvOnN9KSxzfSksbi5yZXZlcnNlKCksbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PXRbZS5mcm9tXT90W2UuZnJvbV09MSt0W2UudG9dOnRbZS5mcm9tXT1NYXRoLm1pbih0W2UuZnJvbV0sMSt0W2UudG9dKX0pLHR9ZnVuY3Rpb24gRWUoZSx0LG4pe3ZhciByPSJsaW1pdCJpbiB0P3Qua2V5cy5zbGljZSh0LnNraXAsdC5saW1pdCt0LnNraXApOnQuc2tpcD4wP3Qua2V5cy5zbGljZSh0LnNraXApOnQua2V5cztpZih0LmRlc2NlbmRpbmcmJnIucmV2ZXJzZSgpLCFyLmxlbmd0aClyZXR1cm4gZS5fYWxsRG9jcyh7bGltaXQ6MH0sbik7dmFyIG89e29mZnNldDp0LnNraXB9O3JldHVybiB2by5hbGwoci5tYXAoZnVuY3Rpb24obil7dmFyIHI9U28oe2tleTpuLGRlbGV0ZWQ6Im9rIn0sdCk7cmV0dXJuWyJsaW1pdCIsInNraXAiLCJrZXlzIl0uZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgcltlXX0pLG5ldyB2byhmdW5jdGlvbih0LGkpe2UuX2FsbERvY3MocixmdW5jdGlvbihlLHIpe2lmKGUpcmV0dXJuIGkoZSk7by50b3RhbF9yb3dzPXIudG90YWxfcm93cyx0KHIucm93c1swXXx8e2tleTpuLGVycm9yOiJub3RfZm91bmQifSl9KX0pfSkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG8ucm93cz1lLG99KX1mdW5jdGlvbiBTZShlKXt2YXIgdD1lLl9jb21wYWN0aW9uUXVldWVbMF0sbj10Lm9wdHMscj10LmNhbGxiYWNrO2UuZ2V0KCJfbG9jYWwvY29tcGFjdGlvbiIpLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuITF9KS50aGVuKGZ1bmN0aW9uKHQpe3QmJnQubGFzdF9zZXEmJihuLmxhc3Rfc2VxPXQubGFzdF9zZXEpLGUuX2NvbXBhY3QobixmdW5jdGlvbih0LG4pe3Q/cih0KTpyKG51bGwsbiksZm8oZnVuY3Rpb24oKXtlLl9jb21wYWN0aW9uUXVldWUuc2hpZnQoKSxlLl9jb21wYWN0aW9uUXVldWUubGVuZ3RoJiZTZShlKX0pfSl9KX1mdW5jdGlvbiBrZShlKXtyZXR1cm4iXyI9PT1lLmNoYXJBdCgwKSYmZSsiIGlzIG5vdCBhIHZhbGlkIGF0dGFjaG1lbnQgbmFtZSwgYXR0YWNobWVudCBuYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCAnXycifWZ1bmN0aW9uIHFlKCl7dW8uRXZlbnRFbWl0dGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gQWUoKXt0aGlzLmlzUmVhZHk9ITEsdGhpcy5mYWlsZWQ9ITEsdGhpcy5xdWV1ZT1bXX1mdW5jdGlvbiB4ZShlLHQpe3ZhciBuPWUubWF0Y2goLyhbYS16XC1dKik6XC9cLyguKikvKTtpZihuKXJldHVybntuYW1lOi9odHRwcz8vLnRlc3QoblsxXSk/blsxXSsiOi8vIituWzJdOm5bMl0sYWRhcHRlcjpuWzFdfTt2YXIgcj1UZS5hZGFwdGVycyxvPVRlLnByZWZlcnJlZEFkYXB0ZXJzLGk9VGUucHJlZml4LHM9dC5hZGFwdGVyO2lmKCFzKWZvcih2YXIgYT0wO2E8by5sZW5ndGg7KythKXtzPW9bYV07e2lmKCEoImlkYiI9PT1zJiYid2Vic3FsImluIHImJkUoKSYmbG9jYWxTdG9yYWdlWyJfcG91Y2hfX3dlYnNxbGRiXyIraStlXSkpYnJlYWs7cSgibG9nIiwnUG91Y2hEQiBpcyBkb3duZ3JhZGluZyAiJytlKyciIHRvIFdlYlNRTCB0byBhdm9pZCBkYXRhIGxvc3MsIGJlY2F1c2UgaXQgd2FzIGFscmVhZHkgb3BlbmVkIHdpdGggV2ViU1FMLicpfX12YXIgdT1yW3NdO3JldHVybntuYW1lOnUmJiJ1c2VfcHJlZml4ImluIHUmJiF1LnVzZV9wcmVmaXg/ZTppK2UsYWRhcHRlcjpzfX1mdW5jdGlvbiBPZShlKXtmdW5jdGlvbiB0KCl7ZS5yZW1vdmVMaXN0ZW5lcigiY2xvc2VkIixyKSxlLmNvbnN0cnVjdG9yLmVtaXQoImRlc3Ryb3llZCIsZS5uYW1lKX1mdW5jdGlvbiBuKCl7ZS5yZW1vdmVMaXN0ZW5lcigiZGVzdHJveWVkIix0KSxlLnJlbW92ZUxpc3RlbmVyKCJjbG9zZWQiLHIpLGUuZW1pdCgiZGVzdHJveWVkIil9ZnVuY3Rpb24gcigpe2UucmVtb3ZlTGlzdGVuZXIoImRlc3Ryb3llZCIsdCksby5kZWxldGUoZS5uYW1lKX12YXIgbz1lLmNvbnN0cnVjdG9yLl9kZXN0cnVjdGlvbkxpc3RlbmVycztlLm9uY2UoImRlc3Ryb3llZCIsdCksZS5vbmNlKCJjbG9zZWQiLHIpLG8uaGFzKGUubmFtZSl8fG8uc2V0KGUubmFtZSxbXSksby5nZXQoZS5uYW1lKS5wdXNoKG4pfWZ1bmN0aW9uIFRlKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgVGUpKXJldHVybiBuZXcgVGUoZSx0KTt2YXIgbj10aGlzO2lmKHQ9dHx8e30sZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9dC5uYW1lLGRlbGV0ZSB0Lm5hbWUpLHRoaXMuX19vcHRzPXQ9dSh0KSxuLmF1dG9fY29tcGFjdGlvbj10LmF1dG9fY29tcGFjdGlvbixuLnByZWZpeD1UZS5wcmVmaXgsInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiTWlzc2luZy9pbnZhbGlkIERCIG5hbWUiKTt2YXIgcj0odC5wcmVmaXh8fCIiKStlLG89eGUocix0KTtpZih0Lm5hbWU9by5uYW1lLHQuYWRhcHRlcj10LmFkYXB0ZXJ8fG8uYWRhcHRlcixuLm5hbWU9ZSxuLl9hZGFwdGVyPXQuYWRhcHRlcixUZS5lbWl0KCJkZWJ1ZyIsWyJhZGFwdGVyIiwiUGlja2VkIGFkYXB0ZXI6ICIsdC5hZGFwdGVyXSksIVRlLmFkYXB0ZXJzW3QuYWRhcHRlcl18fCFUZS5hZGFwdGVyc1t0LmFkYXB0ZXJdLnZhbGlkKCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIEFkYXB0ZXI6ICIrdC5hZGFwdGVyKTtxZS5jYWxsKG4pLG4udGFza3F1ZXVlPW5ldyBBZSxuLmFkYXB0ZXI9dC5hZGFwdGVyLFRlLmFkYXB0ZXJzW3QuYWRhcHRlcl0uY2FsbChuLHQsZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gbi50YXNrcXVldWUuZmFpbChlKTtPZShuKSxuLmVtaXQoImNyZWF0ZWQiLG4pLFRlLmVtaXQoImNyZWF0ZWQiLG4ubmFtZSksbi50YXNrcXVldWUucmVhZHkobil9KX1mdW5jdGlvbiBqZShlKXtlLmRlYnVnPWxvO3ZhciB0PXt9O2Uub24oImRlYnVnIixmdW5jdGlvbihlKXt2YXIgbj1lWzBdLHI9ZS5zbGljZSgxKTt0W25dfHwodFtuXT1sbygicG91Y2hkYjoiK24pKSx0W25dLmFwcGx5KG51bGwscil9KX1mdW5jdGlvbiBDZShlLHQpe2Zvcih2YXIgbj1lLHI9MCxvPXQubGVuZ3RoO3I8bztyKyspe2lmKCEobj1uW3Rbcl1dKSlicmVha31yZXR1cm4gbn1mdW5jdGlvbiBMZShlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiBJZShlKXtmb3IodmFyIHQ9W10sbj0iIixyPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdOyIuIj09PWk/cj4wJiYiXFwiPT09ZVtyLTFdP249bi5zdWJzdHJpbmcoMCxuLmxlbmd0aC0xKSsiLiI6KHQucHVzaChuKSxuPSIiKTpuKz1pfXJldHVybiB0LnB1c2gobiksdH1mdW5jdGlvbiBEZShlKXtyZXR1cm4gS28uaW5kZXhPZihlKT4tMX1mdW5jdGlvbiBSZShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSlbMF19ZnVuY3Rpb24gTmUoZSl7cmV0dXJuIGVbUmUoZSldfWZ1bmN0aW9uIEJlKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgcj1lW25dO2lmKCJvYmplY3QiIT10eXBlb2YgciYmKHI9eyRlcTpyfSksRGUobikpciBpbnN0YW5jZW9mIEFycmF5P3Rbbl09ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEJlKFtlXSl9KTp0W25dPUJlKFtyXSk7ZWxzZXt2YXIgbz10W25dPXRbbl18fHt9O09iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cltlXTtyZXR1cm4iJGd0Ij09PWV8fCIkZ3RlIj09PWU/JGUoZSx0LG8pOiIkbHQiPT09ZXx8IiRsdGUiPT09ZT9GZShlLHQsbyk6IiRuZSI9PT1lP01lKHQsbyk6IiRlcSI9PT1lP1BlKHQsbyk6dm9pZChvW2VdPXQpfSl9fSl9KSx0fWZ1bmN0aW9uICRlKGUsdCxuKXt2b2lkIDA9PT1uLiRlcSYmKHZvaWQgMCE9PW4uJGd0ZT8iJGd0ZSI9PT1lP3Q+bi4kZ3RlJiYobi4kZ3RlPXQpOnQ+PW4uJGd0ZSYmKGRlbGV0ZSBuLiRndGUsbi4kZ3Q9dCk6dm9pZCAwIT09bi4kZ3Q/IiRndGUiPT09ZT90Pm4uJGd0JiYoZGVsZXRlIG4uJGd0LG4uJGd0ZT10KTp0Pm4uJGd0JiYobi4kZ3Q9dCk6bltlXT10KX1mdW5jdGlvbiBGZShlLHQsbil7dm9pZCAwPT09bi4kZXEmJih2b2lkIDAhPT1uLiRsdGU/IiRsdGUiPT09ZT90PG4uJGx0ZSYmKG4uJGx0ZT10KTp0PD1uLiRsdGUmJihkZWxldGUgbi4kbHRlLG4uJGx0PXQpOnZvaWQgMCE9PW4uJGx0PyIkbHRlIj09PWU/dDxuLiRsdCYmKGRlbGV0ZSBuLiRsdCxuLiRsdGU9dCk6dDxuLiRsdCYmKG4uJGx0PXQpOm5bZV09dCl9ZnVuY3Rpb24gTWUoZSx0KXsiJG5lImluIHQ/dC4kbmUucHVzaChlKTp0LiRuZT1bZV19ZnVuY3Rpb24gUGUoZSx0KXtkZWxldGUgdC4kZ3QsZGVsZXRlIHQuJGd0ZSxkZWxldGUgdC4kbHQsZGVsZXRlIHQuJGx0ZSxkZWxldGUgdC4kbmUsdC4kZXE9ZX1mdW5jdGlvbiBVZShlKXt2YXIgdD11KGUpLG49ITE7IiRhbmQiaW4gdCYmKHQ9QmUodC4kYW5kKSxuPSEwKSxbIiRvciIsIiRub3IiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UgaW4gdCYmdFtlXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0sbz1lW3JdOyJvYmplY3QiPT10eXBlb2YgbyYmbnVsbCE9PW98fChlW3JdPXskZXE6b30pfX0pfSksIiRub3QiaW4gdCYmKHQuJG5vdD1CZShbdC4kbm90XSkpO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb10scz10W2ldOyJvYmplY3QiIT10eXBlb2Ygc3x8bnVsbD09PXM/cz17JGVxOnN9OiIkbmUiaW4gcyYmIW4mJihzLiRuZT1bcy4kbmVdKSx0W2ldPXN9cmV0dXJuIHR9ZnVuY3Rpb24gSmUoZSx0LG4pe2Zvcih2YXIgcj0iIixvPW4tZS5sZW5ndGg7ci5sZW5ndGg8bzspcis9dDtyZXR1cm4gcn1mdW5jdGlvbiBIZShlLHQsbil7cmV0dXJuIEplKGUsdCxuKStlfWZ1bmN0aW9uIFdlKGUsdCl7aWYoZT09PXQpcmV0dXJuIDA7ZT16ZShlKSx0PXplKHQpO3ZhciBuPXR0KGUpLHI9dHQodCk7aWYobi1yIT0wKXJldHVybiBuLXI7c3dpdGNoKHR5cGVvZiBlKXtjYXNlIm51bWJlciI6cmV0dXJuIGUtdDtjYXNlImJvb2xlYW4iOnJldHVybiBlPHQ/LTE6MTtjYXNlInN0cmluZyI6cmV0dXJuIFplKGUsdCl9cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/WWUoZSx0KTpldChlLHQpfWZ1bmN0aW9uIHplKGUpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJ1bmRlZmluZWQiOnJldHVybiBudWxsO2Nhc2UibnVtYmVyIjpyZXR1cm4gMS8wPT09ZXx8ZT09PS0xLzB8fGlzTmFOKGUpP251bGw6ZTtjYXNlIm9iamVjdCI6dmFyIHQ9ZTtpZihBcnJheS5pc0FycmF5KGUpKXt2YXIgbj1lLmxlbmd0aDtlPW5ldyBBcnJheShuKTtmb3IodmFyIHI9MDtyPG47cisrKWVbcl09emUodFtyXSl9ZWxzZXtpZihlIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gZS50b0pTT04oKTtpZihudWxsIT09ZSl7ZT17fTtmb3IodmFyIG8gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG8pKXt2YXIgaT10W29dO3ZvaWQgMCE9PWkmJihlW29dPXplKGkpKX19fX1yZXR1cm4gZX1mdW5jdGlvbiBLZShlKXtpZihudWxsIT09ZSlzd2l0Y2godHlwZW9mIGUpe2Nhc2UiYm9vbGVhbiI6cmV0dXJuIGU/MTowO2Nhc2UibnVtYmVyIjpyZXR1cm4gbnQoZSk7Y2FzZSJzdHJpbmciOnJldHVybiBlLnJlcGxhY2UoL1x1MDAwMi9nLCICAiIpLnJlcGxhY2UoL1x1MDAwMS9nLCIBAiIpLnJlcGxhY2UoL1x1MDAwMC9nLCIBASIpO2Nhc2Uib2JqZWN0Ijp2YXIgdD1BcnJheS5pc0FycmF5KGUpLG49dD9lOk9iamVjdC5rZXlzKGUpLHI9LTEsbz1uLmxlbmd0aCxpPSIiO2lmKHQpZm9yKDsrK3I8bzspaSs9WGUobltyXSk7ZWxzZSBmb3IoOysrcjxvOyl7dmFyIHM9bltyXTtpKz1YZShzKStYZShlW3NdKX1yZXR1cm4gaX1yZXR1cm4iIn1mdW5jdGlvbiBYZShlKXtyZXR1cm4gZT16ZShlKSx0dChlKStWbytLZShlKSsiXDAifWZ1bmN0aW9uIEdlKGUsdCl7dmFyIG4scj10O2lmKCIxIj09PWVbdF0pbj0wLHQrKztlbHNle3ZhciBvPSIwIj09PWVbdF07dCsrO3ZhciBpPSIiLHM9ZS5zdWJzdHJpbmcodCx0K0dvKSxhPXBhcnNlSW50KHMsMTApK1hvO2ZvcihvJiYoYT0tYSksdCs9R287Oyl7dmFyIHU9ZVt0XTtpZigiXDAiPT09dSlicmVhaztpKz11LHQrK31pPWkuc3BsaXQoIi4iKSxuPTE9PT1pLmxlbmd0aD9wYXJzZUludChpLDEwKTpwYXJzZUZsb2F0KGlbMF0rIi4iK2lbMV0pLG8mJihuLT0xMCksMCE9PWEmJihuPXBhcnNlRmxvYXQobisiZSIrYSkpfXJldHVybntudW06bixsZW5ndGg6dC1yfX1mdW5jdGlvbiBWZShlLHQpe3ZhciBuPWUucG9wKCk7aWYodC5sZW5ndGgpe3ZhciByPXRbdC5sZW5ndGgtMV07bj09PXIuZWxlbWVudCYmKHQucG9wKCkscj10W3QubGVuZ3RoLTFdKTt2YXIgbz1yLmVsZW1lbnQsaT1yLmluZGV4O2lmKEFycmF5LmlzQXJyYXkobykpby5wdXNoKG4pO2Vsc2UgaWYoaT09PWUubGVuZ3RoLTIpe3ZhciBzPWUucG9wKCk7b1tzXT1ufWVsc2UgZS5wdXNoKG4pfX1mdW5jdGlvbiBRZShlKXtmb3IodmFyIHQ9W10sbj1bXSxyPTA7Oyl7dmFyIG89ZVtyKytdO2lmKCJcMCIhPT1vKXN3aXRjaChvKXtjYXNlIjEiOnQucHVzaChudWxsKTticmVhaztjYXNlIjIiOnQucHVzaCgiMSI9PT1lW3JdKSxyKys7YnJlYWs7Y2FzZSIzIjp2YXIgaT1HZShlLHIpO3QucHVzaChpLm51bSkscis9aS5sZW5ndGg7YnJlYWs7Y2FzZSI0Ijpmb3IodmFyIHM9IiI7Oyl7dmFyIGE9ZVtyXTtpZigiXDAiPT09YSlicmVhaztzKz1hLHIrK31zPXMucmVwbGFjZSgvXHUwMDAxXHUwMDAxL2csIlwwIikucmVwbGFjZSgvXHUwMDAxXHUwMDAyL2csIgEiKS5yZXBsYWNlKC9cdTAwMDJcdTAwMDIvZywiAiIpLHQucHVzaChzKTticmVhaztjYXNlIjUiOnZhciB1PXtlbGVtZW50OltdLGluZGV4OnQubGVuZ3RofTt0LnB1c2godS5lbGVtZW50KSxuLnB1c2godSk7YnJlYWs7Y2FzZSI2Ijp2YXIgYz17ZWxlbWVudDp7fSxpbmRleDp0Lmxlbmd0aH07dC5wdXNoKGMuZWxlbWVudCksbi5wdXNoKGMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJiYWQgY29sbGF0aW9uSW5kZXggb3IgdW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiAiK28pfWVsc2V7aWYoMT09PXQubGVuZ3RoKXJldHVybiB0LnBvcCgpO1ZlKHQsbil9fX1mdW5jdGlvbiBZZShlLHQpe2Zvcih2YXIgbj1NYXRoLm1pbihlLmxlbmd0aCx0Lmxlbmd0aCkscj0wO3I8bjtyKyspe3ZhciBvPVdlKGVbcl0sdFtyXSk7aWYoMCE9PW8pcmV0dXJuIG99cmV0dXJuIGUubGVuZ3RoPT09dC5sZW5ndGg/MDplLmxlbmd0aD50Lmxlbmd0aD8xOi0xfWZ1bmN0aW9uIFplKGUsdCl7cmV0dXJuIGU9PT10PzA6ZT50PzE6LTF9ZnVuY3Rpb24gZXQoZSx0KXtmb3IodmFyIG49T2JqZWN0LmtleXMoZSkscj1PYmplY3Qua2V5cyh0KSxvPU1hdGgubWluKG4ubGVuZ3RoLHIubGVuZ3RoKSxpPTA7aTxvO2krKyl7dmFyIHM9V2UobltpXSxyW2ldKTtpZigwIT09cylyZXR1cm4gcztpZigwIT09KHM9V2UoZVtuW2ldXSx0W3JbaV1dKSkpcmV0dXJuIHN9cmV0dXJuIG4ubGVuZ3RoPT09ci5sZW5ndGg/MDpuLmxlbmd0aD5yLmxlbmd0aD8xOi0xfWZ1bmN0aW9uIHR0KGUpe3ZhciB0PVsiYm9vbGVhbiIsIm51bWJlciIsInN0cmluZyIsIm9iamVjdCJdLG49dC5pbmRleE9mKHR5cGVvZiBlKTtyZXR1cm5+bj9udWxsPT09ZT8xOkFycmF5LmlzQXJyYXkoZSk/NTpuPDM/bisyOm4rMzpBcnJheS5pc0FycmF5KGUpPzU6dm9pZCAwfWZ1bmN0aW9uIG50KGUpe2lmKDA9PT1lKXJldHVybiIxIjt2YXIgdD1lLnRvRXhwb25lbnRpYWwoKS5zcGxpdCgvZVwrPy8pLG49cGFyc2VJbnQodFsxXSwxMCkscj1lPDAsbz1yPyIwIjoiMiIsaT0ocj8tbjpuKS1YbyxzPUhlKGkudG9TdHJpbmcoKSwiMCIsR28pO28rPVZvK3M7dmFyIGE9TWF0aC5hYnMocGFyc2VGbG9hdCh0WzBdKSk7ciYmKGE9MTAtYSk7dmFyIHU9YS50b0ZpeGVkKDIwKTtyZXR1cm4gdT11LnJlcGxhY2UoL1wuPzArJC8sIiIpLG8rPVZvK3V9ZnVuY3Rpb24gcnQoZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7dmFyIG49UmUoZSkscj1JZShuKTtyZXR1cm4gQ2UodCxyKX0pfXJldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPXQoZS5kb2MpLG89dChuLmRvYyksaT1XZShyLG8pO3JldHVybiAwIT09aT9pOkxlKGUuZG9jLl9pZCxuLmRvYy5faWQpfX1mdW5jdGlvbiBvdChlLHQsbil7aWYoZT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gaXQoZS5kb2MsdC5zZWxlY3RvcixuKX0pLHQuc29ydCl7dmFyIHI9cnQodC5zb3J0KTtlPWUuc29ydChyKSwic3RyaW5nIiE9dHlwZW9mIHQuc29ydFswXSYmImRlc2MiPT09TmUodC5zb3J0WzBdKSYmKGU9ZS5yZXZlcnNlKCkpfWlmKCJsaW1pdCJpbiB0fHwic2tpcCJpbiB0KXt2YXIgbz10LnNraXB8fDAsaT0oImxpbWl0ImluIHQ/dC5saW1pdDplLmxlbmd0aCkrbztlPWUuc2xpY2UobyxpKX1yZXR1cm4gZX1mdW5jdGlvbiBpdChlLHQsbil7cmV0dXJuIG4uZXZlcnkoZnVuY3Rpb24obil7aWYoc3QoZSkpcmV0dXJuITE7dmFyIHI9dFtuXSxvPUllKG4pLGk9Q2UoZSxvKTtyZXR1cm4gRGUobik/dXQobixyLGUpOmF0KHIsZSxvLGkpfSl9ZnVuY3Rpb24gc3QoZSl7cmV0dXJuL15fZGVzaWduXC8vLnRlc3QoZS5faWQpfWZ1bmN0aW9uIGF0KGUsdCxuLHIpe3JldHVybiFlfHxPYmplY3Qua2V5cyhlKS5ldmVyeShmdW5jdGlvbihvKXt2YXIgaT1lW29dO3JldHVybiBjdChvLHQsaSxuLHIpfSl9ZnVuY3Rpb24gdXQoZSx0LG4pe3JldHVybiIkb3IiPT09ZT90LnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGl0KG4sZSxPYmplY3Qua2V5cyhlKSl9KToiJG5vdCI9PT1lPyFpdChuLHQsT2JqZWN0LmtleXModCkpOiF0LmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGl0KG4sZSxPYmplY3Qua2V5cyhlKSl9KX1mdW5jdGlvbiBjdChlLHQsbixyLG8pe2lmKCFRb1tlXSl0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gb3BlcmF0b3IgIicrZSsnIiAtIHNob3VsZCBiZSBvbmUgb2YgJGVxLCAkbHRlLCAkbHQsICRndCwgJGd0ZSwgJGV4aXN0cywgJG5lLCAkaW4sICRuaW4sICRzaXplLCAkbW9kLCAkcmVnZXgsICRlbGVtTWF0Y2gsICR0eXBlIG9yICRhbGwnKTtyZXR1cm4gUW9bZV0odCxuLHIsbyl9ZnVuY3Rpb24gZnQoZSl7cmV0dXJuIHZvaWQgMCE9PWUmJm51bGwhPT1lfWZ1bmN0aW9uIGx0KGUpe3JldHVybiB2b2lkIDAhPT1lfWZ1bmN0aW9uIGR0KGUsdCl7dmFyIG49dFswXSxyPXRbMV07aWYoMD09PW4pdGhyb3cgbmV3IEVycm9yKCJCYWQgZGl2aXNvciwgY2Fubm90IGRpdmlkZSBieSB6ZXJvIik7aWYocGFyc2VJbnQobiwxMCkhPT1uKXRocm93IG5ldyBFcnJvcigiRGl2aXNvciBpcyBub3QgYW4gaW50ZWdlciIpO2lmKHBhcnNlSW50KHIsMTApIT09cil0aHJvdyBuZXcgRXJyb3IoIk1vZHVsdXMgaXMgbm90IGFuIGludGVnZXIiKTtyZXR1cm4gcGFyc2VJbnQoZSwxMCk9PT1lJiZlJW49PT1yfWZ1bmN0aW9uIGh0KGUsdCl7cmV0dXJuIHQuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5P2UuaW5kZXhPZih0KT4tMTplPT09dH0pfWZ1bmN0aW9uIHB0KGUsdCl7cmV0dXJuIHQuZXZlcnkoZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5kZXhPZih0KT4tMX0pfWZ1bmN0aW9uIHZ0KGUsdCl7cmV0dXJuIGUubGVuZ3RoPT09dH1mdW5jdGlvbiBndChlLHQpe3JldHVybiBuZXcgUmVnRXhwKHQpLnRlc3QoZSl9ZnVuY3Rpb24geXQoZSx0KXtzd2l0Y2godCl7Y2FzZSJudWxsIjpyZXR1cm4gbnVsbD09PWU7Y2FzZSJib29sZWFuIjpyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlO2Nhc2UibnVtYmVyIjpyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGU7Y2FzZSJzdHJpbmciOnJldHVybiJzdHJpbmciPT10eXBlb2YgZTtjYXNlImFycmF5IjpyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5O2Nhc2Uib2JqZWN0IjpyZXR1cm4iW29iamVjdCBPYmplY3RdIj09PXt9LnRvU3RyaW5nLmNhbGwoZSl9dGhyb3cgbmV3IEVycm9yKHQrIiBub3Qgc3VwcG9ydGVkIGFzIGEgdHlwZS5QbGVhc2UgdXNlIG9uZSBvZiBvYmplY3QsIHN0cmluZywgYXJyYXksIG51bWJlciwgYm9vbGVhbiBvciBudWxsLiIpfWZ1bmN0aW9uIF90KGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiB0KXRocm93IlNlbGVjdG9yIGVycm9yOiBleHBlY3RlZCBhIEpTT04gb2JqZWN0Ijt0PVVlKHQpO3ZhciBuPXtkb2M6ZX0scj1vdChbbl0se3NlbGVjdG9yOnR9LE9iamVjdC5rZXlzKHQpKTtyZXR1cm4gciYmMT09PXIubGVuZ3RofWZ1bmN0aW9uIG10KGUpe3JldHVybiBVKCcidXNlIHN0cmljdCI7XG5yZXR1cm4gJytlKyI7Iix7fSl9ZnVuY3Rpb24gYnQoZSl7cmV0dXJuIFUoWyJyZXR1cm4gZnVuY3Rpb24oZG9jKSB7IiwnICAidXNlIHN0cmljdCI7JywiICB2YXIgZW1pdHRlZCA9IGZhbHNlOyIsIiAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoYSwgYikgeyIsIiAgICBlbWl0dGVkID0gdHJ1ZTsiLCIgIH07IiwiICB2YXIgdmlldyA9ICIrZSsiOyIsIiAgdmlldyhkb2MpOyIsIiAgaWYgKGVtaXR0ZWQpIHsiLCIgICAgcmV0dXJuIHRydWU7IiwiICB9IiwifTsiXS5qb2luKCJcbiIpLHt9KX1mdW5jdGlvbiB3dChlLHQpe2lmKGUuc2VsZWN0b3ImJmUuZmlsdGVyJiYiX3NlbGVjdG9yIiE9PWUuZmlsdGVyKXt2YXIgbj0ic3RyaW5nIj09dHlwZW9mIGUuZmlsdGVyP2UuZmlsdGVyOiJmdW5jdGlvbiI7cmV0dXJuIHQobmV3IEVycm9yKCdzZWxlY3RvciBpbnZhbGlkIGZvciBmaWx0ZXIgIicrbisnIicpKX10KCl9ZnVuY3Rpb24gRXQoZSl7ZS52aWV3JiYhZS5maWx0ZXImJihlLmZpbHRlcj0iX3ZpZXciKSxlLnNlbGVjdG9yJiYhZS5maWx0ZXImJihlLmZpbHRlcj0iX3NlbGVjdG9yIiksZS5maWx0ZXImJiJzdHJpbmciPT10eXBlb2YgZS5maWx0ZXImJigiX3ZpZXciPT09ZS5maWx0ZXI/ZS52aWV3PU0oZS52aWV3KTplLmZpbHRlcj1NKGUuZmlsdGVyKSl9ZnVuY3Rpb24gU3QoZSx0KXtyZXR1cm4gdC5maWx0ZXImJiJzdHJpbmciPT10eXBlb2YgdC5maWx0ZXImJiF0LmRvY19pZHMmJiFCKGUuZGIpfWZ1bmN0aW9uIGt0KGUsdCl7dmFyIG49dC5jb21wbGV0ZTtpZigiX3ZpZXciPT09dC5maWx0ZXIpe2lmKCF0LnZpZXd8fCJzdHJpbmciIT10eXBlb2YgdC52aWV3KXt2YXIgcj1qKERvLCJgdmlld2AgZmlsdGVyIHBhcmFtZXRlciBub3QgZm91bmQgb3IgaW52YWxpZC4iKTtyZXR1cm4gbihyKX12YXIgbz1GKHQudmlldyk7ZS5kYi5nZXQoIl9kZXNpZ24vIitvWzBdLGZ1bmN0aW9uKHIsaSl7aWYoZS5pc0NhbmNlbGxlZClyZXR1cm4gbihudWxsLHtzdGF0dXM6ImNhbmNlbGxlZCJ9KTtpZihyKXJldHVybiBuKEMocikpO3ZhciBzPWkmJmkudmlld3MmJmkudmlld3Nbb1sxXV0mJmkudmlld3Nbb1sxXV0ubWFwO2lmKCFzKXJldHVybiBuKGoocW8saS52aWV3cz8ibWlzc2luZyBqc29uIGtleTogIitvWzFdOiJtaXNzaW5nIGpzb24ga2V5OiB2aWV3cyIpKTt0LmZpbHRlcj1idChzKSxlLmRvQ2hhbmdlcyh0KX0pfWVsc2UgaWYodC5zZWxlY3Rvcil0LmZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gX3QoZSx0LnNlbGVjdG9yKX0sZS5kb0NoYW5nZXModCk7ZWxzZXt2YXIgaT1GKHQuZmlsdGVyKTtlLmRiLmdldCgiX2Rlc2lnbi8iK2lbMF0sZnVuY3Rpb24ocixvKXtpZihlLmlzQ2FuY2VsbGVkKXJldHVybiBuKG51bGwse3N0YXR1czoiY2FuY2VsbGVkIn0pO2lmKHIpcmV0dXJuIG4oQyhyKSk7dmFyIHM9byYmby5maWx0ZXJzJiZvLmZpbHRlcnNbaVsxXV07aWYoIXMpcmV0dXJuIG4oaihxbyxvJiZvLmZpbHRlcnM/Im1pc3NpbmcganNvbiBrZXk6ICIraVsxXToibWlzc2luZyBqc29uIGtleTogZmlsdGVycyIpKTt0LmZpbHRlcj1tdChzKSxlLmRvQ2hhbmdlcyh0KX0pfX1mdW5jdGlvbiBxdChlKXtlLl9jaGFuZ2VzRmlsdGVyUGx1Z2luPXt2YWxpZGF0ZTp3dCxub3JtYWxpemU6RXQsc2hvdWxkRmlsdGVyOlN0LGZpbHRlcjprdH19ZnVuY3Rpb24gQXQoZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09ITAsZX0se30pfWZ1bmN0aW9uIHh0KGUpe2lmKCEvXlxkK1wtLi8udGVzdChlKSlyZXR1cm4gaigkbyk7dmFyIHQ9ZS5pbmRleE9mKCItIiksbj1lLnN1YnN0cmluZygwLHQpLHI9ZS5zdWJzdHJpbmcodCsxKTtyZXR1cm57cHJlZml4OnBhcnNlSW50KG4sMTApLGlkOnJ9fWZ1bmN0aW9uIE90KGUsdCl7Zm9yKHZhciBuPWUuc3RhcnQtZS5pZHMubGVuZ3RoKzEscj1lLmlkcyxvPVtyWzBdLHQsW11dLGk9MSxzPXIubGVuZ3RoO2k8cztpKyspbz1bcltpXSx7c3RhdHVzOiJtaXNzaW5nIn0sW29dXTtyZXR1cm5be3BvczpuLGlkczpvfV19ZnVuY3Rpb24gVHQoZSx0KXt2YXIgbixyLG8saT17c3RhdHVzOiJhdmFpbGFibGUifTtpZihlLl9kZWxldGVkJiYoaS5kZWxldGVkPSEwKSx0KWlmKGUuX2lkfHwoZS5faWQ9eigpKSxyPXooMzIsMTYpLnRvTG93ZXJDYXNlKCksZS5fcmV2KXtpZihvPXh0KGUuX3Jldiksby5lcnJvcilyZXR1cm4gbztlLl9yZXZfdHJlZT1be3BvczpvLnByZWZpeCxpZHM6W28uaWQse3N0YXR1czoibWlzc2luZyJ9LFtbcixpLFtdXV1dfV0sbj1vLnByZWZpeCsxfWVsc2UgZS5fcmV2X3RyZWU9W3twb3M6MSxpZHM6W3IsaSxbXV19XSxuPTE7ZWxzZSBpZihlLl9yZXZpc2lvbnMmJihlLl9yZXZfdHJlZT1PdChlLl9yZXZpc2lvbnMsaSksbj1lLl9yZXZpc2lvbnMuc3RhcnQscj1lLl9yZXZpc2lvbnMuaWRzWzBdKSwhZS5fcmV2X3RyZWUpe2lmKG89eHQoZS5fcmV2KSxvLmVycm9yKXJldHVybiBvO249by5wcmVmaXgscj1vLmlkLGUuX3Jldl90cmVlPVt7cG9zOm4saWRzOltyLGksW11dfV19TihlLl9pZCksZS5fcmV2PW4rIi0iK3I7dmFyIHM9e21ldGFkYXRhOnt9LGRhdGE6e319O2Zvcih2YXIgYSBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpKXt2YXIgdT0iXyI9PT1hWzBdO2lmKHUmJiFab1thXSl7dmFyIGM9aihJbyxhKTt0aHJvdyBjLm1lc3NhZ2U9SW8ubWVzc2FnZSsiOiAiK2EsY311JiYhZWlbYV0/cy5tZXRhZGF0YVthLnNsaWNlKDEpXT1lW2FdOnMuZGF0YVthXT1lW2FdfXJldHVybiBzfWZ1bmN0aW9uIGp0KGUsdCl7ZT1lfHxbXSx0PXR8fHt9O3RyeXtyZXR1cm4gbmV3IEJsb2IoZSx0KX1jYXRjaChpKXtpZigiVHlwZUVycm9yIiE9PWkubmFtZSl0aHJvdyBpO2Zvcih2YXIgbj0idW5kZWZpbmVkIiE9dHlwZW9mIEJsb2JCdWlsZGVyP0Jsb2JCdWlsZGVyOiJ1bmRlZmluZWQiIT10eXBlb2YgTVNCbG9iQnVpbGRlcj9NU0Jsb2JCdWlsZGVyOiJ1bmRlZmluZWQiIT10eXBlb2YgTW96QmxvYkJ1aWxkZXI/TW96QmxvYkJ1aWxkZXI6V2ViS2l0QmxvYkJ1aWxkZXIscj1uZXcgbixvPTA7bzxlLmxlbmd0aDtvKz0xKXIuYXBwZW5kKGVbb10pO3JldHVybiByLmdldEJsb2IodC50eXBlKX19ZnVuY3Rpb24gQ3QoZSl7Zm9yKHZhciB0PWUubGVuZ3RoLG49bmV3IEFycmF5QnVmZmVyKHQpLHI9bmV3IFVpbnQ4QXJyYXkobiksbz0wO288dDtvKyspcltvXT1lLmNoYXJDb2RlQXQobyk7cmV0dXJuIG59ZnVuY3Rpb24gTHQoZSx0KXtyZXR1cm4ganQoW0N0KGUpXSx7dHlwZTp0fSl9ZnVuY3Rpb24gSXQoZSx0KXtyZXR1cm4gTHQodGkoZSksdCl9ZnVuY3Rpb24gRHQoZSl7Zm9yKHZhciB0PSIiLG49bmV3IFVpbnQ4QXJyYXkoZSkscj1uLmJ5dGVMZW5ndGgsbz0wO288cjtvKyspdCs9U3RyaW5nLmZyb21DaGFyQ29kZShuW29dKTtyZXR1cm4gdH1mdW5jdGlvbiBSdChlLHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgRmlsZVJlYWRlcilyZXR1cm4gdChEdCgobmV3IEZpbGVSZWFkZXJTeW5jKS5yZWFkQXNBcnJheUJ1ZmZlcihlKSkpO3ZhciBuPW5ldyBGaWxlUmVhZGVyLHI9ImZ1bmN0aW9uIj09dHlwZW9mIG4ucmVhZEFzQmluYXJ5U3RyaW5nO24ub25sb2FkZW5kPWZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LnJlc3VsdHx8IiI7aWYocilyZXR1cm4gdChuKTt0KER0KG4pKX0scj9uLnJlYWRBc0JpbmFyeVN0cmluZyhlKTpuLnJlYWRBc0FycmF5QnVmZmVyKGUpfWZ1bmN0aW9uIE50KGUsdCl7UnQoZSxmdW5jdGlvbihlKXt0KGUpfSl9ZnVuY3Rpb24gQnQoZSx0KXtOdChlLGZ1bmN0aW9uKGUpe3QobmkoZSkpfSl9ZnVuY3Rpb24gJHQoZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIEZpbGVSZWFkZXIpcmV0dXJuIHQoKG5ldyBGaWxlUmVhZGVyU3luYykucmVhZEFzQXJyYXlCdWZmZXIoZSkpO3ZhciBuPW5ldyBGaWxlUmVhZGVyO24ub25sb2FkZW5kPWZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LnJlc3VsdHx8bmV3IEFycmF5QnVmZmVyKDApO3Qobil9LG4ucmVhZEFzQXJyYXlCdWZmZXIoZSl9ZnVuY3Rpb24gRnQoZSl7cmV0dXJuIG5pKGUpfWZ1bmN0aW9uIE10KGUsdCxuKXtyZXR1cm4gZS53ZWJraXRTbGljZT9lLndlYmtpdFNsaWNlKHQsbik6ZS5zbGljZSh0LG4pfWZ1bmN0aW9uIFB0KGUsdCxuLHIsbyl7KG4+MHx8cjx0LnNpemUpJiYodD1NdCh0LG4scikpLCR0KHQsZnVuY3Rpb24odCl7ZS5hcHBlbmQodCksbygpfSl9ZnVuY3Rpb24gVXQoZSx0LG4scixvKXsobj4wfHxyPHQubGVuZ3RoKSYmKHQ9dC5zdWJzdHJpbmcobixyKSksZS5hcHBlbmRCaW5hcnkodCksbygpfWZ1bmN0aW9uIEp0KGUsdCl7ZnVuY3Rpb24gbigpe3JpKG8pfWZ1bmN0aW9uIHIoKXt2YXIgZT1mLmVuZCghMCksbj1GdChlKTt0KG4pLGYuZGVzdHJveSgpfWZ1bmN0aW9uIG8oKXt2YXIgdD1jKmEsbz10K2E7YysrLGM8dT9sKGYsZSx0LG8sbik6bChmLGUsdCxvLHIpfXZhciBpPSJzdHJpbmciPT10eXBlb2YgZSxzPWk/ZS5sZW5ndGg6ZS5zaXplLGE9TWF0aC5taW4ob2kscyksdT1NYXRoLmNlaWwocy9hKSxjPTAsZj1pP25ldyBobzpuZXcgaG8uQXJyYXlCdWZmZXIsbD1pP1V0OlB0O28oKX1mdW5jdGlvbiBIdChlKXtyZXR1cm4gaG8uaGFzaChlKX1mdW5jdGlvbiBXdChlKXt0cnl7cmV0dXJuIHRpKGUpfWNhdGNoKGUpe3ZhciB0PWooQ28sIkF0dGFjaG1lbnQgaXMgbm90IGEgdmFsaWQgYmFzZTY0IHN0cmluZyIpO3JldHVybntlcnJvcjp0fX19ZnVuY3Rpb24genQoZSx0LG4pe3ZhciByPVd0KGUuZGF0YSk7aWYoci5lcnJvcilyZXR1cm4gbihyLmVycm9yKTtlLmxlbmd0aD1yLmxlbmd0aCxlLmRhdGE9ImJsb2IiPT09dD9MdChyLGUuY29udGVudF90eXBlKToiYmFzZTY0Ij09PXQ/bmkocik6cixKdChyLGZ1bmN0aW9uKHQpe2UuZGlnZXN0PSJtZDUtIit0LG4oKX0pfWZ1bmN0aW9uIEt0KGUsdCxuKXtKdChlLmRhdGEsZnVuY3Rpb24ocil7ZS5kaWdlc3Q9Im1kNS0iK3IsZS5sZW5ndGg9ZS5kYXRhLnNpemV8fGUuZGF0YS5sZW5ndGh8fDAsImJpbmFyeSI9PT10P050KGUuZGF0YSxmdW5jdGlvbih0KXtlLmRhdGE9dCxuKCl9KToiYmFzZTY0Ij09PXQ/QnQoZS5kYXRhLGZ1bmN0aW9uKHQpe2UuZGF0YT10LG4oKX0pOm4oKX0pfWZ1bmN0aW9uIFh0KGUsdCxuKXtpZihlLnN0dWIpcmV0dXJuIG4oKTsic3RyaW5nIj09dHlwZW9mIGUuZGF0YT96dChlLHQsbik6S3QoZSx0LG4pfWZ1bmN0aW9uIEd0KGUsdCxuKXtmdW5jdGlvbiByKCl7aSsrLGUubGVuZ3RoPT09aSYmKG8/bihvKTpuKCkpfWlmKCFlLmxlbmd0aClyZXR1cm4gbigpO3ZhciBvLGk9MDtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlKXtvPWUsKytzPT09aS5sZW5ndGgmJnIoKX12YXIgaT1lLmRhdGEmJmUuZGF0YS5fYXR0YWNobWVudHM/T2JqZWN0LmtleXMoZS5kYXRhLl9hdHRhY2htZW50cyk6W10scz0wO2lmKCFpLmxlbmd0aClyZXR1cm4gcigpO2Zvcih2YXIgYSBpbiBlLmRhdGEuX2F0dGFjaG1lbnRzKWUuZGF0YS5fYXR0YWNobWVudHMuaGFzT3duUHJvcGVydHkoYSkmJlh0KGUuZGF0YS5fYXR0YWNobWVudHNbYV0sdCxuKX0pfWZ1bmN0aW9uIFZ0KGUsdCxuLHIsbyxpLHMsYSl7aWYoY2UodC5yZXZfdHJlZSxuLm1ldGFkYXRhLnJldikpcmV0dXJuIHJbb109bixpKCk7dmFyIHU9dC53aW5uaW5nUmV2fHxLKHQpLGM9ImRlbGV0ZWQiaW4gdD90LmRlbGV0ZWQ6bGUodCx1KSxmPSJkZWxldGVkImluIG4ubWV0YWRhdGE/bi5tZXRhZGF0YS5kZWxldGVkOmxlKG4ubWV0YWRhdGEpLGw9L14xLS8udGVzdChuLm1ldGFkYXRhLnJldik7aWYoYyYmIWYmJmEmJmwpe3ZhciBkPW4uZGF0YTtkLl9yZXY9dSxkLl9pZD1uLm1ldGFkYXRhLmlkLG49VHQoZCxhKX12YXIgaD11ZSh0LnJldl90cmVlLG4ubWV0YWRhdGEucmV2X3RyZWVbMF0sZSk7aWYoYSYmKGMmJmYmJiJuZXdfbGVhZiIhPT1oLmNvbmZsaWN0c3x8IWMmJiJuZXdfbGVhZiIhPT1oLmNvbmZsaWN0c3x8YyYmIWYmJiJuZXdfYnJhbmNoIj09PWguY29uZmxpY3RzKSl7dmFyIHA9aihBbyk7cmV0dXJuIHJbb109cCxpKCl9dmFyIHY9bi5tZXRhZGF0YS5yZXY7bi5tZXRhZGF0YS5yZXZfdHJlZT1oLnRyZWUsbi5zdGVtbWVkUmV2cz1oLnN0ZW1tZWRSZXZzfHxbXSx0LnJldl9tYXAmJihuLm1ldGFkYXRhLnJldl9tYXA9dC5yZXZfbWFwKTt2YXIgZyx5PUsobi5tZXRhZGF0YSksXz1sZShuLm1ldGFkYXRhLHkpLG09Yz09PV8/MDpjPF8/LTE6MTtnPXY9PT15P186bGUobi5tZXRhZGF0YSx2KSxzKG4seSxfLGcsITAsbSxvLGkpfWZ1bmN0aW9uIFF0KGUpe3JldHVybiJtaXNzaW5nIj09PWUubWV0YWRhdGEucmV2X3RyZWVbMF0uaWRzWzFdLnN0YXR1c31mdW5jdGlvbiBZdChlLHQsbixyLG8saSxzLGEsdSl7ZnVuY3Rpb24gYyhlLHQsbil7dmFyIHI9SyhlLm1ldGFkYXRhKSxvPWxlKGUubWV0YWRhdGEscik7aWYoIndhc19kZWxldGUiaW4gYSYmbylyZXR1cm4gaVt0XT1qKHFvLCJkZWxldGVkIiksbigpO2lmKGwmJlF0KGUpKXt2YXIgdT1qKEFvKTtyZXR1cm4gaVt0XT11LG4oKX1zKGUscixvLG8sITEsbz8wOjEsdCxuKX1mdW5jdGlvbiBmKCl7KytoPT09cCYmdSYmdSgpfWU9ZXx8MWUzO3ZhciBsPWEubmV3X2VkaXRzLGQ9bmV3IG1vLGg9MCxwPXQubGVuZ3RoO3QuZm9yRWFjaChmdW5jdGlvbihlLHQpe2lmKGUuX2lkJiZkZShlLl9pZCkpe3ZhciByPWUuX2RlbGV0ZWQ/Il9yZW1vdmVMb2NhbCI6Il9wdXRMb2NhbCI7cmV0dXJuIHZvaWQgbltyXShlLHtjdHg6b30sZnVuY3Rpb24oZSxuKXtpW3RdPWV8fG4sZigpfSl9dmFyIHM9ZS5tZXRhZGF0YS5pZDtkLmhhcyhzKT8ocC0tLGQuZ2V0KHMpLnB1c2goW2UsdF0pKTpkLnNldChzLFtbZSx0XV0pfSksZC5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gbygpeysrdTx0Lmxlbmd0aD9hKCk6ZigpfWZ1bmN0aW9uIGEoKXt2YXIgYT10W3VdLGY9YVswXSxkPWFbMV07aWYoci5oYXMobikpVnQoZSxyLmdldChuKSxmLGksZCxvLHMsbCk7ZWxzZXt2YXIgaD11ZShbXSxmLm1ldGFkYXRhLnJldl90cmVlWzBdLGUpO2YubWV0YWRhdGEucmV2X3RyZWU9aC50cmVlLGYuc3RlbW1lZFJldnM9aC5zdGVtbWVkUmV2c3x8W10sYyhmLGQsbyl9fXZhciB1PTA7YSgpfSl9ZnVuY3Rpb24gWnQoZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKHQpe3JldHVybiBwby5wYXJzZShlKX19ZnVuY3Rpb24gZW4oZSl7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShlKX1jYXRjaCh0KXtyZXR1cm4gcG8uc3RyaW5naWZ5KGUpfX1mdW5jdGlvbiB0bihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49InVua25vd25fZXJyb3IiO3QudGFyZ2V0JiZ0LnRhcmdldC5lcnJvciYmKG49dC50YXJnZXQuZXJyb3IubmFtZXx8dC50YXJnZXQuZXJyb3IubWVzc2FnZSksZShqKE5vLG4sdC50eXBlKSl9fWZ1bmN0aW9uIG5uKGUsdCxuKXtyZXR1cm57ZGF0YTplbihlKSx3aW5uaW5nUmV2OnQsZGVsZXRlZE9yTG9jYWw6bj8iMSI6IjAiLHNlcTplLnNlcSxpZDplLmlkfX1mdW5jdGlvbiBybihlKXtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1adChlLmRhdGEpO3JldHVybiB0Lndpbm5pbmdSZXY9ZS53aW5uaW5nUmV2LHQuZGVsZXRlZD0iMSI9PT1lLmRlbGV0ZWRPckxvY2FsLHQuc2VxPWUuc2VxLHR9ZnVuY3Rpb24gb24oZSl7aWYoIWUpcmV0dXJuIGU7dmFyIHQ9ZS5fZG9jX2lkX3Jldi5sYXN0SW5kZXhPZigiOiIpO3JldHVybiBlLl9pZD1lLl9kb2NfaWRfcmV2LnN1YnN0cmluZygwLHQtMSksZS5fcmV2PWUuX2RvY19pZF9yZXYuc3Vic3RyaW5nKHQrMSksZGVsZXRlIGUuX2RvY19pZF9yZXYsZX1mdW5jdGlvbiBzbihlLHQsbixyKXtuP3IoZT8ic3RyaW5nIiE9dHlwZW9mIGU/ZTpJdChlLHQpOmp0KFsiIl0se3R5cGU6dH0pKTplPyJzdHJpbmciIT10eXBlb2YgZT9SdChlLGZ1bmN0aW9uKGUpe3IobmkoZSkpfSk6cihlKTpyKCIiKX1mdW5jdGlvbiBhbihlLHQsbixyKXtmdW5jdGlvbiBvKCl7KythPT09cy5sZW5ndGgmJnImJnIoKX1mdW5jdGlvbiBpKGUsdCl7dmFyIHI9ZS5fYXR0YWNobWVudHNbdF0saT1yLmRpZ2VzdDtuLm9iamVjdFN0b3JlKHVpKS5nZXQoaSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3IuYm9keT1lLnRhcmdldC5yZXN1bHQuYm9keSxvKCl9fXZhciBzPU9iamVjdC5rZXlzKGUuX2F0dGFjaG1lbnRzfHx7fSk7aWYoIXMubGVuZ3RoKXJldHVybiByJiZyKCk7dmFyIGE9MDtzLmZvckVhY2goZnVuY3Rpb24obil7dC5hdHRhY2htZW50cyYmdC5pbmNsdWRlX2RvY3M/aShlLG4pOihlLl9hdHRhY2htZW50c1tuXS5zdHViPSEwLG8oKSl9KX1mdW5jdGlvbiB1bihlLHQpe3JldHVybiB2by5hbGwoZS5tYXAoZnVuY3Rpb24oZSl7aWYoZS5kb2MmJmUuZG9jLl9hdHRhY2htZW50cyl7dmFyIG49T2JqZWN0LmtleXMoZS5kb2MuX2F0dGFjaG1lbnRzKTtyZXR1cm4gdm8uYWxsKG4ubWFwKGZ1bmN0aW9uKG4pe3ZhciByPWUuZG9jLl9hdHRhY2htZW50c1tuXTtpZigiYm9keSJpbiByKXt2YXIgbz1yLmJvZHksaT1yLmNvbnRlbnRfdHlwZTtyZXR1cm4gbmV3IHZvKGZ1bmN0aW9uKHMpe3NuKG8saSx0LGZ1bmN0aW9uKHQpe2UuZG9jLl9hdHRhY2htZW50c1tuXT1Tbyh5KHIsWyJkaWdlc3QiLCJjb250ZW50X3R5cGUiXSkse2RhdGE6dH0pLHMoKX0pfSl9fSkpfX0pKX1mdW5jdGlvbiBjbihlLHQsbil7ZnVuY3Rpb24gcigpey0tY3x8bygpfWZ1bmN0aW9uIG8oKXtpLmxlbmd0aCYmaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3UuaW5kZXgoImRpZ2VzdFNlcSIpLmNvdW50KElEQktleVJhbmdlLmJvdW5kKGUrIjo6IixlKyI6Ou+/vyIsITEsITEpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dC50YXJnZXQucmVzdWx0fHxhLmRlbGV0ZShlKX19KX12YXIgaT1bXSxzPW4ub2JqZWN0U3RvcmUoYWkpLGE9bi5vYmplY3RTdG9yZSh1aSksdT1uLm9iamVjdFN0b3JlKGNpKSxjPWUubGVuZ3RoO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1zLmluZGV4KCJfZG9jX2lkX3JldiIpLG89dCsiOjoiK2U7bi5nZXRLZXkobykub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDtpZigibnVtYmVyIiE9dHlwZW9mIHQpcmV0dXJuIHIoKTtzLmRlbGV0ZSh0KSx1LmluZGV4KCJzZXEiKS5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkodCkpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5yZXN1bHQ7aWYodCl7dmFyIG49dC52YWx1ZS5kaWdlc3RTZXEuc3BsaXQoIjo6IilbMF07aS5wdXNoKG4pLHUuZGVsZXRlKHQucHJpbWFyeUtleSksdC5jb250aW51ZSgpfWVsc2UgcigpfX19KX1mdW5jdGlvbiBmbihlLHQsbil7dHJ5e3JldHVybnt0eG46ZS50cmFuc2FjdGlvbih0LG4pfX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fWZ1bmN0aW9uIGxuKGUsdCxuLHIsbyxpKXtmdW5jdGlvbiBzKCl7dmFyIGU9W3NpLGFpLHVpLGxpLGNpLGZpXSx0PWZuKG8sZSwicmVhZHdyaXRlIik7aWYodC5lcnJvcilyZXR1cm4gaSh0LmVycm9yKTttPXQudHhuLG0ub25hYm9ydD10bihpKSxtLm9udGltZW91dD10bihpKSxtLm9uY29tcGxldGU9bCxiPW0ub2JqZWN0U3RvcmUoc2kpLHc9bS5vYmplY3RTdG9yZShhaSksRT1tLm9iamVjdFN0b3JlKHVpKSxTPW0ub2JqZWN0U3RvcmUoY2kpLGs9bS5vYmplY3RTdG9yZShmaSksay5nZXQoZmkpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtBPWUudGFyZ2V0LnJlc3VsdCxjKCl9LGgoZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gTj0hMCxpKGUpO2YoKX0pfWZ1bmN0aW9uIGEoKXtMPSEwLGMoKX1mdW5jdGlvbiB1KCl7WXQoZS5yZXZzX2xpbWl0LHgscixSLG0sRCxwLG4sYSl9ZnVuY3Rpb24gYygpe0EmJkwmJihBLmRvY0NvdW50Kz1JLGsucHV0KEEpKX1mdW5jdGlvbiBmKCl7ZnVuY3Rpb24gZSgpeysrbj09PXgubGVuZ3RoJiZ1KCl9ZnVuY3Rpb24gdCh0KXt2YXIgbj1ybih0LnRhcmdldC5yZXN1bHQpO24mJlIuc2V0KG4uaWQsbiksZSgpfWlmKHgubGVuZ3RoKWZvcih2YXIgbj0wLHI9MCxvPXgubGVuZ3RoO3I8bztyKyspe3ZhciBpPXhbcl07aWYoaS5faWQmJmRlKGkuX2lkKSllKCk7ZWxzZXt2YXIgcz1iLmdldChpLm1ldGFkYXRhLmlkKTtzLm9uc3VjY2Vzcz10fX19ZnVuY3Rpb24gbCgpe058fChoaS5ub3RpZnkoci5fbWV0YS5uYW1lKSxpKG51bGwsRCkpfWZ1bmN0aW9uIGQoZSx0KXtFLmdldChlKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24obil7aWYobi50YXJnZXQucmVzdWx0KXQoKTtlbHNle3ZhciByPWooRm8sInVua25vd24gc3R1YiBhdHRhY2htZW50IHdpdGggZGlnZXN0ICIrZSk7ci5zdGF0dXM9NDEyLHQocil9fX1mdW5jdGlvbiBoKGUpe2Z1bmN0aW9uIHQoKXsrK289PT1uLmxlbmd0aCYmZShyKX12YXIgbj1bXTtpZih4LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kYXRhJiZlLmRhdGEuX2F0dGFjaG1lbnRzJiZPYmplY3Qua2V5cyhlLmRhdGEuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPWUuZGF0YS5fYXR0YWNobWVudHNbdF07ci5zdHViJiZuLnB1c2goci5kaWdlc3QpfSl9KSwhbi5sZW5ndGgpcmV0dXJuIGUoKTt2YXIgcixvPTA7bi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2QoZSxmdW5jdGlvbihlKXtlJiYhciYmKHI9ZSksdCgpfSl9KX1mdW5jdGlvbiBwKGUsdCxuLHIsbyxpLHMsYSl7ZS5tZXRhZGF0YS53aW5uaW5nUmV2PXQsZS5tZXRhZGF0YS5kZWxldGVkPW47dmFyIHU9ZS5kYXRhO2lmKHUuX2lkPWUubWV0YWRhdGEuaWQsdS5fcmV2PWUubWV0YWRhdGEucmV2LHImJih1Ll9kZWxldGVkPSEwKSx1Ll9hdHRhY2htZW50cyYmT2JqZWN0LmtleXModS5fYXR0YWNobWVudHMpLmxlbmd0aClyZXR1cm4gZyhlLHQsbixvLHMsYSk7SSs9aSxjKCksdihlLHQsbixvLHMsYSl9ZnVuY3Rpb24gdihlLHQsbixvLGkscyl7ZnVuY3Rpb24gYShpKXt2YXIgcz1lLnN0ZW1tZWRSZXZzfHxbXTtvJiZyLmF1dG9fY29tcGFjdGlvbiYmKHM9cy5jb25jYXQoWShlLm1ldGFkYXRhKSkpLHMmJnMubGVuZ3RoJiZjbihzLGUubWV0YWRhdGEuaWQsbSksbC5zZXE9aS50YXJnZXQucmVzdWx0O3ZhciBhPW5uKGwsdCxuKTtiLnB1dChhKS5vbnN1Y2Nlc3M9Y31mdW5jdGlvbiB1KGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHcuaW5kZXgoIl9kb2NfaWRfcmV2IikuZ2V0S2V5KGYuX2RvY19pZF9yZXYpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt3LnB1dChmLGUudGFyZ2V0LnJlc3VsdCkub25zdWNjZXNzPWF9fWZ1bmN0aW9uIGMoKXtEW2ldPXtvazohMCxpZDpsLmlkLHJldjpsLnJldn0sUi5zZXQoZS5tZXRhZGF0YS5pZCxlLm1ldGFkYXRhKSx5KGUsbC5zZXEscyl9dmFyIGY9ZS5kYXRhLGw9ZS5tZXRhZGF0YTtmLl9kb2NfaWRfcmV2PWwuaWQrIjo6IitsLnJldixkZWxldGUgZi5faWQsZGVsZXRlIGYuX3Jldjt2YXIgZD13LnB1dChmKTtkLm9uc3VjY2Vzcz1hLGQub25lcnJvcj11fWZ1bmN0aW9uIGcoZSx0LG4scixvLGkpe2Z1bmN0aW9uIHMoKXtjPT09Zi5sZW5ndGgmJnYoZSx0LG4scixvLGkpfWZ1bmN0aW9uIGEoKXtjKysscygpfXZhciB1PWUuZGF0YSxjPTAsZj1PYmplY3Qua2V5cyh1Ll9hdHRhY2htZW50cyk7Zi5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPWUuZGF0YS5fYXR0YWNobWVudHNbbl07aWYoci5zdHViKWMrKyxzKCk7ZWxzZXt2YXIgbz1yLmRhdGE7ZGVsZXRlIHIuZGF0YSxyLnJldnBvcz1wYXJzZUludCh0LDEwKTtfKHIuZGlnZXN0LG8sYSl9fSl9ZnVuY3Rpb24geShlLHQsbil7ZnVuY3Rpb24gcigpeysrbz09PWkubGVuZ3RoJiZuKCl9dmFyIG89MCxpPU9iamVjdC5rZXlzKGUuZGF0YS5fYXR0YWNobWVudHN8fHt9KTtpZighaS5sZW5ndGgpcmV0dXJuIG4oKTtmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrKykhZnVuY3Rpb24obil7dmFyIG89ZS5kYXRhLl9hdHRhY2htZW50c1tuXS5kaWdlc3QsaT1TLnB1dCh7c2VxOnQsZGlnZXN0U2VxOm8rIjo6Iit0fSk7aS5vbnN1Y2Nlc3M9cixpLm9uZXJyb3I9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkscigpfX0oaVtzXSl9ZnVuY3Rpb24gXyhlLHQsbil7RS5jb3VudChlKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24ocil7aWYoci50YXJnZXQucmVzdWx0KXJldHVybiBuKCk7dmFyIG89e2RpZ2VzdDplLGJvZHk6dH07RS5wdXQobykub25zdWNjZXNzPW59fWZvcih2YXIgbSxiLHcsRSxTLGsscSxBLHg9dC5kb2NzLE89MCxUPXgubGVuZ3RoO088VDtPKyspe3ZhciBDPXhbT107Qy5faWQmJmRlKEMuX2lkKXx8KEM9eFtPXT1UdChDLG4ubmV3X2VkaXRzKSxDLmVycm9yJiYhcSYmKHE9QykpfWlmKHEpcmV0dXJuIGkocSk7dmFyIEw9ITEsST0wLEQ9bmV3IEFycmF5KHgubGVuZ3RoKSxSPW5ldyBtbyxOPSExLEI9ci5fbWV0YS5ibG9iU3VwcG9ydD8iYmxvYiI6ImJhc2U2NCI7R3QoeCxCLGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIGkoZSk7cygpfSl9ZnVuY3Rpb24gZG4oZSx0LG4scixvKXtmdW5jdGlvbiBpKGUpe2Y9ZS50YXJnZXQucmVzdWx0LGMmJm8oYyxmLGwpfWZ1bmN0aW9uIHMoZSl7Yz1lLnRhcmdldC5yZXN1bHQsZiYmbyhjLGYsbCl9ZnVuY3Rpb24gYSgpe2lmKCFjLmxlbmd0aClyZXR1cm4gbygpO3ZhciBuLGE9Y1tjLmxlbmd0aC0xXTtpZih0JiZ0LnVwcGVyKXRyeXtuPUlEQktleVJhbmdlLmJvdW5kKGEsdC51cHBlciwhMCx0LnVwcGVyT3Blbil9Y2F0Y2goZSl7aWYoIkRhdGFFcnJvciI9PT1lLm5hbWUmJjA9PT1lLmNvZGUpcmV0dXJuIG8oKX1lbHNlIG49SURCS2V5UmFuZ2UubG93ZXJCb3VuZChhLCEwKTt0PW4sYz1udWxsLGY9bnVsbCxlLmdldEFsbCh0LHIpLm9uc3VjY2Vzcz1pLGUuZ2V0QWxsS2V5cyh0LHIpLm9uc3VjY2Vzcz1zfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O2lmKCF0KXJldHVybiBvKCk7byhbdC5rZXldLFt0LnZhbHVlXSx0KX12YXIgYyxmLGwsZD0iZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRBbGwmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEFsbEtleXMmJnI+MSYmIW47ZD8obD17Y29udGludWU6YX0sZS5nZXRBbGwodCxyKS5vbnN1Y2Nlc3M9aSxlLmdldEFsbEtleXModCxyKS5vbnN1Y2Nlc3M9cyk6bj9lLm9wZW5DdXJzb3IodCwicHJldiIpLm9uc3VjY2Vzcz11OmUub3BlbkN1cnNvcih0KS5vbnN1Y2Nlc3M9dX1mdW5jdGlvbiBobihlLHQsbil7ZnVuY3Rpb24gcihlKXt2YXIgdD1lLnRhcmdldC5yZXN1bHQ7dD8oby5wdXNoKHQudmFsdWUpLHQuY29udGludWUoKSk6bih7dGFyZ2V0OntyZXN1bHQ6b319KX1pZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRBbGwpcmV0dXJuIHZvaWQoZS5nZXRBbGwodCkub25zdWNjZXNzPW4pO3ZhciBvPVtdO2Uub3BlbkN1cnNvcih0KS5vbnN1Y2Nlc3M9cn1mdW5jdGlvbiBwbihlLHQsbixyLG8pe3RyeXtpZihlJiZ0KXJldHVybiBvP0lEQktleVJhbmdlLmJvdW5kKHQsZSwhbiwhMSk6SURCS2V5UmFuZ2UuYm91bmQoZSx0LCExLCFuKTtpZihlKXJldHVybiBvP0lEQktleVJhbmdlLnVwcGVyQm91bmQoZSk6SURCS2V5UmFuZ2UubG93ZXJCb3VuZChlKTtpZih0KXJldHVybiBvP0lEQktleVJhbmdlLmxvd2VyQm91bmQodCwhbik6SURCS2V5UmFuZ2UudXBwZXJCb3VuZCh0LCFuKTtpZihyKXJldHVybiBJREJLZXlSYW5nZS5vbmx5KHIpfWNhdGNoKGUpe3JldHVybntlcnJvcjplfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB2bihlLHQsbil7ZnVuY3Rpb24gcih0LG4scil7dmFyIG89dC5pZCsiOjoiK3I7cS5nZXQobykub25zdWNjZXNzPWZ1bmN0aW9uKHIpe2lmKG4uZG9jPW9uKHIudGFyZ2V0LnJlc3VsdCksZS5jb25mbGljdHMpe3ZhciBvPVEodCk7by5sZW5ndGgmJihuLmRvYy5fY29uZmxpY3RzPW8pfWFuKG4uZG9jLGUsYil9fWZ1bmN0aW9uIG8odCxuKXt2YXIgbz17aWQ6bi5pZCxrZXk6bi5pZCx2YWx1ZTp7cmV2OnR9fSxpPW4uZGVsZXRlZDsib2siPT09ZS5kZWxldGVkPyhBLnB1c2gobyksaT8oby52YWx1ZS5kZWxldGVkPSEwLG8uZG9jPW51bGwpOmUuaW5jbHVkZV9kb2NzJiZyKG4sbyx0KSk6IWkmJmgtLTw9MCYmKEEucHVzaChvKSxlLmluY2x1ZGVfZG9jcyYmcihuLG8sdCkpfWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aDt0PG4mJkEubGVuZ3RoIT09cDt0Kyspe3ZhciByPWVbdF0saT1ybihyKTtvKGkud2lubmluZ1JldixpKX19ZnVuY3Rpb24gcyhlLHQsbil7biYmKGkodCksQS5sZW5ndGg8cCYmbi5jb250aW51ZSgpKX1mdW5jdGlvbiBhKHQpe3ZhciBuPXQudGFyZ2V0LnJlc3VsdDtlLmRlc2NlbmRpbmcmJihuPW4ucmV2ZXJzZSgpKSxpKG4pfWZ1bmN0aW9uIHUoKXtuKG51bGwse3RvdGFsX3Jvd3M6dyxvZmZzZXQ6ZS5za2lwLHJvd3M6QX0pfWZ1bmN0aW9uIGMoKXtlLmF0dGFjaG1lbnRzP3VuKEEsZS5iaW5hcnkpLnRoZW4odSk6dSgpfXZhciBmPSJzdGFydGtleSJpbiBlJiZlLnN0YXJ0a2V5LGw9ImVuZGtleSJpbiBlJiZlLmVuZGtleSxkPSJrZXkiaW4gZSYmZS5rZXksaD1lLnNraXB8fDAscD0ibnVtYmVyIj09dHlwZW9mIGUubGltaXQ/ZS5saW1pdDotMSx2PWUuaW5jbHVzaXZlX2VuZCE9PSExLGc9cG4oZixsLHYsZCxlLmRlc2NlbmRpbmcpLHk9ZyYmZy5lcnJvcjtpZih5JiYoIkRhdGFFcnJvciIhPT15Lm5hbWV8fDAhPT15LmNvZGUpKXJldHVybiBuKGooTm8seS5uYW1lLHkubWVzc2FnZSkpO3ZhciBfPVtzaSxhaSxmaV07ZS5hdHRhY2htZW50cyYmXy5wdXNoKHVpKTt2YXIgbT1mbih0LF8sInJlYWRvbmx5Iik7aWYobS5lcnJvcilyZXR1cm4gbihtLmVycm9yKTt2YXIgYj1tLnR4bjtiLm9uY29tcGxldGU9YyxiLm9uYWJvcnQ9dG4obik7dmFyIHcsRT1iLm9iamVjdFN0b3JlKHNpKSxTPWIub2JqZWN0U3RvcmUoYWkpLGs9Yi5vYmplY3RTdG9yZShmaSkscT1TLmluZGV4KCJfZG9jX2lkX3JldiIpLEE9W107cmV0dXJuIGsuZ2V0KGZpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dz1lLnRhcmdldC5yZXN1bHQuZG9jQ291bnR9LHl8fDA9PT1wP3ZvaWQgMDpwPT09LTE/aG4oRSxnLGEpOnZvaWQgZG4oRSxnLGUuZGVzY2VuZGluZyxwK2gscyl9ZnVuY3Rpb24gZ24oZSl7cmV0dXJuIG5ldyB2byhmdW5jdGlvbih0KXt2YXIgbj1qdChbIiJdKTtlLm9iamVjdFN0b3JlKGRpKS5wdXQobiwia2V5Iikub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXC8oXGQrKS8pLG49bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVwvLyk7dChufHwhZXx8cGFyc2VJbnQoZVsxXSwxMCk+PTQzKX0sZS5vbmFib3J0PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHQoITEpfX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuITF9KX1mdW5jdGlvbiB5bihlLHQpe2Uub2JqZWN0U3RvcmUoc2kpLmluZGV4KCJkZWxldGVkT3JMb2NhbCIpLmNvdW50KElEQktleVJhbmdlLm9ubHkoIjAiKSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3QoZS50YXJnZXQucmVzdWx0KX19ZnVuY3Rpb24gX24oZSx0LG4scil7dHJ5e2UodCxuKX1jYXRjaCh0KXtyLmVtaXQoImVycm9yIix0KX19ZnVuY3Rpb24gbW4oKXshcGkmJnZpLmxlbmd0aCYmKHBpPSEwLHZpLnNoaWZ0KCkoKSl9ZnVuY3Rpb24gYm4oZSx0LG4pe3ZpLnB1c2goZnVuY3Rpb24oKXtlKGZ1bmN0aW9uKGUscil7X24odCxlLHIsbikscGk9ITEsZm8oZnVuY3Rpb24oKXttbihuKX0pfSl9KSxtbigpfWZ1bmN0aW9uIHduKGUsdCxuLHIpe2Z1bmN0aW9uIG8odCxuLHIpe2Z1bmN0aW9uIG8odCxuKXt2YXIgcj1lLnByb2Nlc3NDaGFuZ2Uobix0LGUpO2Q9ci5zZXE9dC5zZXE7dmFyIG89dyhyKTtpZigib2JqZWN0Ij09dHlwZW9mIG8pcmV0dXJuIGUuY29tcGxldGUobyk7byYmKGIrKyxwJiZtLnB1c2gociksZS5hdHRhY2htZW50cyYmZS5pbmNsdWRlX2RvY3M/YW4obixlLHYsZnVuY3Rpb24oKXt1bihbcl0sZS5iaW5hcnkpLnRoZW4oZnVuY3Rpb24oKXtlLm9uQ2hhbmdlKHIpfSl9KTplLm9uQ2hhbmdlKHIpKX1mdW5jdGlvbiBpKCl7Zm9yKHZhciBlPTAsdD1hLmxlbmd0aDtlPHQmJmIhPT1oO2UrKyl7dmFyIG49YVtlXTtpZihuKXtvKHVbZV0sbil9fWIhPT1oJiZyLmNvbnRpbnVlKCl9aWYociYmdC5sZW5ndGgpe3ZhciBhPW5ldyBBcnJheSh0Lmxlbmd0aCksdT1uZXcgQXJyYXkodC5sZW5ndGgpLGM9MDtuLmZvckVhY2goZnVuY3Rpb24oZSxuKXtzKG9uKGUpLHRbbl0sZnVuY3Rpb24oZSxyKXt1W25dPWUsYVtuXT1yLCsrYz09PXQubGVuZ3RoJiZpKCl9KX0pfX1mdW5jdGlvbiBpKGUsdCxuLHIpe2lmKG4uc2VxIT09dClyZXR1cm4gcigpO2lmKG4ud2lubmluZ1Jldj09PWUuX3JldilyZXR1cm4gcihuLGUpO3ZhciBvPWUuX2lkKyI6OiIrbi53aW5uaW5nUmV2O18uZ2V0KG8pLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtyKG4sb24oZS50YXJnZXQucmVzdWx0KSl9fWZ1bmN0aW9uIHMoZSx0LG4pe2lmKGwmJiFsLmhhcyhlLl9pZCkpcmV0dXJuIG4oKTt2YXIgcj1FLmdldChlLl9pZCk7aWYocilyZXR1cm4gaShlLHQscixuKTt5LmdldChlLl9pZCkub25zdWNjZXNzPWZ1bmN0aW9uKG8pe3I9cm4oby50YXJnZXQucmVzdWx0KSxFLnNldChlLl9pZCxyKSxpKGUsdCxyLG4pfX1mdW5jdGlvbiBhKCl7ZS5jb21wbGV0ZShudWxsLHtyZXN1bHRzOm0sbGFzdF9zZXE6ZH0pfWZ1bmN0aW9uIGMoKXshZS5jb250aW51b3VzJiZlLmF0dGFjaG1lbnRzP3VuKG0pLnRoZW4oYSk6YSgpfWlmKGU9dShlKSxlLmNvbnRpbnVvdXMpe3ZhciBmPW4rIjoiK3ooKQo7cmV0dXJuIGhpLmFkZExpc3RlbmVyKG4sZix0LGUpLGhpLm5vdGlmeShuKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7aGkucmVtb3ZlTGlzdGVuZXIobixmKX19fXZhciBsPWUuZG9jX2lkcyYmbmV3IF9vKGUuZG9jX2lkcyk7ZS5zaW5jZT1lLnNpbmNlfHwwO3ZhciBkPWUuc2luY2UsaD0ibGltaXQiaW4gZT9lLmxpbWl0Oi0xOzA9PT1oJiYoaD0xKTt2YXIgcDtwPSJyZXR1cm5fZG9jcyJpbiBlP2UucmV0dXJuX2RvY3M6ISgicmV0dXJuRG9jcyJpbiBlKXx8ZS5yZXR1cm5Eb2NzO3ZhciB2LGcseSxfLG09W10sYj0wLHc9SShlKSxFPW5ldyBtbyxTPVtzaSxhaV07ZS5hdHRhY2htZW50cyYmUy5wdXNoKHVpKTt2YXIgaz1mbihyLFMsInJlYWRvbmx5Iik7aWYoay5lcnJvcilyZXR1cm4gZS5jb21wbGV0ZShrLmVycm9yKTt2PWsudHhuLHYub25hYm9ydD10bihlLmNvbXBsZXRlKSx2Lm9uY29tcGxldGU9YyxnPXYub2JqZWN0U3RvcmUoYWkpLHk9di5vYmplY3RTdG9yZShzaSksXz1nLmluZGV4KCJfZG9jX2lkX3JldiIpLGRuKGcsZS5zaW5jZSYmIWUuZGVzY2VuZGluZz9JREJLZXlSYW5nZS5sb3dlckJvdW5kKGUuc2luY2UsITApOm51bGwsZS5kZXNjZW5kaW5nLGgsbyl9ZnVuY3Rpb24gRW4oZSx0KXt2YXIgbj10aGlzO2JuKGZ1bmN0aW9uKHQpe1NuKG4sZSx0KX0sdCxuLmNvbnN0cnVjdG9yKX1mdW5jdGlvbiBTbihlLHQsbil7ZnVuY3Rpb24gcihlKXt2YXIgdD1lLmNyZWF0ZU9iamVjdFN0b3JlKHNpLHtrZXlQYXRoOiJpZCJ9KTtlLmNyZWF0ZU9iamVjdFN0b3JlKGFpLHthdXRvSW5jcmVtZW50OiEwfSkuY3JlYXRlSW5kZXgoIl9kb2NfaWRfcmV2IiwiX2RvY19pZF9yZXYiLHt1bmlxdWU6ITB9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKHVpLHtrZXlQYXRoOiJkaWdlc3QifSksZS5jcmVhdGVPYmplY3RTdG9yZShmaSx7a2V5UGF0aDoiaWQiLGF1dG9JbmNyZW1lbnQ6ITF9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKGRpKSx0LmNyZWF0ZUluZGV4KCJkZWxldGVkT3JMb2NhbCIsImRlbGV0ZWRPckxvY2FsIix7dW5pcXVlOiExfSksZS5jcmVhdGVPYmplY3RTdG9yZShsaSx7a2V5UGF0aDoiX2lkIn0pO3ZhciBuPWUuY3JlYXRlT2JqZWN0U3RvcmUoY2kse2F1dG9JbmNyZW1lbnQ6ITB9KTtuLmNyZWF0ZUluZGV4KCJzZXEiLCJzZXEiKSxuLmNyZWF0ZUluZGV4KCJkaWdlc3RTZXEiLCJkaWdlc3RTZXEiLHt1bmlxdWU6ITB9KX1mdW5jdGlvbiBvKGUsdCl7dmFyIG49ZS5vYmplY3RTdG9yZShzaSk7bi5jcmVhdGVJbmRleCgiZGVsZXRlZE9yTG9jYWwiLCJkZWxldGVkT3JMb2NhbCIse3VuaXF1ZTohMX0pLG4ub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgcj1lLnRhcmdldC5yZXN1bHQ7aWYocil7dmFyIG89ci52YWx1ZSxpPWxlKG8pO28uZGVsZXRlZE9yTG9jYWw9aT8iMSI6IjAiLG4ucHV0KG8pLHIuY29udGludWUoKX1lbHNlIHQoKX19ZnVuY3Rpb24gaShlKXtlLmNyZWF0ZU9iamVjdFN0b3JlKGxpLHtrZXlQYXRoOiJfaWQifSkuY3JlYXRlSW5kZXgoIl9kb2NfaWRfcmV2IiwiX2RvY19pZF9yZXYiLHt1bmlxdWU6ITB9KX1mdW5jdGlvbiBzKGUsdCl7dmFyIG49ZS5vYmplY3RTdG9yZShsaSkscj1lLm9iamVjdFN0b3JlKHNpKSxvPWUub2JqZWN0U3RvcmUoYWkpO3Iub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgaT1lLnRhcmdldC5yZXN1bHQ7aWYoaSl7dmFyIHM9aS52YWx1ZSxhPXMuaWQsdT1kZShhKSxjPUsocyk7aWYodSl7dmFyIGY9YSsiOjoiK2MsbD1hKyI6OiIsZD1hKyI6On4iLGg9by5pbmRleCgiX2RvY19pZF9yZXYiKSxwPUlEQktleVJhbmdlLmJvdW5kKGwsZCwhMSwhMSksdj1oLm9wZW5DdXJzb3IocCk7di5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYodj1lLnRhcmdldC5yZXN1bHQpe3ZhciB0PXYudmFsdWU7dC5fZG9jX2lkX3Jldj09PWYmJm4ucHV0KHQpLG8uZGVsZXRlKHYucHJpbWFyeUtleSksdi5jb250aW51ZSgpfWVsc2Ugci5kZWxldGUoaS5wcmltYXJ5S2V5KSxpLmNvbnRpbnVlKCl9fWVsc2UgaS5jb250aW51ZSgpfWVsc2UgdCYmdCgpfX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuY3JlYXRlT2JqZWN0U3RvcmUoY2kse2F1dG9JbmNyZW1lbnQ6ITB9KTt0LmNyZWF0ZUluZGV4KCJzZXEiLCJzZXEiKSx0LmNyZWF0ZUluZGV4KCJkaWdlc3RTZXEiLCJkaWdlc3RTZXEiLHt1bmlxdWU6ITB9KX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49ZS5vYmplY3RTdG9yZShhaSkscj1lLm9iamVjdFN0b3JlKHVpKSxvPWUub2JqZWN0U3RvcmUoY2kpO3IuY291bnQoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYoIWUudGFyZ2V0LnJlc3VsdClyZXR1cm4gdCgpO24ub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldC5yZXN1bHQ7aWYoIW4pcmV0dXJuIHQoKTtmb3IodmFyIHI9bi52YWx1ZSxpPW4ucHJpbWFyeUtleSxzPU9iamVjdC5rZXlzKHIuX2F0dGFjaG1lbnRzfHx7fSksYT17fSx1PTA7dTxzLmxlbmd0aDt1KyspYVtyLl9hdHRhY2htZW50c1tzW3VdXS5kaWdlc3RdPSEwO3ZhciBjPU9iamVjdC5rZXlzKGEpO2Zvcih1PTA7dTxjLmxlbmd0aDt1Kyspe3ZhciBmPWNbdV07by5wdXQoe3NlcTppLGRpZ2VzdFNlcTpmKyI6OiIraX0pfW4uY29udGludWUoKX19fWZ1bmN0aW9uIGMoZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZS5kYXRhP3JuKGUpOihlLmRlbGV0ZWQ9IjEiPT09ZS5kZWxldGVkT3JMb2NhbCxlKX12YXIgbj1lLm9iamVjdFN0b3JlKGFpKSxyPWUub2JqZWN0U3RvcmUoc2kpO3Iub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtmdW5jdGlvbiBvKCl7dmFyIGU9bm4ocyxzLndpbm5pbmdSZXYscy5kZWxldGVkKTtyLnB1dChlKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtpLmNvbnRpbnVlKCl9fXZhciBpPWUudGFyZ2V0LnJlc3VsdDtpZihpKXt2YXIgcz10KGkudmFsdWUpO2lmKHMud2lubmluZ1Jldj1zLndpbm5pbmdSZXZ8fEsocykscy5zZXEpcmV0dXJuIG8oKTshZnVuY3Rpb24oKXt2YXIgZT1zLmlkKyI6OiIsdD1zLmlkKyI6Ou+/vyIscj1uLmluZGV4KCJfZG9jX2lkX3JldiIpLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2UuYm91bmQoZSx0KSksaT0wO3Iub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDtpZighdClyZXR1cm4gcy5zZXE9aSxvKCk7dmFyIG49dC5wcmltYXJ5S2V5O24+aSYmKGk9biksdC5jb250aW51ZSgpfX0oKX19fXZhciBsPXQubmFtZSxkPW51bGw7ZS5fbWV0YT1udWxsLGUuX3JlbW90ZT0hMSxlLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iaWRiIn0sZS5faWQ9ZihmdW5jdGlvbih0KXt0KG51bGwsZS5fbWV0YS5pbnN0YW5jZUlkKX0pLGUuX2J1bGtEb2NzPWZ1bmN0aW9uKG4scixvKXtsbih0LG4scixlLGQsbyl9LGUuX2dldD1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe24ocyx7ZG9jOm8sbWV0YWRhdGE6aSxjdHg6YX0pfXZhciBvLGkscyxhPXQuY3R4O2lmKCFhKXt2YXIgdT1mbihkLFtzaSxhaSx1aV0sInJlYWRvbmx5Iik7aWYodS5lcnJvcilyZXR1cm4gbih1LmVycm9yKTthPXUudHhufWEub2JqZWN0U3RvcmUoc2kpLmdldChlKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYoIShpPXJuKGUudGFyZ2V0LnJlc3VsdCkpKXJldHVybiBzPWoocW8sIm1pc3NpbmciKSxyKCk7dmFyIG47aWYodC5yZXYpbj10LmxhdGVzdD9oZSh0LnJldixpKTp0LnJldjtlbHNle249aS53aW5uaW5nUmV2O2lmKGxlKGkpKXJldHVybiBzPWoocW8sImRlbGV0ZWQiKSxyKCl9dmFyIHU9YS5vYmplY3RTdG9yZShhaSksYz1pLmlkKyI6OiIrbjt1LmluZGV4KCJfZG9jX2lkX3JldiIpLmdldChjKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYobz1lLnRhcmdldC5yZXN1bHQsbyYmKG89b24obykpLCFvKXJldHVybiBzPWoocW8sIm1pc3NpbmciKSxyKCk7cigpfX19LGUuX2dldEF0dGFjaG1lbnQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaTtpZihyLmN0eClpPXIuY3R4O2Vsc2V7dmFyIHM9Zm4oZCxbc2ksYWksdWldLCJyZWFkb25seSIpO2lmKHMuZXJyb3IpcmV0dXJuIG8ocy5lcnJvcik7aT1zLnR4bn12YXIgYT1uLmRpZ2VzdCx1PW4uY29udGVudF90eXBlO2kub2JqZWN0U3RvcmUodWkpLmdldChhKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7c24oZS50YXJnZXQucmVzdWx0LmJvZHksdSxyLmJpbmFyeSxmdW5jdGlvbihlKXtvKG51bGwsZSl9KX19LGUuX2luZm89ZnVuY3Rpb24odCl7dmFyIG4scixvPWZuKGQsW2ZpLGFpXSwicmVhZG9ubHkiKTtpZihvLmVycm9yKXJldHVybiB0KG8uZXJyb3IpO3ZhciBpPW8udHhuO2kub2JqZWN0U3RvcmUoZmkpLmdldChmaSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3I9ZS50YXJnZXQucmVzdWx0LmRvY0NvdW50fSxpLm9iamVjdFN0b3JlKGFpKS5vcGVuQ3Vyc29yKG51bGwsInByZXYiKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O249dD90LmtleTowfSxpLm9uY29tcGxldGU9ZnVuY3Rpb24oKXt0KG51bGwse2RvY19jb3VudDpyLHVwZGF0ZV9zZXE6bixpZGJfYXR0YWNobWVudF9mb3JtYXQ6ZS5fbWV0YS5ibG9iU3VwcG9ydD8iYmluYXJ5IjoiYmFzZTY0In0pfX0sZS5fYWxsRG9jcz1mdW5jdGlvbihlLHQpe3ZuKGUsZCx0KX0sZS5fY2hhbmdlcz1mdW5jdGlvbih0KXt3bih0LGUsbCxkKX0sZS5fY2xvc2U9ZnVuY3Rpb24oZSl7ZC5jbG9zZSgpLGdpLmRlbGV0ZShsKSxlKCl9LGUuX2dldFJldmlzaW9uVHJlZT1mdW5jdGlvbihlLHQpe3ZhciBuPWZuKGQsW3NpXSwicmVhZG9ubHkiKTtpZihuLmVycm9yKXJldHVybiB0KG4uZXJyb3IpO24udHhuLm9iamVjdFN0b3JlKHNpKS5nZXQoZSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciBuPXJuKGUudGFyZ2V0LnJlc3VsdCk7bj90KG51bGwsbi5yZXZfdHJlZSk6dChqKHFvKSl9fSxlLl9kb0NvbXBhY3Rpb249ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtzaSxhaSx1aSxjaV0sbz1mbihkLHIsInJlYWR3cml0ZSIpO2lmKG8uZXJyb3IpcmV0dXJuIG4oby5lcnJvcik7dmFyIGk9by50eG47aS5vYmplY3RTdG9yZShzaSkuZ2V0KGUpLm9uc3VjY2Vzcz1mdW5jdGlvbihuKXt2YXIgcj1ybihuLnRhcmdldC5yZXN1bHQpO1goci5yZXZfdHJlZSxmdW5jdGlvbihlLG4scixvLGkpe3ZhciBzPW4rIi0iK3I7dC5pbmRleE9mKHMpIT09LTEmJihpLnN0YXR1cz0ibWlzc2luZyIpfSksY24odCxlLGkpO3ZhciBvPXIud2lubmluZ1JldixzPXIuZGVsZXRlZDtpLm9iamVjdFN0b3JlKHNpKS5wdXQobm4ocixvLHMpKX0saS5vbmFib3J0PXRuKG4pLGkub25jb21wbGV0ZT1mdW5jdGlvbigpe24oKX19LGUuX2dldExvY2FsPWZ1bmN0aW9uKGUsdCl7dmFyIG49Zm4oZCxbbGldLCJyZWFkb25seSIpO2lmKG4uZXJyb3IpcmV0dXJuIHQobi5lcnJvcik7dmFyIHI9bi50eG4sbz1yLm9iamVjdFN0b3JlKGxpKS5nZXQoZSk7by5vbmVycm9yPXRuKHQpLG8ub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LnJlc3VsdDtuPyhkZWxldGUgbi5fZG9jX2lkX3Jldix0KG51bGwsbikpOnQoaihxbykpfX0sZS5fcHV0TG9jYWw9ZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9e30pLGRlbGV0ZSBlLl9yZXZpc2lvbnM7dmFyIHI9ZS5fcmV2LG89ZS5faWQ7ZS5fcmV2PXI/IjAtIisocGFyc2VJbnQoci5zcGxpdCgiLSIpWzFdLDEwKSsxKToiMC0xIjt2YXIgaSxzPXQuY3R4O2lmKCFzKXt2YXIgYT1mbihkLFtsaV0sInJlYWR3cml0ZSIpO2lmKGEuZXJyb3IpcmV0dXJuIG4oYS5lcnJvcik7cz1hLnR4bixzLm9uZXJyb3I9dG4obikscy5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7aSYmbihudWxsLGkpfX12YXIgdSxjPXMub2JqZWN0U3RvcmUobGkpO3I/KHU9Yy5nZXQobyksdS5vbnN1Y2Nlc3M9ZnVuY3Rpb24obyl7dmFyIHM9by50YXJnZXQucmVzdWx0O2lmKHMmJnMuX3Jldj09PXIpe2MucHV0KGUpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe2k9e29rOiEwLGlkOmUuX2lkLHJldjplLl9yZXZ9LHQuY3R4JiZuKG51bGwsaSl9fWVsc2UgbihqKEFvKSl9KToodT1jLmFkZChlKSx1Lm9uZXJyb3I9ZnVuY3Rpb24oZSl7bihqKEFvKSksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9LHUub25zdWNjZXNzPWZ1bmN0aW9uKCl7aT17b2s6ITAsaWQ6ZS5faWQscmV2OmUuX3Jldn0sdC5jdHgmJm4obnVsbCxpKX0pfSxlLl9yZW1vdmVMb2NhbD1mdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSk7dmFyIHI9dC5jdHg7aWYoIXIpe3ZhciBvPWZuKGQsW2xpXSwicmVhZHdyaXRlIik7aWYoby5lcnJvcilyZXR1cm4gbihvLmVycm9yKTtyPW8udHhuLHIub25jb21wbGV0ZT1mdW5jdGlvbigpe2kmJm4obnVsbCxpKX19dmFyIGkscz1lLl9pZCxhPXIub2JqZWN0U3RvcmUobGkpLHU9YS5nZXQocyk7dS5vbmVycm9yPXRuKG4pLHUub25zdWNjZXNzPWZ1bmN0aW9uKHIpe3ZhciBvPXIudGFyZ2V0LnJlc3VsdDtvJiZvLl9yZXY9PT1lLl9yZXY/KGEuZGVsZXRlKHMpLGk9e29rOiEwLGlkOnMscmV2OiIwLTAifSx0LmN0eCYmbihudWxsLGkpKTpuKGoocW8pKX19LGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXtoaS5yZW1vdmVBbGxMaXN0ZW5lcnMobCk7dmFyIG49eWkuZ2V0KGwpO24mJm4ucmVzdWx0JiYobi5yZXN1bHQuY2xvc2UoKSxnaS5kZWxldGUobCkpO3ZhciByPWluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShsKTtyLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3lpLmRlbGV0ZShsKSxFKCkmJmwgaW4gbG9jYWxTdG9yYWdlJiZkZWxldGUgbG9jYWxTdG9yYWdlW2xdLHQobnVsbCx7b2s6ITB9KX0sci5vbmVycm9yPXRuKHQpfTt2YXIgaD1naS5nZXQobCk7aWYoaClyZXR1cm4gZD1oLmlkYixlLl9tZXRhPWguZ2xvYmFsLGZvKGZ1bmN0aW9uKCl7bihudWxsLGUpfSk7dmFyIHA7cD10LnN0b3JhZ2U/a24obCx0LnN0b3JhZ2UpOmluZGV4ZWREQi5vcGVuKGwsaWkpLHlpLnNldChsLHApLHAub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT1sW2QtMV07ZCsrLGUmJmUoZix0KX12YXIgbj1lLnRhcmdldC5yZXN1bHQ7aWYoZS5vbGRWZXJzaW9uPDEpcmV0dXJuIHIobik7dmFyIGY9ZS5jdXJyZW50VGFyZ2V0LnRyYW5zYWN0aW9uO2Uub2xkVmVyc2lvbjwzJiZpKG4pLGUub2xkVmVyc2lvbjw0JiZhKG4pO3ZhciBsPVtvLHMsdSxjXSxkPWUub2xkVmVyc2lvbjt0KCl9LHAub25zdWNjZXNzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2b2lkIDAhPT1hJiZmJiYoZS5fbWV0YT17bmFtZTpsLGluc3RhbmNlSWQ6dSxibG9iU3VwcG9ydDphfSxnaS5zZXQobCx7aWRiOmQsZ2xvYmFsOmUuX21ldGF9KSxuKG51bGwsZSkpfWZ1bmN0aW9uIG8oKXtpZih2b2lkIDAhPT1zJiZ2b2lkIDAhPT1pKXt2YXIgZT1sKyJfaWQiO2UgaW4gaT91PWlbZV06aVtlXT11PXooKSxpLmRvY0NvdW50PXMsYy5vYmplY3RTdG9yZShmaSkucHV0KGkpfX1kPXQudGFyZ2V0LnJlc3VsdCxkLm9udmVyc2lvbmNoYW5nZT1mdW5jdGlvbigpe2QuY2xvc2UoKSxnaS5kZWxldGUobCl9LGQub25hYm9ydD1mdW5jdGlvbihlKXtxKCJlcnJvciIsIkRhdGFiYXNlIGhhcyBhIGdsb2JhbCBmYWlsdXJlIixlLnRhcmdldC5lcnJvciksZC5jbG9zZSgpLGdpLmRlbGV0ZShsKX07dmFyIGkscyxhLHUsYz1kLnRyYW5zYWN0aW9uKFtmaSxkaSxzaV0sInJlYWR3cml0ZSIpLGY9ITE7Yy5vYmplY3RTdG9yZShmaSkuZ2V0KGZpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aT1lLnRhcmdldC5yZXN1bHR8fHtpZDpmaX0sbygpfSx5bihjLGZ1bmN0aW9uKGUpe3M9ZSxvKCl9KSxZb3x8KFlvPWduKGMpKSxZby50aGVuKGZ1bmN0aW9uKGUpe2E9ZSxyKCl9KSxjLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtmPSEwLHIoKX19LHAub25lcnJvcj1mdW5jdGlvbigpe3ZhciBlPSJGYWlsZWQgdG8gb3BlbiBpbmRleGVkREIsIGFyZSB5b3UgaW4gcHJpdmF0ZSBicm93c2luZyBtb2RlPyI7cSgiZXJyb3IiLGUpLG4oaihObyxlKSl9fWZ1bmN0aW9uIGtuKGUsdCl7dHJ5e3JldHVybiBpbmRleGVkREIub3BlbihlLHt2ZXJzaW9uOmlpLHN0b3JhZ2U6dH0pfWNhdGNoKHQpe3JldHVybiBpbmRleGVkREIub3BlbihlLGlpKX19ZnVuY3Rpb24gcW4oZSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZSkpfWZ1bmN0aW9uIEFuKGUpe3JldHVybiBlPDY1P2UtNDg6ZS01NX1mdW5jdGlvbiB4bihlLHQsbil7Zm9yKHZhciByPSIiO3Q8bjspcis9U3RyaW5nLmZyb21DaGFyQ29kZShBbihlLmNoYXJDb2RlQXQodCsrKSk8PDR8QW4oZS5jaGFyQ29kZUF0KHQrKykpKTtyZXR1cm4gcn1mdW5jdGlvbiBPbihlLHQsbil7Zm9yKHZhciByPSIiO3Q8bjspcis9U3RyaW5nLmZyb21DaGFyQ29kZShBbihlLmNoYXJDb2RlQXQodCsyKSk8PDEyfEFuKGUuY2hhckNvZGVBdCh0KzMpKTw8OHxBbihlLmNoYXJDb2RlQXQodCkpPDw0fEFuKGUuY2hhckNvZGVBdCh0KzEpKSksdCs9NDtyZXR1cm4gcn1mdW5jdGlvbiBUbihlLHQpe3JldHVybiJVVEYtOCI9PT10P3FuKHhuKGUsMCxlLmxlbmd0aCkpOk9uKGUsMCxlLmxlbmd0aCl9ZnVuY3Rpb24gam4oZSl7cmV0dXJuIiciK2UrIicifWZ1bmN0aW9uIENuKGUpe3JldHVybiBlLnJlcGxhY2UoL1x1MDAwMi9nLCICAiIpLnJlcGxhY2UoL1x1MDAwMS9nLCIBAiIpLnJlcGxhY2UoL1x1MDAwMC9nLCIBASIpfWZ1bmN0aW9uIExuKGUpe3JldHVybiBlLnJlcGxhY2UoL1x1MDAwMVx1MDAwMS9nLCJcMCIpLnJlcGxhY2UoL1x1MDAwMVx1MDAwMi9nLCIBIikucmVwbGFjZSgvXHUwMDAyXHUwMDAyL2csIgIiKX1mdW5jdGlvbiBJbihlKXtyZXR1cm4gZGVsZXRlIGUuX2lkLGRlbGV0ZSBlLl9yZXYsSlNPTi5zdHJpbmdpZnkoZSl9ZnVuY3Rpb24gRG4oZSx0LG4pe3JldHVybiBlPUpTT04ucGFyc2UoZSksZS5faWQ9dCxlLl9yZXY9bixlfWZ1bmN0aW9uIFJuKGUpe2Zvcih2YXIgdD0iKCI7ZS0tOyl0Kz0iPyIsZSYmKHQrPSIsIik7cmV0dXJuIHQrIikifWZ1bmN0aW9uIE5uKGUsdCxuLHIsbyl7cmV0dXJuIlNFTEVDVCAiK2UrIiBGUk9NICIrKCJzdHJpbmciPT10eXBlb2YgdD90OnQuam9pbigiIEpPSU4gIikpKyhuPyIgT04gIituOiIiKSsocj8iIFdIRVJFICIrKCJzdHJpbmciPT10eXBlb2Ygcj9yOnIuam9pbigiIEFORCAiKSk6IiIpKyhvPyIgT1JERVIgQlkgIitvOiIiKX1mdW5jdGlvbiBCbihlLHQsbil7ZnVuY3Rpb24gcigpeysraT09PWUubGVuZ3RoJiZvKCl9ZnVuY3Rpb24gbygpe2lmKHMubGVuZ3RoKXt2YXIgZT0iU0VMRUNUIERJU1RJTkNUIGRpZ2VzdCBBUyBkaWdlc3QgRlJPTSAiK3FpKyIgV0hFUkUgc2VxIElOICIrUm4ocy5sZW5ndGgpO24uZXhlY3V0ZVNxbChlLHMsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8dC5yb3dzLmxlbmd0aDtyKyspbi5wdXNoKHQucm93cy5pdGVtKHIpLmRpZ2VzdCk7aWYobi5sZW5ndGgpe3ZhciBvPSJERUxFVEUgRlJPTSAiK3FpKyIgV0hFUkUgc2VxIElOICgiK3MubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIj8ifSkuam9pbigiLCIpKyIpIjtlLmV4ZWN1dGVTcWwobyxzLGZ1bmN0aW9uKGUpe3ZhciB0PSJTRUxFQ1QgZGlnZXN0IEZST00gIitxaSsiIFdIRVJFIGRpZ2VzdCBJTiAoIituLm1hcChmdW5jdGlvbigpe3JldHVybiI/In0pLmpvaW4oIiwiKSsiKSI7ZS5leGVjdXRlU3FsKHQsbixmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1uZXcgX28sbz0wO288dC5yb3dzLmxlbmd0aDtvKyspci5hZGQodC5yb3dzLml0ZW0obykuZGlnZXN0KTtuLmZvckVhY2goZnVuY3Rpb24odCl7ci5oYXModCl8fChlLmV4ZWN1dGVTcWwoIkRFTEVURSBGUk9NICIrcWkrIiBXSEVSRSBkaWdlc3Q9PyIsW3RdKSxlLmV4ZWN1dGVTcWwoIkRFTEVURSBGUk9NICIrRWkrIiBXSEVSRSBkaWdlc3Q9PyIsW3RdKSl9KX0pfSl9fSl9fWlmKGUubGVuZ3RoKXt2YXIgaT0wLHM9W107ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBvPSJTRUxFQ1Qgc2VxIEZST00gIit3aSsiIFdIRVJFIGRvY19pZD0/IEFORCByZXY9PyI7bi5leGVjdXRlU3FsKG8sW3QsZV0sZnVuY3Rpb24oZSx0KXtpZighdC5yb3dzLmxlbmd0aClyZXR1cm4gcigpO3ZhciBuPXQucm93cy5pdGVtKDApLnNlcTtzLnB1c2gobiksZS5leGVjdXRlU3FsKCJERUxFVEUgRlJPTSAiK3dpKyIgV0hFUkUgc2VxPT8iLFtuXSxyKX0pfSl9fWZ1bmN0aW9uICRuKGUpe3JldHVybiBmdW5jdGlvbih0KXtxKCJlcnJvciIsIldlYlNRTCB0aHJldyBhbiBlcnJvciIsdCk7dmFyIG49dCYmdC5jb25zdHJ1Y3Rvci50b1N0cmluZygpLm1hdGNoKC9mdW5jdGlvbiAoW15cKF0rKS8pLHI9biYmblsxXXx8dC50eXBlLG89dC50YXJnZXR8fHQubWVzc2FnZTtlKGooQm8sbyxyKSl9fWZ1bmN0aW9uIEZuKGUpe3JldHVybiJzaXplImluIGU/MWU2KmUuc2l6ZToidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmL0FuZHJvaWQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/NWU2OjF9ZnVuY3Rpb24gTW4oZSx0LG4scixvLGkscyl7ZnVuY3Rpb24gYSgpe2lmKG0pcmV0dXJuIHMobSk7aS5ub3RpZnkoci5fbmFtZSkscyhudWxsLGIpfWZ1bmN0aW9uIHUoZSx0KXt2YXIgbj0iU0VMRUNUIGNvdW50KCopIGFzIGNudCBGUk9NICIrRWkrIiBXSEVSRSBkaWdlc3Q9PyI7Xy5leGVjdXRlU3FsKG4sW2VdLGZ1bmN0aW9uKG4scil7aWYoMD09PXIucm93cy5pdGVtKDApLmNudCl7dmFyIG89aihGbywidW5rbm93biBzdHViIGF0dGFjaG1lbnQgd2l0aCBkaWdlc3QgIitlKTt0KG8pfWVsc2UgdCgpfSl9ZnVuY3Rpb24gYyhlKXtmdW5jdGlvbiB0KCl7KytvPT09bi5sZW5ndGgmJmUocil9dmFyIG49W107aWYoZy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZGF0YSYmZS5kYXRhLl9hdHRhY2htZW50cyYmT2JqZWN0LmtleXMoZS5kYXRhLl9hdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1lLmRhdGEuX2F0dGFjaG1lbnRzW3RdO3Iuc3R1YiYmbi5wdXNoKHIuZGlnZXN0KX0pfSksIW4ubGVuZ3RoKXJldHVybiBlKCk7dmFyIHIsbz0wO24uZm9yRWFjaChmdW5jdGlvbihlKXt1KGUsZnVuY3Rpb24oZSl7ZSYmIXImJihyPWUpLHQoKX0pfSl9ZnVuY3Rpb24gZihlLHQsbixvLGkscyxhLHUpe2Z1bmN0aW9uIGMoKXtmdW5jdGlvbiB0KGUsdCl7ZnVuY3Rpb24gcigpe3JldHVybisrbz09PWkubGVuZ3RoJiZ0KCksITF9dmFyIG89MCxpPU9iamVjdC5rZXlzKG4uX2F0dGFjaG1lbnRzfHx7fSk7aWYoIWkubGVuZ3RoKXJldHVybiB0KCk7Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspIWZ1bmN0aW9uKHQpe3ZhciBvPSJJTlNFUlQgSU5UTyAiK3FpKyIgKGRpZ2VzdCwgc2VxKSBWQUxVRVMgKD8sPykiLGk9W24uX2F0dGFjaG1lbnRzW3RdLmRpZ2VzdCxlXTtfLmV4ZWN1dGVTcWwobyxpLHIscil9KGlbc10pfXZhciBuPWUuZGF0YSxyPW8/MTowLGk9bi5faWQscz1uLl9yZXYsYT1JbihuKSx1PSJJTlNFUlQgSU5UTyAiK3dpKyIgKGRvY19pZCwgcmV2LCBqc29uLCBkZWxldGVkKSBWQUxVRVMgKD8sID8sID8sID8pOyIsYz1baSxzLGEscl07Xy5leGVjdXRlU3FsKHUsYyxmdW5jdGlvbihlLG4pe3ZhciByPW4uaW5zZXJ0SWQ7dChyLGZ1bmN0aW9uKCl7ZChlLHIpfSl9LGZ1bmN0aW9uKCl7dmFyIGU9Tm4oInNlcSIsd2ksbnVsbCwiZG9jX2lkPT8gQU5EIHJldj0/Iik7cmV0dXJuIF8uZXhlY3V0ZVNxbChlLFtpLHNdLGZ1bmN0aW9uKGUsbil7dmFyIG89bi5yb3dzLml0ZW0oMCkuc2VxLHU9IlVQREFURSAiK3dpKyIgU0VUIGpzb249PywgZGVsZXRlZD0/IFdIRVJFIGRvY19pZD0/IEFORCByZXY9PzsiLGM9W2EscixpLHNdO2UuZXhlY3V0ZVNxbCh1LGMsZnVuY3Rpb24oZSl7dChvLGZ1bmN0aW9uKCl7ZChlLG8pfSl9KX0pLCExfSl9ZnVuY3Rpb24gZihlKXtwfHwoZT8ocD1lLHUocCkpOnY9PT1nLmxlbmd0aCYmYygpKX1mdW5jdGlvbiBsKGUpe3YrKyxmKGUpfWZ1bmN0aW9uIGQobixvKXt2YXIgcz1lLm1ldGFkYXRhLmlkLGM9ZS5zdGVtbWVkUmV2c3x8W107aSYmci5hdXRvX2NvbXBhY3Rpb24mJihjPVkoZS5tZXRhZGF0YSkuY29uY2F0KGMpKSxjLmxlbmd0aCYmQm4oYyxzLG4pLGUubWV0YWRhdGEuc2VxPW87dmFyIGY9ZS5tZXRhZGF0YS5yZXY7ZGVsZXRlIGUubWV0YWRhdGEucmV2O3ZhciBsPWk/IlVQREFURSAiK2JpKyIgU0VUIGpzb249PywgbWF4X3NlcT0/LCB3aW5uaW5nc2VxPShTRUxFQ1Qgc2VxIEZST00gIit3aSsiIFdIRVJFIGRvY19pZD0iK2JpKyIuaWQgQU5EIHJldj0/KSBXSEVSRSBpZD0/IjoiSU5TRVJUIElOVE8gIitiaSsiIChpZCwgd2lubmluZ3NlcSwgbWF4X3NlcSwganNvbikgVkFMVUVTICg/LD8sPyw/KTsiLGQ9ZW4oZS5tZXRhZGF0YSksaD1pP1tkLG8sdCxzXTpbcyxvLG8sZF07bi5leGVjdXRlU3FsKGwsaCxmdW5jdGlvbigpe2JbYV09e29rOiEwLGlkOmUubWV0YWRhdGEuaWQscmV2OmZ9LHcuc2V0KHMsZS5tZXRhZGF0YSksdSgpfSl9dmFyIHA9bnVsbCx2PTA7ZS5kYXRhLl9pZD1lLm1ldGFkYXRhLmlkLGUuZGF0YS5fcmV2PWUubWV0YWRhdGEucmV2O3ZhciBnPU9iamVjdC5rZXlzKGUuZGF0YS5fYXR0YWNobWVudHN8fHt9KTtvJiYoZS5kYXRhLl9kZWxldGVkPSEwKSxnLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9ZS5kYXRhLl9hdHRhY2htZW50c1tuXTtpZihyLnN0dWIpdisrLGYoKTtlbHNle3ZhciBvPXIuZGF0YTtkZWxldGUgci5kYXRhLHIucmV2cG9zPXBhcnNlSW50KHQsMTApO2goci5kaWdlc3QsbyxsKX19KSxnLmxlbmd0aHx8YygpfWZ1bmN0aW9uIGwoKXtZdChlLnJldnNfbGltaXQsZyxyLHcsXyxiLGYsbil9ZnVuY3Rpb24gZChlKXtmdW5jdGlvbiB0KCl7KytuPT09Zy5sZW5ndGgmJmUoKX1pZighZy5sZW5ndGgpcmV0dXJuIGUoKTt2YXIgbj0wO2cuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlLl9pZCYmZGUoZS5faWQpKXJldHVybiB0KCk7dmFyIG49ZS5tZXRhZGF0YS5pZDtfLmV4ZWN1dGVTcWwoIlNFTEVDVCBqc29uIEZST00gIitiaSsiIFdIRVJFIGlkID0gPyIsW25dLGZ1bmN0aW9uKGUscil7aWYoci5yb3dzLmxlbmd0aCl7dmFyIG89WnQoci5yb3dzLml0ZW0oMCkuanNvbik7dy5zZXQobixvKX10KCl9KX0pfWZ1bmN0aW9uIGgoZSx0LG4pe3ZhciByPSJTRUxFQ1QgZGlnZXN0IEZST00gIitFaSsiIFdIRVJFIGRpZ2VzdD0/IjtfLmV4ZWN1dGVTcWwocixbZV0sZnVuY3Rpb24obyxpKXtpZihpLnJvd3MubGVuZ3RoKXJldHVybiBuKCk7cj0iSU5TRVJUIElOVE8gIitFaSsiIChkaWdlc3QsIGJvZHksIGVzY2FwZWQpIFZBTFVFUyAoPyw/LDEpIixvLmV4ZWN1dGVTcWwocixbZSxDbih0KV0sZnVuY3Rpb24oKXtuKCl9LGZ1bmN0aW9uKCl7cmV0dXJuIG4oKSwhMX0pfSl9dmFyIHA9bi5uZXdfZWRpdHMsdj10LmRvY3MsZz12Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5faWQmJmRlKGUuX2lkKT9lOlR0KGUscCl9KSx5PWcuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVycm9yfSk7aWYoeS5sZW5ndGgpcmV0dXJuIHMoeVswXSk7dmFyIF8sbSxiPW5ldyBBcnJheShnLmxlbmd0aCksdz1uZXcgbW87R3QoZywiYmluYXJ5IixmdW5jdGlvbihlKXtpZihlKXJldHVybiBzKGUpO28udHJhbnNhY3Rpb24oZnVuY3Rpb24oZSl7Xz1lLGMoZnVuY3Rpb24oZSl7ZT9tPWU6ZChsKX0pfSwkbihzKSxhKX0pfWZ1bmN0aW9uIFBuKGUpe3JldHVybiBlLndlYnNxbChlLm5hbWUsZS52ZXJzaW9uLGUuZGVzY3JpcHRpb24sZS5zaXplKX1mdW5jdGlvbiBVbihlKXt0cnl7cmV0dXJue2RiOlBuKGUpfX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fWZ1bmN0aW9uIEpuKGUpe3ZhciB0PUFpLmdldChlLm5hbWUpO3JldHVybiB0fHwodD1VbihlKSxBaS5zZXQoZS5uYW1lLHQpKSx0fWZ1bmN0aW9uIEhuKGUsdCxuLHIsbyl7ZnVuY3Rpb24gaSgpeysrdT09PWEubGVuZ3RoJiZvJiZvKCl9ZnVuY3Rpb24gcyhlLG8pe3ZhciBzPWUuX2F0dGFjaG1lbnRzW29dLGE9e2JpbmFyeTp0LmJpbmFyeSxjdHg6cn07bi5fZ2V0QXR0YWNobWVudChlLl9pZCxvLHMsYSxmdW5jdGlvbih0LG4pe2UuX2F0dGFjaG1lbnRzW29dPVNvKHkocyxbImRpZ2VzdCIsImNvbnRlbnRfdHlwZSJdKSx7ZGF0YTpufSksaSgpfSl9dmFyIGE9T2JqZWN0LmtleXMoZS5fYXR0YWNobWVudHN8fHt9KTtpZighYS5sZW5ndGgpcmV0dXJuIG8mJm8oKTt2YXIgdT0wO2EuZm9yRWFjaChmdW5jdGlvbihuKXt0LmF0dGFjaG1lbnRzJiZ0LmluY2x1ZGVfZG9jcz9zKGUsbik6KGUuX2F0dGFjaG1lbnRzW25dLnN0dWI9ITAsaSgpKX0pfWZ1bmN0aW9uIFduKGUsdCl7ZnVuY3Rpb24gbigpe0UoKSYmKHdpbmRvdy5sb2NhbFN0b3JhZ2VbIl9wb3VjaF9fd2Vic3FsZGJfIittLl9uYW1lXT0hMCksdChudWxsLG0pfWZ1bmN0aW9uIHIoZSx0KXtlLmV4ZWN1dGVTcWwoQ2kpLGUuZXhlY3V0ZVNxbCgiQUxURVIgVEFCTEUgIit3aSsiIEFERCBDT0xVTU4gZGVsZXRlZCBUSU5ZSU5UKDEpIERFRkFVTFQgMCIsW10sZnVuY3Rpb24oKXtlLmV4ZWN1dGVTcWwoVGkpLGUuZXhlY3V0ZVNxbCgiQUxURVIgVEFCTEUgIitiaSsiIEFERCBDT0xVTU4gbG9jYWwgVElOWUlOVCgxKSBERUZBVUxUIDAiLFtdLGZ1bmN0aW9uKCl7ZS5leGVjdXRlU3FsKCJDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyAnZG9jLXN0b3JlLWxvY2FsLWlkeCcgT04gIitiaSsiIChsb2NhbCwgaWQpIik7dmFyIG49IlNFTEVDVCAiK2JpKyIud2lubmluZ3NlcSBBUyBzZXEsICIrYmkrIi5qc29uIEFTIG1ldGFkYXRhIEZST00gIit3aSsiIEpPSU4gIitiaSsiIE9OICIrd2krIi5zZXEgPSAiK2JpKyIud2lubmluZ3NlcSI7ZS5leGVjdXRlU3FsKG4sW10sZnVuY3Rpb24oZSxuKXtmb3IodmFyIHI9W10sbz1bXSxpPTA7aTxuLnJvd3MubGVuZ3RoO2krKyl7dmFyIHM9bi5yb3dzLml0ZW0oaSksYT1zLnNlcSx1PUpTT04ucGFyc2Uocy5tZXRhZGF0YSk7bGUodSkmJnIucHVzaChhKSxkZSh1LmlkKSYmby5wdXNoKHUuaWQpfWUuZXhlY3V0ZVNxbCgiVVBEQVRFICIrYmkrIlNFVCBsb2NhbCA9IDEgV0hFUkUgaWQgSU4gIitSbihvLmxlbmd0aCksbyxmdW5jdGlvbigpe2UuZXhlY3V0ZVNxbCgiVVBEQVRFICIrd2krIiBTRVQgZGVsZXRlZCA9IDEgV0hFUkUgc2VxIElOICIrUm4oci5sZW5ndGgpLHIsdCl9KX0pfSl9KX1mdW5jdGlvbiBvKGUsdCl7dmFyIG49IkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTICIrU2krIiAoaWQgVU5JUVVFLCByZXYsIGpzb24pIjtlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbigpe3ZhciBuPSJTRUxFQ1QgIitiaSsiLmlkIEFTIGlkLCAiK3dpKyIuanNvbiBBUyBkYXRhIEZST00gIit3aSsiIEpPSU4gIitiaSsiIE9OICIrd2krIi5zZXEgPSAiK2JpKyIud2lubmluZ3NlcSBXSEVSRSBsb2NhbCA9IDEiO2UuZXhlY3V0ZVNxbChuLFtdLGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcigpe2lmKCFvLmxlbmd0aClyZXR1cm4gdChlKTt2YXIgbj1vLnNoaWZ0KCksaT1KU09OLnBhcnNlKG4uZGF0YSkuX3JldjtlLmV4ZWN1dGVTcWwoIklOU0VSVCBJTlRPICIrU2krIiAoaWQsIHJldiwganNvbikgVkFMVUVTICg/LD8sPykiLFtuLmlkLGksbi5kYXRhXSxmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwoIkRFTEVURSBGUk9NICIrYmkrIiBXSEVSRSBpZD0/Iixbbi5pZF0sZnVuY3Rpb24oZSl7ZS5leGVjdXRlU3FsKCJERUxFVEUgRlJPTSAiK3dpKyIgV0hFUkUgc2VxPT8iLFtuLnNlcV0sZnVuY3Rpb24oKXtyKCl9KX0pfSl9Zm9yKHZhciBvPVtdLGk9MDtpPG4ucm93cy5sZW5ndGg7aSsrKW8ucHVzaChuLnJvd3MuaXRlbShpKSk7cigpfSl9KX1mdW5jdGlvbiBpKGUsdCl7ZnVuY3Rpb24gbihuKXtmdW5jdGlvbiByKCl7aWYoIW4ubGVuZ3RoKXJldHVybiB0KGUpO3ZhciBvPW4uc2hpZnQoKSxpPVRuKG8uaGV4LF8pLHM9aS5sYXN0SW5kZXhPZigiOjoiKSxhPWkuc3Vic3RyaW5nKDAscyksdT1pLnN1YnN0cmluZyhzKzIpLGM9IlVQREFURSAiK3dpKyIgU0VUIGRvY19pZD0/LCByZXY9PyBXSEVSRSBkb2NfaWRfcmV2PT8iO2UuZXhlY3V0ZVNxbChjLFthLHUsaV0sZnVuY3Rpb24oKXtyKCl9KX1yKCl9dmFyIHI9IkFMVEVSIFRBQkxFICIrd2krIiBBREQgQ09MVU1OIGRvY19pZCI7ZS5leGVjdXRlU3FsKHIsW10sZnVuY3Rpb24oZSl7dmFyIHQ9IkFMVEVSIFRBQkxFICIrd2krIiBBREQgQ09MVU1OIHJldiI7ZS5leGVjdXRlU3FsKHQsW10sZnVuY3Rpb24oZSl7ZS5leGVjdXRlU3FsKGppLFtdLGZ1bmN0aW9uKGUpe3ZhciB0PSJTRUxFQ1QgaGV4KGRvY19pZF9yZXYpIGFzIGhleCBGUk9NICIrd2k7ZS5leGVjdXRlU3FsKHQsW10sZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbz0wO288dC5yb3dzLmxlbmd0aDtvKyspci5wdXNoKHQucm93cy5pdGVtKG8pKTtuKHIpfSl9KX0pfSl9ZnVuY3Rpb24gcyhlLHQpe2Z1bmN0aW9uIG4oZSl7dmFyIG49IlNFTEVDVCBDT1VOVCgqKSBBUyBjbnQgRlJPTSAiK0VpO2UuZXhlY3V0ZVNxbChuLFtdLGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcigpe3ZhciBuPU5uKFJpKyIsICIrYmkrIi5pZCBBUyBpZCIsW2JpLHdpXSxEaSxudWxsLGJpKyIuaWQgIik7bis9IiBMSU1JVCAiK2krIiBPRkZTRVQgIitvLG8rPWksZS5leGVjdXRlU3FsKG4sW10sZnVuY3Rpb24oZSxuKXtpZighbi5yb3dzLmxlbmd0aClyZXR1cm4gdChlKTtmb3IodmFyIG89e30saT0wO2k8bi5yb3dzLmxlbmd0aDtpKyspZm9yKHZhciBzPW4ucm93cy5pdGVtKGkpLGE9RG4ocy5kYXRhLHMuaWQscy5yZXYpLHU9T2JqZWN0LmtleXMoYS5fYXR0YWNobWVudHN8fHt9KSxjPTA7Yzx1Lmxlbmd0aDtjKyspe3ZhciBmPWEuX2F0dGFjaG1lbnRzW3VbY11dOyFmdW5jdGlvbihlLHQpe3ZhciBuPW9bZV09b1tlXXx8W107bi5pbmRleE9mKHQpPT09LTEmJm4ucHVzaCh0KX0oZi5kaWdlc3Qscy5zZXEpfXZhciBsPVtdO2lmKE9iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24oZSl7b1tlXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2wucHVzaChbZSx0XSl9KX0pLCFsLmxlbmd0aClyZXR1cm4gcigpO3ZhciBkPTA7bC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPSJJTlNFUlQgSU5UTyAiK3FpKyIgKGRpZ2VzdCwgc2VxKSBWQUxVRVMgKD8sPykiO2UuZXhlY3V0ZVNxbChuLHQsZnVuY3Rpb24oKXsrK2Q9PT1sLmxlbmd0aCYmcigpfSl9KX0pfWlmKCFuLnJvd3MuaXRlbSgwKS5jbnQpcmV0dXJuIHQoZSk7dmFyIG89MCxpPTEwO3IoKX0pfXZhciByPSJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAiK3FpKyIgKGRpZ2VzdCwgc2VxIElOVEVHRVIpIjtlLmV4ZWN1dGVTcWwocixbXSxmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwoSWksW10sZnVuY3Rpb24oZSl7ZS5leGVjdXRlU3FsKExpLFtdLG4pfSl9KX1mdW5jdGlvbiBhKGUsdCl7dmFyIG49IkFMVEVSIFRBQkxFICIrRWkrIiBBREQgQ09MVU1OIGVzY2FwZWQgVElOWUlOVCgxKSBERUZBVUxUIDAiO2UuZXhlY3V0ZVNxbChuLFtdLHQpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj0iQUxURVIgVEFCTEUgIitiaSsiIEFERCBDT0xVTU4gbWF4X3NlcSBJTlRFR0VSIjtlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbihlKXt2YXIgbj0iVVBEQVRFICIrYmkrIiBTRVQgbWF4X3NlcT0oU0VMRUNUIE1BWChzZXEpIEZST00gIit3aSsiIFdIRVJFIGRvY19pZD1pZCkiO2UuZXhlY3V0ZVNxbChuLFtdLGZ1bmN0aW9uKGUpe3ZhciBuPSJDUkVBVEUgVU5JUVVFIElOREVYIElGIE5PVCBFWElTVFMgJ2RvYy1tYXgtc2VxLWlkeCcgT04gIitiaSsiIChtYXhfc2VxKSI7ZS5leGVjdXRlU3FsKG4sW10sdCl9KX0pfWZ1bmN0aW9uIGwoZSx0KXtlLmV4ZWN1dGVTcWwoJ1NFTEVDVCBIRVgoImEiKSBBUyBoZXgnLFtdLGZ1bmN0aW9uKGUsbil7dmFyIHI9bi5yb3dzLml0ZW0oMCkuaGV4O189Mj09PXIubGVuZ3RoPyJVVEYtOCI6IlVURi0xNiIsdCgpfSl9ZnVuY3Rpb24gZCgpe2Zvcig7Uy5sZW5ndGg+MDspe1MucG9wKCkobnVsbCxiKX19ZnVuY3Rpb24gaChlLHQpe2lmKDA9PT10KXt2YXIgbj0iQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgIitraSsiIChkYmlkLCBkYl92ZXJzaW9uIElOVEVHRVIpIix1PSJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAiK0VpKyIgKGRpZ2VzdCBVTklRVUUsIGVzY2FwZWQgVElOWUlOVCgxKSwgYm9keSBCTE9CKSIsZj0iQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgIitxaSsiIChkaWdlc3QsIHNlcSBJTlRFR0VSKSIsbD0iQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgIitiaSsiIChpZCB1bmlxdWUsIGpzb24sIHdpbm5pbmdzZXEsIG1heF9zZXEgSU5URUdFUiBVTklRVUUpIixoPSJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAiK3dpKyIgKHNlcSBJTlRFR0VSIE5PVCBOVUxMIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsIGpzb24sIGRlbGV0ZWQgVElOWUlOVCgxKSwgZG9jX2lkLCByZXYpIixwPSJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAiK1NpKyIgKGlkIFVOSVFVRSwgcmV2LCBqc29uKSI7ZS5leGVjdXRlU3FsKHUpLGUuZXhlY3V0ZVNxbChwKSxlLmV4ZWN1dGVTcWwoZixbXSxmdW5jdGlvbigpe2UuZXhlY3V0ZVNxbChMaSksZS5leGVjdXRlU3FsKElpKX0pLGUuZXhlY3V0ZVNxbChsLFtdLGZ1bmN0aW9uKCl7ZS5leGVjdXRlU3FsKENpKSxlLmV4ZWN1dGVTcWwoaCxbXSxmdW5jdGlvbigpe2UuZXhlY3V0ZVNxbChUaSksZS5leGVjdXRlU3FsKGppKSxlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbigpe3ZhciB0PSJJTlNFUlQgSU5UTyAiK2tpKyIgKGRiX3ZlcnNpb24sIGRiaWQpIFZBTFVFUyAoPyw/KSI7Yj16KCk7dmFyIG49W21pLGJdO2UuZXhlY3V0ZVNxbCh0LG4sZnVuY3Rpb24oKXtkKCl9KX0pfSl9KX1lbHNle3ZhciB2PWZ1bmN0aW9uKCl7dDxtaSYmZS5leGVjdXRlU3FsKCJVUERBVEUgIitraSsiIFNFVCBkYl92ZXJzaW9uID0gIittaSk7dmFyIG49IlNFTEVDVCBkYmlkIEZST00gIitraTtlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbihlLHQpe2I9dC5yb3dzLml0ZW0oMCkuZGJpZCxkKCl9KX0sZz1bcixvLGkscyxhLGMsdl0seT10LF89ZnVuY3Rpb24oZSl7Z1t5LTFdKGUsXykseSsrfTtfKGUpfX1mdW5jdGlvbiBwKGUpe3ZhciB0PSJTRUxFQ1Qgc3FsIEZST00gc3FsaXRlX21hc3RlciBXSEVSRSB0YmxfbmFtZSA9ICIra2k7ZS5leGVjdXRlU3FsKHQsW10sZnVuY3Rpb24oZSx0KXt0LnJvd3MubGVuZ3RoPy9kYl92ZXJzaW9uLy50ZXN0KHQucm93cy5pdGVtKDApLnNxbCk/ZS5leGVjdXRlU3FsKCJTRUxFQ1QgZGJfdmVyc2lvbiBGUk9NICIra2ksW10sZnVuY3Rpb24oZSx0KXtoKGUsdC5yb3dzLml0ZW0oMCkuZGJfdmVyc2lvbil9KTplLmV4ZWN1dGVTcWwoIkFMVEVSIFRBQkxFICIra2krIiBBREQgQ09MVU1OIGRiX3ZlcnNpb24gSU5URUdFUiIsW10sZnVuY3Rpb24oKXtoKGUsMSl9KTpoKGUsMCl9KX1mdW5jdGlvbiB2KGUsdCl7dmFyIG49IlNFTEVDVCBNQVgoc2VxKSBBUyBzZXEgRlJPTSAiK3dpO2UuZXhlY3V0ZVNxbChuLFtdLGZ1bmN0aW9uKGUsbil7dmFyIHI9bi5yb3dzLml0ZW0oMCkuc2VxfHwwO3Qocil9KX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Tm4oIkNPVU5UKCIrYmkrIi5pZCkgQVMgJ251bSciLFtiaSx3aV0sRGksd2krIi5kZWxldGVkPTAiKTtlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbihlLG4pe3Qobi5yb3dzLml0ZW0oMCkubnVtKX0pfWZ1bmN0aW9uIHkoZSx0LG4scixvKXt2YXIgaT1ObihSaSxbYmksd2ldLERpLGJpKyIuaWQ9PyIpLHM9W3RdO2UuZXhlY3V0ZVNxbChpLHMsZnVuY3Rpb24oZSx0KXtpZighdC5yb3dzLmxlbmd0aCl7dmFyIGk9aihxbywibWlzc2luZyIpO3JldHVybiBvKGkpfXZhciBzPXQucm93cy5pdGVtKDApLGE9WnQocy5tZXRhZGF0YSk7cihoZShuLGEpKX0pfXZhciBfLG09dGhpcyxiPW51bGwsdz1GbihlKSxTPVtdO20uX25hbWU9ZS5uYW1lO3ZhciBrPVNvKHt9LGUse3ZlcnNpb246T2ksZGVzY3JpcHRpb246ZS5uYW1lLHNpemU6d30pLHE9Sm4oayk7aWYocS5lcnJvcilyZXR1cm4gJG4odCkocS5lcnJvcik7dmFyIEE9cS5kYjsiZnVuY3Rpb24iIT10eXBlb2YgQS5yZWFkVHJhbnNhY3Rpb24mJihBLnJlYWRUcmFuc2FjdGlvbj1BLnRyYW5zYWN0aW9uKSxmdW5jdGlvbigpe0EudHJhbnNhY3Rpb24oZnVuY3Rpb24oZSl7bChlLGZ1bmN0aW9uKCl7cChlKX0pfSwkbih0KSxuKX0oKSxtLl9yZW1vdGU9ITEsbS50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIndlYnNxbCJ9LG0uX2lkPWYoZnVuY3Rpb24oZSl7ZShudWxsLGIpfSksbS5faW5mbz1mdW5jdGlvbihlKXt2YXIgdCxuO0EucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKGUpe3YoZSxmdW5jdGlvbihlKXt0PWV9KSxnKGUsZnVuY3Rpb24oZSl7bj1lfSl9LCRuKGUpLGZ1bmN0aW9uKCl7ZShudWxsLHtkb2NfY291bnQ6bix1cGRhdGVfc2VxOnQsd2Vic3FsX2VuY29kaW5nOl99KX0pfSxtLl9idWxrRG9jcz1mdW5jdGlvbih0LG4scil7TW4oZSx0LG4sbSxBLHhpLHIpfSxtLl9nZXQ9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7bihlLHtkb2M6byxtZXRhZGF0YTppLGN0eDpzfSl9dmFyIG8saSxzPXQuY3R4O2lmKCFzKXJldHVybiBBLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbihyKXttLl9nZXQoZSxTbyh7Y3R4OnJ9LHQpLG4pfSk7dmFyIGEsdTtpZih0LnJldil7aWYodC5sYXRlc3QpcmV0dXJuIHZvaWQgeShzLGUsdC5yZXYsZnVuY3Rpb24ocil7dC5sYXRlc3Q9ITEsdC5yZXY9cixtLl9nZXQoZSx0LG4pfSxyKTthPU5uKFJpLFtiaSx3aV0sYmkrIi5pZD0iK3dpKyIuZG9jX2lkIixbd2krIi5kb2NfaWQ9PyIsd2krIi5yZXY9PyJdKSx1PVtlLHQucmV2XX1lbHNlIGE9Tm4oUmksW2JpLHdpXSxEaSxiaSsiLmlkPT8iKSx1PVtlXTtzLmV4ZWN1dGVTcWwoYSx1LGZ1bmN0aW9uKGUsbil7aWYoIW4ucm93cy5sZW5ndGgpe3JldHVybiByKGoocW8sIm1pc3NpbmciKSl9dmFyIHM9bi5yb3dzLml0ZW0oMCk7aWYoaT1adChzLm1ldGFkYXRhKSxzLmRlbGV0ZWQmJiF0LnJldil7cmV0dXJuIHIoaihxbywiZGVsZXRlZCIpKX1vPURuKHMuZGF0YSxpLmlkLHMucmV2KSxyKCl9KX0sbS5fYWxsRG9jcz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10sbz0ic3RhcnRrZXkiaW4gZSYmZS5zdGFydGtleSxpPSJlbmRrZXkiaW4gZSYmZS5lbmRrZXkscz0ia2V5ImluIGUmJmUua2V5LGE9ImRlc2NlbmRpbmciaW4gZSYmZS5kZXNjZW5kaW5nLHU9ImxpbWl0ImluIGU/ZS5saW1pdDotMSxjPSJza2lwImluIGU/ZS5za2lwOjAsZj1lLmluY2x1c2l2ZV9lbmQhPT0hMSxsPVtdLGQ9W107aWYocyE9PSExKWQucHVzaChiaSsiLmlkID0gPyIpLGwucHVzaChzKTtlbHNlIGlmKG8hPT0hMXx8aSE9PSExKXtpZihvIT09ITEmJihkLnB1c2goYmkrIi5pZCAiKyhhPyI8PSI6Ij49IikrIiA/IiksbC5wdXNoKG8pKSxpIT09ITEpe3ZhciBoPWE/Ij4iOiI8IjtmJiYoaCs9Ij0iKSxkLnB1c2goYmkrIi5pZCAiK2grIiA/IiksbC5wdXNoKGkpfXMhPT0hMSYmKGQucHVzaChiaSsiLmlkID0gPyIpLGwucHVzaChzKSl9Im9rIiE9PWUuZGVsZXRlZCYmZC5wdXNoKHdpKyIuZGVsZXRlZCA9IDAiKSxBLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbih0KXtpZihnKHQsZnVuY3Rpb24oZSl7bj1lfSksMCE9PXUpe3ZhciBvPU5uKFJpLFtiaSx3aV0sRGksZCxiaSsiLmlkICIrKGE/IkRFU0MiOiJBU0MiKSk7bys9IiBMSU1JVCAiK3UrIiBPRkZTRVQgIitjLHQuZXhlY3V0ZVNxbChvLGwsZnVuY3Rpb24odCxuKXtmb3IodmFyIG89MCxpPW4ucm93cy5sZW5ndGg7bzxpO28rKyl7dmFyIHM9bi5yb3dzLml0ZW0obyksYT1adChzLm1ldGFkYXRhKSx1PWEuaWQsYz1EbihzLmRhdGEsdSxzLnJldiksZj1jLl9yZXYsbD17aWQ6dSxrZXk6dSx2YWx1ZTp7cmV2OmZ9fTtpZihlLmluY2x1ZGVfZG9jcyl7aWYobC5kb2M9YyxsLmRvYy5fcmV2PWYsZS5jb25mbGljdHMpe3ZhciBkPVEoYSk7ZC5sZW5ndGgmJihsLmRvYy5fY29uZmxpY3RzPWQpfUhuKGwuZG9jLGUsbSx0KX1pZihzLmRlbGV0ZWQpe2lmKCJvayIhPT1lLmRlbGV0ZWQpY29udGludWU7bC52YWx1ZS5kZWxldGVkPSEwLGwuZG9jPW51bGx9ci5wdXNoKGwpfX0pfX0sJG4odCksZnVuY3Rpb24oKXt0KG51bGwse3RvdGFsX3Jvd3M6bixvZmZzZXQ6ZS5za2lwLHJvd3M6cn0pfSl9LG0uX2NoYW5nZXM9ZnVuY3Rpb24oZSl7aWYoZT11KGUpLGUuY29udGludW91cyl7dmFyIHQ9bS5fbmFtZSsiOiIreigpO3JldHVybiB4aS5hZGRMaXN0ZW5lcihtLl9uYW1lLHQsbSxlKSx4aS5ub3RpZnkobS5fbmFtZSkse2NhbmNlbDpmdW5jdGlvbigpe3hpLnJlbW92ZUxpc3RlbmVyKG0uX25hbWUsdCl9fX12YXIgbj1lLmRlc2NlbmRpbmc7ZS5zaW5jZT1lLnNpbmNlJiYhbj9lLnNpbmNlOjA7dmFyIHI9ImxpbWl0ImluIGU/ZS5saW1pdDotMTswPT09ciYmKHI9MSk7dmFyIG87bz0icmV0dXJuX2RvY3MiaW4gZT9lLnJldHVybl9kb2NzOiEoInJldHVybkRvY3MiaW4gZSl8fGUucmV0dXJuRG9jczt2YXIgaT1bXSxzPTA7IWZ1bmN0aW9uKCl7dmFyIHQ9YmkrIi5qc29uIEFTIG1ldGFkYXRhLCAiK2JpKyIubWF4X3NlcSBBUyBtYXhTZXEsICIrd2krIi5qc29uIEFTIHdpbm5pbmdEb2MsICIrd2krIi5yZXYgQVMgd2lubmluZ1JldiAiLGE9YmkrIiBKT0lOICIrd2ksdT1iaSsiLmlkPSIrd2krIi5kb2NfaWQgQU5EICIrYmkrIi53aW5uaW5nc2VxPSIrd2krIi5zZXEiLGM9WyJtYXhTZXEgPiA/Il0sZj1bZS5zaW5jZV07ZS5kb2NfaWRzJiYoYy5wdXNoKGJpKyIuaWQgSU4gIitSbihlLmRvY19pZHMubGVuZ3RoKSksZj1mLmNvbmNhdChlLmRvY19pZHMpKTt2YXIgbD0ibWF4U2VxICIrKG4/IkRFU0MiOiJBU0MiKSxkPU5uKHQsYSx1LGMsbCksaD1JKGUpO2Uudmlld3x8ZS5maWx0ZXJ8fChkKz0iIExJTUlUICIrcik7dmFyIHA9ZS5zaW5jZXx8MDtBLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbih0KXt0LmV4ZWN1dGVTcWwoZCxmLGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtlLm9uQ2hhbmdlKHQpfX1mb3IodmFyIHU9MCxjPW4ucm93cy5sZW5ndGg7dTxjO3UrKyl7dmFyIGY9bi5yb3dzLml0ZW0odSksbD1adChmLm1ldGFkYXRhKTtwPWYubWF4U2VxO3ZhciBkPURuKGYud2lubmluZ0RvYyxsLmlkLGYud2lubmluZ1Jldiksdj1lLnByb2Nlc3NDaGFuZ2UoZCxsLGUpO3Yuc2VxPWYubWF4U2VxO3ZhciBnPWgodik7aWYoIm9iamVjdCI9PXR5cGVvZiBnKXJldHVybiBlLmNvbXBsZXRlKGcpO2lmKGcmJihzKyssbyYmaS5wdXNoKHYpLGUuYXR0YWNobWVudHMmJmUuaW5jbHVkZV9kb2NzP0huKGQsZSxtLHQsYSh2KSk6YSh2KSgpKSxzPT09cilicmVha319KX0sJG4oZS5jb21wbGV0ZSksZnVuY3Rpb24oKXtlLmNvbnRpbnVvdXN8fGUuY29tcGxldGUobnVsbCx7cmVzdWx0czppLGxhc3Rfc2VxOnB9KX0pfSgpfSxtLl9jbG9zZT1mdW5jdGlvbihlKXtlKCl9LG0uX2dldEF0dGFjaG1lbnQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxzPXIuY3R4LGE9bi5kaWdlc3QsdT1uLmNvbnRlbnRfdHlwZSxjPSJTRUxFQ1QgZXNjYXBlZCwgQ0FTRSBXSEVOIGVzY2FwZWQgPSAxIFRIRU4gYm9keSBFTFNFIEhFWChib2R5KSBFTkQgQVMgYm9keSBGUk9NICIrRWkrIiBXSEVSRSBkaWdlc3Q9PyI7cy5leGVjdXRlU3FsKGMsW2FdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5yb3dzLml0ZW0oMCkscz1uLmVzY2FwZWQ/TG4obi5ib2R5KTpUbihuLmJvZHksXyk7aT1yLmJpbmFyeT9MdChzLHUpOm5pKHMpLG8obnVsbCxpKX0pfSxtLl9nZXRSZXZpc2lvblRyZWU9ZnVuY3Rpb24oZSx0KXtBLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbihuKXt2YXIgcj0iU0VMRUNUIGpzb24gQVMgbWV0YWRhdGEgRlJPTSAiK2JpKyIgV0hFUkUgaWQgPSA/IjtuLmV4ZWN1dGVTcWwocixbZV0sZnVuY3Rpb24oZSxuKXtpZihuLnJvd3MubGVuZ3RoKXt2YXIgcj1adChuLnJvd3MuaXRlbSgwKS5tZXRhZGF0YSk7dChudWxsLHIucmV2X3RyZWUpfWVsc2UgdChqKHFvKSl9KX0pfSxtLl9kb0NvbXBhY3Rpb249ZnVuY3Rpb24oZSx0LG4pe2lmKCF0Lmxlbmd0aClyZXR1cm4gbigpO0EudHJhbnNhY3Rpb24oZnVuY3Rpb24obil7dmFyIHI9IlNFTEVDVCBqc29uIEFTIG1ldGFkYXRhIEZST00gIitiaSsiIFdIRVJFIGlkID0gPyI7bi5leGVjdXRlU3FsKHIsW2VdLGZ1bmN0aW9uKG4scil7dmFyIG89WnQoci5yb3dzLml0ZW0oMCkubWV0YWRhdGEpO1goby5yZXZfdHJlZSxmdW5jdGlvbihlLG4scixvLGkpe3ZhciBzPW4rIi0iK3I7dC5pbmRleE9mKHMpIT09LTEmJihpLnN0YXR1cz0ibWlzc2luZyIpfSk7dmFyIGk9IlVQREFURSAiK2JpKyIgU0VUIGpzb24gPSA/IFdIRVJFIGlkID0gPyI7bi5leGVjdXRlU3FsKGksW2VuKG8pLGVdKX0pLEJuKHQsZSxuKX0sJG4obiksZnVuY3Rpb24oKXtuKCl9KX0sbS5fZ2V0TG9jYWw9ZnVuY3Rpb24oZSx0KXtBLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbihuKXt2YXIgcj0iU0VMRUNUIGpzb24sIHJldiBGUk9NICIrU2krIiBXSEVSRSBpZD0/IjtuLmV4ZWN1dGVTcWwocixbZV0sZnVuY3Rpb24obixyKXtpZihyLnJvd3MubGVuZ3RoKXt2YXIgbz1yLnJvd3MuaXRlbSgwKSxpPURuKG8uanNvbixlLG8ucmV2KTt0KG51bGwsaSl9ZWxzZSB0KGoocW8pKX0pfSl9LG0uX3B1dExvY2FsPWZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUpe3ZhciByLGM7aT8ocj0iVVBEQVRFICIrU2krIiBTRVQgcmV2PT8sIGpzb249PyBXSEVSRSBpZD0/IEFORCByZXY9PyIsYz1bbyx1LHMsaV0pOihyPSJJTlNFUlQgSU5UTyAiK1NpKyIgKGlkLCByZXYsIGpzb24pIFZBTFVFUyAoPyw/LD8pIixjPVtzLG8sdV0pLGUuZXhlY3V0ZVNxbChyLGMsZnVuY3Rpb24oZSxyKXtyLnJvd3NBZmZlY3RlZD8oYT17b2s6ITAsaWQ6cyxyZXY6b30sdC5jdHgmJm4obnVsbCxhKSk6bihqKEFvKSl9LGZ1bmN0aW9uKCl7cmV0dXJuIG4oaihBbykpLCExfSl9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSksZGVsZXRlIGUuX3JldmlzaW9uczt2YXIgbyxpPWUuX3JldixzPWUuX2lkO289ZS5fcmV2PWk/IjAtIisocGFyc2VJbnQoaS5zcGxpdCgiLSIpWzFdLDEwKSsxKToiMC0xIjt2YXIgYSx1PUluKGUpO3QuY3R4P3IodC5jdHgpOkEudHJhbnNhY3Rpb24ociwkbihuKSxmdW5jdGlvbigpe2EmJm4obnVsbCxhKX0pfSxtLl9yZW1vdmVMb2NhbD1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihyKXt2YXIgaT0iREVMRVRFIEZST00gIitTaSsiIFdIRVJFIGlkPT8gQU5EIHJldj0/IixzPVtlLl9pZCxlLl9yZXZdO3IuZXhlY3V0ZVNxbChpLHMsZnVuY3Rpb24ocixpKXtpZighaS5yb3dzQWZmZWN0ZWQpcmV0dXJuIG4oaihxbykpO289e29rOiEwLGlkOmUuX2lkLHJldjoiMC0wIn0sdC5jdHgmJm4obnVsbCxvKX0pfSJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9e30pO3ZhciBvO3QuY3R4P3IodC5jdHgpOkEudHJhbnNhY3Rpb24ociwkbihuKSxmdW5jdGlvbigpe28mJm4obnVsbCxvKX0pfSxtLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7eGkucmVtb3ZlQWxsTGlzdGVuZXJzKG0uX25hbWUpLEEudHJhbnNhY3Rpb24oZnVuY3Rpb24oZSl7W2JpLHdpLEVpLGtpLFNpLHFpXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZXhlY3V0ZVNxbCgiRFJPUCBUQUJMRSBJRiBFWElTVFMgIit0LFtdKX0pfSwkbih0KSxmdW5jdGlvbigpe0UoKSYmKGRlbGV0ZSB3aW5kb3cubG9jYWxTdG9yYWdlWyJfcG91Y2hfX3dlYnNxbGRiXyIrbS5fbmFtZV0sZGVsZXRlIHdpbmRvdy5sb2NhbFN0b3JhZ2VbbS5fbmFtZV0pLHQobnVsbCx7b2s6ITB9KX0pfX1mdW5jdGlvbiB6bigpe3RyeXtyZXR1cm4gb3BlbkRhdGFiYXNlKCJfcG91Y2hfdmFsaWRhdGVfd2Vic3FsIiwxLCIiLDEpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBLbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaW5kZXhlZERCfHxudWxsPT09aW5kZXhlZERCfHwhL2lQKGhvbmV8b2R8YWQpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXJldHVybiEwO3ZhciBlPUUoKSx0PSJfcG91Y2hfX3dlYnNxbGRiX3ZhbGlkXyIrbmF2aWdhdG9yLnVzZXJBZ2VudDtpZihlJiZsb2NhbFN0b3JhZ2VbdF0pcmV0dXJuIjEiPT09bG9jYWxTdG9yYWdlW3RdO3ZhciBuPXpuKCk7cmV0dXJuIGUmJihsb2NhbFN0b3JhZ2VbdF09bj8iMSI6IjAiKSxufWZ1bmN0aW9uIFhuKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG9wZW5EYXRhYmFzZSYmS24oKX1mdW5jdGlvbiBHbihlLHQsbixyKXtyZXR1cm4gb3BlbkRhdGFiYXNlKGUsdCxuLHIpfWZ1bmN0aW9uIFZuKGUsdCl7dmFyIG49U28oe3dlYnNxbDpHbn0sZSk7V24uY2FsbCh0aGlzLG4sdCl9ZnVuY3Rpb24gUW4oKXtmb3IodmFyIGU9e30sdD1uZXcgdm8oZnVuY3Rpb24odCxuKXtlLnJlc29sdmU9dCxlLnJlamVjdD1ufSksbj1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCkscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybiBlLnByb21pc2U9dCx2by5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBmZXRjaC5hcHBseShudWxsLG4pfSkudGhlbihmdW5jdGlvbih0KXtlLnJlc29sdmUodCl9KS5jYXRjaChmdW5jdGlvbih0KXtlLnJlamVjdCh0KX0pLGV9ZnVuY3Rpb24gWW4oZSx0KXt2YXIgbixyLG8saT1uZXcgSGVhZGVycyxzPXttZXRob2Q6ZS5tZXRob2QsY3JlZGVudGlhbHM6ImluY2x1ZGUiLGhlYWRlcnM6aX07cmV0dXJuIGUuanNvbiYmKGkuc2V0KCJBY2NlcHQiLCJhcHBsaWNhdGlvbi9qc29uIiksaS5zZXQoIkNvbnRlbnQtVHlwZSIsZS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXXx8ImFwcGxpY2F0aW9uL2pzb24iKSksZS5ib2R5JiZlLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIGUuYm9keT9zLmJvZHk9SlNPTi5zdHJpbmdpZnkoZS5ib2R5KTpzLmJvZHk9ImJvZHkiaW4gZT9lLmJvZHk6bnVsbCxPYmplY3Qua2V5cyhlLmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5oZWFkZXJzLmhhc093blByb3BlcnR5KHQpJiZpLnNldCh0LGUuaGVhZGVyc1t0XSl9KSxuPVFuKGUudXJsLHMpLGUudGltZW91dD4wJiYocj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5yZWplY3QobmV3IEVycm9yKCJMb2FkIHRpbWVvdXQgZm9yIHJlc291cmNlOiAiK2UudXJsKSl9LGUudGltZW91dCkpLG4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvPXtzdGF0dXNDb2RlOnQuc3RhdHVzfSxlLnRpbWVvdXQ+MCYmY2xlYXJUaW1lb3V0KHIpLG8uc3RhdHVzQ29kZT49MjAwJiZvLnN0YXR1c0NvZGU8MzAwP2UuYmluYXJ5P3QuYmxvYigpOnQudGV4dCgpOnQuanNvbigpfSkudGhlbihmdW5jdGlvbihlKXtvLnN0YXR1c0NvZGU+PTIwMCYmby5zdGF0dXNDb2RlPDMwMD90KG51bGwsbyxlKTooZS5zdGF0dXM9by5zdGF0dXNDb2RlLHQoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7ZXx8KGU9bmV3IEVycm9yKCJjYW5jZWxlZCIpKSx0KGUpfSkse2Fib3J0Om4ucmVqZWN0fX1mdW5jdGlvbiBabihlLHQpe3ZhciBuLHIsbz0hMSxpPWZ1bmN0aW9uKCl7bi5hYm9ydCgpLHUoKX0scz1mdW5jdGlvbigpe289ITAsbi5hYm9ydCgpLHUoKX0sYT17YWJvcnQ6aX0sdT1mdW5jdGlvbigpe2NsZWFyVGltZW91dChyKSxhLmFib3J0PWZ1bmN0aW9uKCl7fSxuJiYobi5vbnByb2dyZXNzPXZvaWQgMCxuLnVwbG9hZCYmKG4udXBsb2FkLm9ucHJvZ3Jlc3M9dm9pZCAwKSxuLm9ucmVhZHlzdGF0ZWNoYW5nZT12b2lkIDAsbj12b2lkIDApfTtuPWUueGhyP25ldyBlLnhocjpuZXcgWE1MSHR0cFJlcXVlc3Q7dHJ5e24ub3BlbihlLm1ldGhvZCxlLnVybCl9Y2F0Y2goZSl7cmV0dXJuIHQobmV3IEVycm9yKGUubmFtZXx8IlVybCBpcyBpbnZhbGlkIikpfW4ud2l0aENyZWRlbnRpYWxzPSEoIndpdGhDcmVkZW50aWFscyJpbiBlKXx8ZS53aXRoQ3JlZGVudGlhbHMsIkdFVCI9PT1lLm1ldGhvZD9kZWxldGUgZS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXTplLmpzb24mJihlLmhlYWRlcnMuQWNjZXB0PSJhcHBsaWNhdGlvbi9qc29uIixlLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPWUuaGVhZGVyc1siQ29udGVudC1UeXBlIl18fCJhcHBsaWNhdGlvbi9qc29uIixlLmJvZHkmJmUucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2YgZS5ib2R5JiYoZS5ib2R5PUpTT04uc3RyaW5naWZ5KGUuYm9keSkpKSxlLmJpbmFyeSYmKG4ucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIpLCJib2R5ImluIGV8fChlLmJvZHk9bnVsbCk7Zm9yKHZhciBjIGluIGUuaGVhZGVycyllLmhlYWRlcnMuaGFzT3duUHJvcGVydHkoYykmJm4uc2V0UmVxdWVzdEhlYWRlcihjLGUuaGVhZGVyc1tjXSk7cmV0dXJuIGUudGltZW91dD4wJiYocj1zZXRUaW1lb3V0KHMsZS50aW1lb3V0KSxuLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQociksNCE9PW4ucmVhZHlTdGF0ZSYmKHI9c2V0VGltZW91dChzLGUudGltZW91dCkpfSx2b2lkIDAhPT1uLnVwbG9hZCYmKG4udXBsb2FkLm9ucHJvZ3Jlc3M9bi5vbnByb2dyZXNzKSksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09bi5yZWFkeVN0YXRlKXt2YXIgcj17c3RhdHVzQ29kZTpuLnN0YXR1c307aWYobi5zdGF0dXM+PTIwMCYmbi5zdGF0dXM8MzAwKXt2YXIgaTtpPWUuYmluYXJ5P2p0KFtuLnJlc3BvbnNlfHwiIl0se3R5cGU6bi5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIil9KTpuLnJlc3BvbnNlVGV4dCx0KG51bGwscixpKX1lbHNle3ZhciBzPXt9O2lmKG8pcz1uZXcgRXJyb3IoIkVUSU1FRE9VVCIpLHMuY29kZT0iRVRJTUVET1VUIjtlbHNlIGlmKCJzdHJpbmciPT10eXBlb2Ygbi5yZXNwb25zZSl0cnl7cz1KU09OLnBhcnNlKG4ucmVzcG9uc2UpfWNhdGNoKGUpe31zLnN0YXR1cz1uLnN0YXR1cyx0KHMpfXUoKX19LGUuYm9keSYmZS5ib2R5IGluc3RhbmNlb2YgQmxvYj8kdChlLmJvZHksZnVuY3Rpb24oZSl7bi5zZW5kKGUpfSk6bi5zZW5kKGUuYm9keSksYX1mdW5jdGlvbiBlcihlLHQpe3JldHVybiBCaXx8ZS54aHI/Wm4oZSx0KTpZbihlLHQpfWZ1bmN0aW9uIHRyKCl7cmV0dXJuIiJ9ZnVuY3Rpb24gbnIoZSx0KXtmdW5jdGlvbiBuKHQsbixyKXtpZighZS5iaW5hcnkmJmUuanNvbiYmInN0cmluZyI9PXR5cGVvZiB0KXRyeXt0PUpTT04ucGFyc2UodCl9Y2F0Y2goZSl7cmV0dXJuIHIoZSl9QXJyYXkuaXNBcnJheSh0KSYmKHQ9dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3J8fGUubWlzc2luZz9DKGUpOmV9KSksZS5iaW5hcnkmJiRpKHQsbikscihudWxsLHQsbil9cmV0dXJuIGU9dShlKSxlPVNvKHttZXRob2Q6IkdFVCIsaGVhZGVyczp7fSxqc29uOiEwLHByb2Nlc3NEYXRhOiEwLHRpbWVvdXQ6MWU0LGNhY2hlOiExfSxlKSxlLmpzb24mJihlLmJpbmFyeXx8KGUuaGVhZGVycy5BY2NlcHQ9ImFwcGxpY2F0aW9uL2pzb24iKSxlLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPWUuaGVhZGVyc1siQ29udGVudC1UeXBlIl18fCJhcHBsaWNhdGlvbi9qc29uIiksZS5iaW5hcnkmJihlLmVuY29kaW5nPW51bGwsZS5qc29uPSExKSxlLnByb2Nlc3NEYXRhfHwoZS5qc29uPSExKSxlcihlLGZ1bmN0aW9uKHIsbyxpKXtpZihyKXJldHVybiB0KEMocikpO3ZhciBzLGE9by5oZWFkZXJzJiZvLmhlYWRlcnNbImNvbnRlbnQtdHlwZSJdLHU9aXx8dHIoKTtpZighZS5iaW5hcnkmJihlLmpzb258fCFlLnByb2Nlc3NEYXRhKSYmIm9iamVjdCIhPXR5cGVvZiB1JiYoL2pzb24vLnRlc3QoYSl8fC9eW1xzXSpcey8udGVzdCh1KSYmL1x9W1xzXSokLy50ZXN0KHUpKSl0cnl7dT1KU09OLnBhcnNlKHUudG9TdHJpbmcoKSl9Y2F0Y2goZSl7fW8uc3RhdHVzQ29kZT49MjAwJiZvLnN0YXR1c0NvZGU8MzAwP24odSxvLHQpOihzPUModSkscy5zdGF0dXM9by5zdGF0dXNDb2RlLHQocykpfSl9ZnVuY3Rpb24gcnIoZSx0KXt2YXIgbj1uYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQ/bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOiIiLHI9bi5pbmRleE9mKCJzYWZhcmkiKSE9PS0xJiZuLmluZGV4T2YoImNocm9tZSIpPT09LTEsbz1uLmluZGV4T2YoIm1zaWUiKSE9PS0xLGk9bi5pbmRleE9mKCJlZGdlIikhPT0tMSxzPXJ8fChvfHxpKSYmIkdFVCI9PT1lLm1ldGhvZCxhPSEoImNhY2hlImluIGUpfHxlLmNhY2hlO2lmKCEvXmJsb2I6Ly50ZXN0KGUudXJsKSYmKHN8fCFhKSl7dmFyIHU9ZS51cmwuaW5kZXhPZigiPyIpIT09LTE7ZS51cmwrPSh1PyImIjoiPyIpKyJfbm9uY2U9IitEYXRlLm5vdygpfXJldHVybiBucihlLHQpfWZ1bmN0aW9uIG9yKGUsdCl7cmV0dXJuIG5ldyB2byhmdW5jdGlvbihuLHIpe2Z1bmN0aW9uIG8oKXtmKyssZVtsKytdKCkudGhlbihzLGEpfWZ1bmN0aW9uIGkoKXsrK2Q9PT1oP2M/cihjKTpuKCk6dSgpfWZ1bmN0aW9uIHMoKXtmLS0saSgpfWZ1bmN0aW9uIGEoZSl7Zi0tLGM9Y3x8ZSxpKCl9ZnVuY3Rpb24gdSgpe2Zvcig7Zjx0JiZsPGg7KW8oKX12YXIgYyxmPTAsbD0wLGQ9MCxoPWUubGVuZ3RoO3UoKX0pfWZ1bmN0aW9uIGlyKGUpe3ZhciB0PWUuZG9jJiZlLmRvYy5fYXR0YWNobWVudHM7dCYmT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj10W2VdO24uZGF0YT1JdChuLmRhdGEsbi5jb250ZW50X3R5cGUpfSl9ZnVuY3Rpb24gc3IoZSl7cmV0dXJuL15fZGVzaWduLy50ZXN0KGUpPyJfZGVzaWduLyIrZW5jb2RlVVJJQ29tcG9uZW50KGUuc2xpY2UoOCkpOi9eX2xvY2FsLy50ZXN0KGUpPyJfbG9jYWwvIitlbmNvZGVVUklDb21wb25lbnQoZS5zbGljZSg3KSk6ZW5jb2RlVVJJQ29tcG9uZW50KGUpfWZ1bmN0aW9uIGFyKGUpe3JldHVybiBlLl9hdHRhY2htZW50cyYmT2JqZWN0LmtleXMoZS5fYXR0YWNobWVudHMpP3ZvLmFsbChPYmplY3Qua2V5cyhlLl9hdHRhY2htZW50cykubWFwKGZ1bmN0aW9uKHQpe3ZhciBuPWUuX2F0dGFjaG1lbnRzW3RdO2lmKG4uZGF0YSYmInN0cmluZyIhPXR5cGVvZiBuLmRhdGEpcmV0dXJuIG5ldyB2byhmdW5jdGlvbihlKXtCdChuLmRhdGEsZSl9KS50aGVuKGZ1bmN0aW9uKGUpe24uZGF0YT1lfSl9KSk6dm8ucmVzb2x2ZSgpfWZ1bmN0aW9uIHVyKGUpe2lmKCFlLnByZWZpeClyZXR1cm4hMTt2YXIgdD1QKGUucHJlZml4KS5wcm90b2NvbDtyZXR1cm4iaHR0cCI9PT10fHwiaHR0cHMiPT09dH1mdW5jdGlvbiBjcihlLHQpe2lmKHVyKHQpKXt2YXIgbj10Lm5hbWUuc3Vic3RyKHQucHJlZml4Lmxlbmd0aCk7ZT10LnByZWZpeCtlbmNvZGVVUklDb21wb25lbnQobil9dmFyIHI9UChlKTsoci51c2VyfHxyLnBhc3N3b3JkKSYmKHIuYXV0aD17dXNlcm5hbWU6ci51c2VyLHBhc3N3b3JkOnIucGFzc3dvcmR9KTt2YXIgbz1yLnBhdGgucmVwbGFjZSgvKF5cL3xcLyQpL2csIiIpLnNwbGl0KCIvIik7cmV0dXJuIHIuZGI9by5wb3AoKSxyLmRiLmluZGV4T2YoIiUiKT09PS0xJiYoci5kYj1lbmNvZGVVUklDb21wb25lbnQoci5kYikpLHIucGF0aD1vLmpvaW4oIi8iKSxyfWZ1bmN0aW9uIGZyKGUsdCl7cmV0dXJuIGxyKGUsZS5kYisiLyIrdCl9ZnVuY3Rpb24gbHIoZSx0KXt2YXIgbj1lLnBhdGg/Ii8iOiIiO3JldHVybiBlLnByb3RvY29sKyI6Ly8iK2UuaG9zdCsoZS5wb3J0PyI6IitlLnBvcnQ6IiIpKyIvIitlLnBhdGgrbit0fWZ1bmN0aW9uIGRyKGUpe3JldHVybiI/IitPYmplY3Qua2V5cyhlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQrIj0iK2VuY29kZVVSSUNvbXBvbmVudChlW3RdKX0pLmpvaW4oIiYiKX1mdW5jdGlvbiBocihlLHQpe2Z1bmN0aW9uIG4oZSx0LG4pe3ZhciByPWUuYWpheHx8e30sbz1Tbyh1KGwpLHIsdCksaT11KGwuaGVhZGVyc3x8e30pO3JldHVybiBvLmhlYWRlcnM9U28oaSxyLmhlYWRlcnMsdC5oZWFkZXJzfHx7fSksYS5jb25zdHJ1Y3Rvci5saXN0ZW5lcnMoImRlYnVnIikubGVuZ3RoJiZhLmNvbnN0cnVjdG9yLmVtaXQoImRlYnVnIixbImh0dHAiLG8ubWV0aG9kLG8udXJsXSksYS5fYWpheChvLG4pfWZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4gbmV3IHZvKGZ1bmN0aW9uKHIsbyl7bihlLHQsZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBvKGUpO3IodCl9KX0pfWZ1bmN0aW9uIG8oZSx0KXsKcmV0dXJuIGQoZSxhbyhmdW5jdGlvbihlKXtpKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsZSl9KS5jYXRjaChmdW5jdGlvbih0KXtlLnBvcCgpKHQpfSl9KSl9ZnVuY3Rpb24gaSgpe3JldHVybiBlLnNraXBTZXR1cHx8ZS5za2lwX3NldHVwP3ZvLnJlc29sdmUoKTpnfHwoZz1yKHt9LHttZXRob2Q6IkdFVCIsdXJsOmZ9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5zdGF0dXMmJjQwND09PWUuc3RhdHVzPyhPKDQwNCwiUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlIGV4aXN0cy4iKSxyKHt9LHttZXRob2Q6IlBVVCIsdXJsOmZ9KSk6dm8ucmVqZWN0KGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUuc3RhdHVzfHw0MTIhPT1lLnN0YXR1cyl8fHZvLnJlamVjdChlKX0pLGcuY2F0Y2goZnVuY3Rpb24oKXtnPW51bGx9KSxnKX1mdW5jdGlvbiBzKGUpe3JldHVybiBlLnNwbGl0KCIvIikubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbigiLyIpfXZhciBhPXRoaXMsYz1jcihlLm5hbWUsZSksZj1mcihjLCIiKTtlPXUoZSk7dmFyIGw9ZS5hamF4fHx7fTtpZihlLmF1dGh8fGMuYXV0aCl7dmFyIGg9ZS5hdXRofHxjLmF1dGgscD1oLnVzZXJuYW1lKyI6IitoLnBhc3N3b3JkLHY9bmkodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHApKSk7bC5oZWFkZXJzPWwuaGVhZGVyc3x8e30sbC5oZWFkZXJzLkF1dGhvcml6YXRpb249IkJhc2ljICIrdn1hLl9hamF4PXJyO3ZhciBnO2ZvKGZ1bmN0aW9uKCl7dChudWxsLGEpfSksYS5fcmVtb3RlPSEwLGEudHlwZT1mdW5jdGlvbigpe3JldHVybiJodHRwIn0sYS5pZD1vKCJpZCIsZnVuY3Rpb24oZSl7bih7fSx7bWV0aG9kOiJHRVQiLHVybDpscihjLCIiKX0sZnVuY3Rpb24odCxuKXt2YXIgcj1uJiZuLnV1aWQ/bi51dWlkK2MuZGI6ZnIoYywiIik7ZShudWxsLHIpfSl9KSxhLnJlcXVlc3Q9bygicmVxdWVzdCIsZnVuY3Rpb24oZSx0KXtlLnVybD1mcihjLGUudXJsKSxuKHt9LGUsdCl9KSxhLmNvbXBhY3Q9bygiY29tcGFjdCIsZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KSxlPXUoZSksbihlLHt1cmw6ZnIoYywiX2NvbXBhY3QiKSxtZXRob2Q6IlBPU1QifSxmdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXthLmluZm8oZnVuY3Rpb24ocixvKXtvJiYhby5jb21wYWN0X3J1bm5pbmc/dChudWxsLHtvazohMH0pOnNldFRpbWVvdXQobixlLmludGVydmFsfHwyMDApfSl9bigpfSl9KSxhLmJ1bGtHZXQ9ZCgiYnVsa0dldCIsZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHQpe3ZhciByPXt9O2UucmV2cyYmKHIucmV2cz0hMCksZS5hdHRhY2htZW50cyYmKHIuYXR0YWNobWVudHM9ITApLGUubGF0ZXN0JiYoci5sYXRlc3Q9ITApLG4oZSx7dXJsOmZyKGMsIl9idWxrX2dldCIrZHIocikpLG1ldGhvZDoiUE9TVCIsYm9keTp7ZG9jczplLmRvY3N9fSx0KX1mdW5jdGlvbiBvKCl7Zm9yKHZhciBuPU1pLHI9TWF0aC5jZWlsKGUuZG9jcy5sZW5ndGgvbiksbz0wLHM9bmV3IEFycmF5KHIpLGE9MDthPHI7YSsrKXt2YXIgdT15KGUsWyJyZXZzIiwiYXR0YWNobWVudHMiLCJsYXRlc3QiXSk7dS5hamF4PWwsdS5kb2NzPWUuZG9jcy5zbGljZShhKm4sTWF0aC5taW4oZS5kb2NzLmxlbmd0aCwoYSsxKSpuKSksYihpLHUsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7c1tlXT1pLnJlc3VsdHMsKytvPT09ciYmdChudWxsLHtyZXN1bHRzOkQocyl9KX19KGEpKX19dmFyIGk9dGhpcyxzPWxyKGMsIiIpLGE9UGlbc107ImJvb2xlYW4iIT10eXBlb2YgYT9yKGZ1bmN0aW9uKGUsbil7ZT8oUGlbc109ITEsTyhlLnN0YXR1cywiUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlIHN1cHBvcnRzIHRoZSBfYnVsa19nZXQgQVBJLiIpLG8oKSk6KFBpW3NdPSEwLHQobnVsbCxuKSl9KTphP3IodCk6bygpfSksYS5faW5mbz1mdW5jdGlvbihlKXtpKCkudGhlbihmdW5jdGlvbigpe24oe30se21ldGhvZDoiR0VUIix1cmw6ZnIoYywiIil9LGZ1bmN0aW9uKHQsbil7aWYodClyZXR1cm4gZSh0KTtuLmhvc3Q9ZnIoYywiIiksZShudWxsLG4pfSl9KS5jYXRjaChlKX0sYS5nZXQ9bygiZ2V0IixmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gbyhlKXtmdW5jdGlvbiBuKG4pe3ZhciBpPW9bbl0sYT1zcihlLl9pZCkrIi8iK3MobikrIj9yZXY9IitlLl9yZXY7cmV0dXJuIHIodCx7bWV0aG9kOiJHRVQiLHVybDpmcihjLGEpLGJpbmFyeTohMH0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuYmluYXJ5P2U6bmV3IHZvKGZ1bmN0aW9uKHQpe0J0KGUsdCl9KX0pLnRoZW4oZnVuY3Rpb24oZSl7ZGVsZXRlIGkuc3R1YixkZWxldGUgaS5sZW5ndGgsaS5kYXRhPWV9KX12YXIgbz1lLl9hdHRhY2htZW50cyxpPW8mJk9iamVjdC5rZXlzKG8pO2lmKG8mJmkubGVuZ3RoKXtyZXR1cm4gb3IoaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG4oZSl9fSksNSl9fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/dm8uYWxsKGUubWFwKGZ1bmN0aW9uKGUpe2lmKGUub2spcmV0dXJuIG8oZS5vayl9KSk6byhlKX0iZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KSx0PXUodCk7dmFyIGE9e307dC5yZXZzJiYoYS5yZXZzPSEwKSx0LnJldnNfaW5mbyYmKGEucmV2c19pbmZvPSEwKSx0LmxhdGVzdCYmKGEubGF0ZXN0PSEwKSx0Lm9wZW5fcmV2cyYmKCJhbGwiIT09dC5vcGVuX3JldnMmJih0Lm9wZW5fcmV2cz1KU09OLnN0cmluZ2lmeSh0Lm9wZW5fcmV2cykpLGEub3Blbl9yZXZzPXQub3Blbl9yZXZzKSx0LnJldiYmKGEucmV2PXQucmV2KSx0LmNvbmZsaWN0cyYmKGEuY29uZmxpY3RzPXQuY29uZmxpY3RzKSxlPXNyKGUpO3ZhciBmPXttZXRob2Q6IkdFVCIsdXJsOmZyKGMsZStkcihhKSl9O3IodCxmKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB2by5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe2lmKHQuYXR0YWNobWVudHMpcmV0dXJuIGkoZSl9KS50aGVuKGZ1bmN0aW9uKCl7bihudWxsLGUpfSl9KS5jYXRjaChuKX0pLGEucmVtb3ZlPW8oInJlbW92ZSIsZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk7InN0cmluZyI9PXR5cGVvZiB0PyhpPXtfaWQ6ZSxfcmV2OnR9LCJmdW5jdGlvbiI9PXR5cGVvZiByJiYobz1yLHI9e30pKTooaT1lLCJmdW5jdGlvbiI9PXR5cGVvZiB0PyhvPXQscj17fSk6KG89cixyPXQpKTt2YXIgcz1pLl9yZXZ8fHIucmV2O24ocix7bWV0aG9kOiJERUxFVEUiLHVybDpmcihjLHNyKGkuX2lkKSkrIj9yZXY9IitzfSxvKX0pLGEuZ2V0QXR0YWNobWVudD1vKCJnZXRBdHRhY2htZW50IixmdW5jdGlvbihlLHQscixvKXsiZnVuY3Rpb24iPT10eXBlb2YgciYmKG89cixyPXt9KTt2YXIgaT1yLnJldj8iP3Jldj0iK3IucmV2OiIiO24ocix7bWV0aG9kOiJHRVQiLHVybDpmcihjLHNyKGUpKSsiLyIrcyh0KStpLGJpbmFyeTohMH0sbyl9KSxhLnJlbW92ZUF0dGFjaG1lbnQ9bygicmVtb3ZlQXR0YWNobWVudCIsZnVuY3Rpb24oZSx0LHIsbyl7bih7fSx7bWV0aG9kOiJERUxFVEUiLHVybDpmcihjLHNyKGUpKyIvIitzKHQpKSsiP3Jldj0iK3J9LG8pfSksYS5wdXRBdHRhY2htZW50PW8oInB1dEF0dGFjaG1lbnQiLGZ1bmN0aW9uKGUsdCxyLG8saSxhKXsiZnVuY3Rpb24iPT10eXBlb2YgaSYmKGE9aSxpPW8sbz1yLHI9bnVsbCk7dmFyIHU9c3IoZSkrIi8iK3ModCksZj1mcihjLHUpO2lmKHImJihmKz0iP3Jldj0iK3IpLCJzdHJpbmciPT10eXBlb2Ygbyl7dmFyIGQ7dHJ5e2Q9dGkobyl9Y2F0Y2goZSl7cmV0dXJuIGEoaihDbywiQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nIikpfW89ZD9MdChkLGkpOiIifW4oe30se2hlYWRlcnM6eyJDb250ZW50LVR5cGUiOml9LG1ldGhvZDoiUFVUIix1cmw6Zixwcm9jZXNzRGF0YTohMSxib2R5Om8sdGltZW91dDpsLnRpbWVvdXR8fDZlNH0sYSl9KSxhLl9idWxrRG9jcz1mdW5jdGlvbihlLHQscil7ZS5uZXdfZWRpdHM9dC5uZXdfZWRpdHMsaSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdm8uYWxsKGUuZG9jcy5tYXAoYXIpKX0pLnRoZW4oZnVuY3Rpb24oKXtuKHQse21ldGhvZDoiUE9TVCIsdXJsOmZyKGMsIl9idWxrX2RvY3MiKSx0aW1lb3V0OnQudGltZW91dCxib2R5OmV9LGZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gcihlKTt0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5vaz0hMH0pLHIobnVsbCx0KX0pfSkuY2F0Y2gocil9LGEuX3B1dD1mdW5jdGlvbihlLHQscil7aSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYXIoZSl9KS50aGVuKGZ1bmN0aW9uKCl7bih0LHttZXRob2Q6IlBVVCIsdXJsOmZyKGMsc3IoZS5faWQpKSxib2R5OmV9LGZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gcihlKTtyKG51bGwsdCl9KX0pLmNhdGNoKHIpfSxhLmFsbERvY3M9bygiYWxsRG9jcyIsZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KSxlPXUoZSk7dmFyIG4sbz17fSxpPSJHRVQiO2UuY29uZmxpY3RzJiYoby5jb25mbGljdHM9ITApLGUuZGVzY2VuZGluZyYmKG8uZGVzY2VuZGluZz0hMCksZS5pbmNsdWRlX2RvY3MmJihvLmluY2x1ZGVfZG9jcz0hMCksZS5hdHRhY2htZW50cyYmKG8uYXR0YWNobWVudHM9ITApLGUua2V5JiYoby5rZXk9SlNPTi5zdHJpbmdpZnkoZS5rZXkpKSxlLnN0YXJ0X2tleSYmKGUuc3RhcnRrZXk9ZS5zdGFydF9rZXkpLGUuc3RhcnRrZXkmJihvLnN0YXJ0a2V5PUpTT04uc3RyaW5naWZ5KGUuc3RhcnRrZXkpKSxlLmVuZF9rZXkmJihlLmVuZGtleT1lLmVuZF9rZXkpLGUuZW5ka2V5JiYoby5lbmRrZXk9SlNPTi5zdHJpbmdpZnkoZS5lbmRrZXkpKSx2b2lkIDAhPT1lLmluY2x1c2l2ZV9lbmQmJihvLmluY2x1c2l2ZV9lbmQ9ISFlLmluY2x1c2l2ZV9lbmQpLHZvaWQgMCE9PWUubGltaXQmJihvLmxpbWl0PWUubGltaXQpLHZvaWQgMCE9PWUuc2tpcCYmKG8uc2tpcD1lLnNraXApO3ZhciBzPWRyKG8pO3ZvaWQgMCE9PWUua2V5cyYmKGk9IlBPU1QiLG49e2tleXM6ZS5rZXlzfSkscihlLHttZXRob2Q6aSx1cmw6ZnIoYywiX2FsbF9kb2NzIitzKSxib2R5Om59KS50aGVuKGZ1bmN0aW9uKG4pe2UuaW5jbHVkZV9kb2NzJiZlLmF0dGFjaG1lbnRzJiZlLmJpbmFyeSYmbi5yb3dzLmZvckVhY2goaXIpLHQobnVsbCxuKX0pLmNhdGNoKHQpfSksYS5fY2hhbmdlcz1mdW5jdGlvbihlKXt2YXIgdD0iYmF0Y2hfc2l6ZSJpbiBlP2UuYmF0Y2hfc2l6ZTpGaTtlPXUoZSksZS50aW1lb3V0PSJ0aW1lb3V0ImluIGU/ZS50aW1lb3V0OiJ0aW1lb3V0ImluIGw/bC50aW1lb3V0OjNlNDt2YXIgcixvPWUudGltZW91dD97dGltZW91dDplLnRpbWVvdXQtNWUzfTp7fSxzPXZvaWQgMCE9PWUubGltaXQmJmUubGltaXQ7cj0icmV0dXJuX2RvY3MiaW4gZT9lLnJldHVybl9kb2NzOiEoInJldHVybkRvY3MiaW4gZSl8fGUucmV0dXJuRG9jczt2YXIgYT1zO2lmKGUuc3R5bGUmJihvLnN0eWxlPWUuc3R5bGUpLChlLmluY2x1ZGVfZG9jc3x8ZS5maWx0ZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmZpbHRlcikmJihvLmluY2x1ZGVfZG9jcz0hMCksZS5hdHRhY2htZW50cyYmKG8uYXR0YWNobWVudHM9ITApLGUuY29udGludW91cyYmKG8uZmVlZD0ibG9uZ3BvbGwiKSxlLmNvbmZsaWN0cyYmKG8uY29uZmxpY3RzPSEwKSxlLmRlc2NlbmRpbmcmJihvLmRlc2NlbmRpbmc9ITApLCJoZWFydGJlYXQiaW4gZT9lLmhlYXJ0YmVhdCYmKG8uaGVhcnRiZWF0PWUuaGVhcnRiZWF0KTplLmNvbnRpbnVvdXMmJihvLmhlYXJ0YmVhdD0xZTQpLGUuZmlsdGVyJiYic3RyaW5nIj09dHlwZW9mIGUuZmlsdGVyJiYoby5maWx0ZXI9ZS5maWx0ZXIpLGUudmlldyYmInN0cmluZyI9PXR5cGVvZiBlLnZpZXcmJihvLmZpbHRlcj0iX3ZpZXciLG8udmlldz1lLnZpZXcpLGUucXVlcnlfcGFyYW1zJiYib2JqZWN0Ij09dHlwZW9mIGUucXVlcnlfcGFyYW1zKWZvcih2YXIgZiBpbiBlLnF1ZXJ5X3BhcmFtcyllLnF1ZXJ5X3BhcmFtcy5oYXNPd25Qcm9wZXJ0eShmKSYmKG9bZl09ZS5xdWVyeV9wYXJhbXNbZl0pO3ZhciBkLGg9IkdFVCI7ZS5kb2NfaWRzPyhvLmZpbHRlcj0iX2RvY19pZHMiLGg9IlBPU1QiLGQ9e2RvY19pZHM6ZS5kb2NfaWRzfSk6ZS5zZWxlY3RvciYmKG8uZmlsdGVyPSJfc2VsZWN0b3IiLGg9IlBPU1QiLGQ9e3NlbGVjdG9yOmUuc2VsZWN0b3J9KTt2YXIgcCx2LGc9ZnVuY3Rpb24ocix1KXtpZighZS5hYm9ydGVkKXtvLnNpbmNlPXIsIm9iamVjdCI9PXR5cGVvZiBvLnNpbmNlJiYoby5zaW5jZT1KU09OLnN0cmluZ2lmeShvLnNpbmNlKSksZS5kZXNjZW5kaW5nP3MmJihvLmxpbWl0PWEpOm8ubGltaXQ9IXN8fGE+dD90OmE7dmFyIGY9e21ldGhvZDpoLHVybDpmcihjLCJfY2hhbmdlcyIrZHIobykpLHRpbWVvdXQ6ZS50aW1lb3V0LGJvZHk6ZH07dj1yLGUuYWJvcnRlZHx8aSgpLnRoZW4oZnVuY3Rpb24oKXtwPW4oZSxmLHUpfSkuY2F0Y2godSl9fSx5PXtyZXN1bHRzOltdfSxfPWZ1bmN0aW9uKG4sbyl7aWYoIWUuYWJvcnRlZCl7dmFyIGk9MDtpZihvJiZvLnJlc3VsdHMpe2k9by5yZXN1bHRzLmxlbmd0aCx5Lmxhc3Rfc2VxPW8ubGFzdF9zZXE7KHt9KS5xdWVyeT1lLnF1ZXJ5X3BhcmFtcyxvLnJlc3VsdHM9by5yZXN1bHRzLmZpbHRlcihmdW5jdGlvbih0KXthLS07dmFyIG49SShlKSh0KTtyZXR1cm4gbiYmKGUuaW5jbHVkZV9kb2NzJiZlLmF0dGFjaG1lbnRzJiZlLmJpbmFyeSYmaXIodCksciYmeS5yZXN1bHRzLnB1c2godCksZS5vbkNoYW5nZSh0KSksbn0pfWVsc2UgaWYobilyZXR1cm4gZS5hYm9ydGVkPSEwLHZvaWQgZS5jb21wbGV0ZShuKTtvJiZvLmxhc3Rfc2VxJiYodj1vLmxhc3Rfc2VxKTt2YXIgdT1zJiZhPD0wfHxvJiZpPHR8fGUuZGVzY2VuZGluZzsoIWUuY29udGludW91c3x8cyYmYTw9MCkmJnU/ZS5jb21wbGV0ZShudWxsLHkpOmZvKGZ1bmN0aW9uKCl7Zyh2LF8pfSl9fTtyZXR1cm4gZyhlLnNpbmNlfHwwLF8pLHtjYW5jZWw6ZnVuY3Rpb24oKXtlLmFib3J0ZWQ9ITAscCYmcC5hYm9ydCgpfX19LGEucmV2c0RpZmY9bygicmV2c0RpZmYiLGZ1bmN0aW9uKGUsdCxyKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCx0PXt9KSxuKHQse21ldGhvZDoiUE9TVCIsdXJsOmZyKGMsIl9yZXZzX2RpZmYiKSxib2R5OmV9LHIpfSksYS5fY2xvc2U9ZnVuY3Rpb24oZSl7ZSgpfSxhLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7bihlLHt1cmw6ZnIoYywiIiksbWV0aG9kOiJERUxFVEUifSxmdW5jdGlvbihlLG4pe2lmKGUmJmUuc3RhdHVzJiY0MDQhPT1lLnN0YXR1cylyZXR1cm4gdChlKTt0KG51bGwsbil9KX19ZnVuY3Rpb24gcHIoZSl7dGhpcy5zdGF0dXM9NDAwLHRoaXMubmFtZT0icXVlcnlfcGFyc2VfZXJyb3IiLHRoaXMubWVzc2FnZT1lLHRoaXMuZXJyb3I9ITA7dHJ5e0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMscHIpfWNhdGNoKGUpe319ZnVuY3Rpb24gdnIoZSl7dGhpcy5zdGF0dXM9NDA0LHRoaXMubmFtZT0ibm90X2ZvdW5kIix0aGlzLm1lc3NhZ2U9ZSx0aGlzLmVycm9yPSEwO3RyeXtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHZyKX1jYXRjaChlKXt9fWZ1bmN0aW9uIGdyKGUpe3RoaXMuc3RhdHVzPTUwMCx0aGlzLm5hbWU9ImludmFsaWRfdmFsdWUiLHRoaXMubWVzc2FnZT1lLHRoaXMuZXJyb3I9ITA7dHJ5e0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsZ3IpfWNhdGNoKGUpe319ZnVuY3Rpb24geXIoZSx0KXtyZXR1cm4gdCYmZS50aGVuKGZ1bmN0aW9uKGUpe2ZvKGZ1bmN0aW9uKCl7dChudWxsLGUpfSl9LGZ1bmN0aW9uKGUpe2ZvKGZ1bmN0aW9uKCl7dChlKX0pfSksZX1mdW5jdGlvbiBfcihlKXtyZXR1cm4gYW8oZnVuY3Rpb24odCl7dmFyIG49dC5wb3AoKSxyPWUuYXBwbHkodGhpcyx0KTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgbiYmeXIocixuKSxyfSl9ZnVuY3Rpb24gbXIoZSx0KXtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0KCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlfSl9LGZ1bmN0aW9uKGUpe3JldHVybiB0KCkudGhlbihmdW5jdGlvbigpe3Rocm93IGV9KX0pfWZ1bmN0aW9uIGJyKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzLHI9dGhpcztyZXR1cm4gZS5hZGQoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShyLG4pfSl9fWZ1bmN0aW9uIHdyKGUpe3ZhciB0PW5ldyBfbyhlKSxuPW5ldyBBcnJheSh0LnNpemUpLHI9LTE7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtuWysrcl09ZX0pLG59ZnVuY3Rpb24gRXIoZSl7dmFyIHQ9bmV3IEFycmF5KGUuc2l6ZSksbj0tMTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUscil7dFsrK25dPXJ9KSx0fWZ1bmN0aW9uIFNyKGUpe3JldHVybiBuZXcgZ3IoImJ1aWx0aW4gIitlKyIgZnVuY3Rpb24gcmVxdWlyZXMgbWFwIHZhbHVlcyB0byBiZSBudW1iZXJzIG9yIG51bWJlciBhcnJheXMiKX1mdW5jdGlvbiBrcihlKXtmb3IodmFyIHQ9MCxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXt2YXIgbz1lW25dO2lmKCJudW1iZXIiIT10eXBlb2Ygbyl7aWYoIUFycmF5LmlzQXJyYXkobykpdGhyb3cgU3IoIl9zdW0iKTt0PSJudW1iZXIiPT10eXBlb2YgdD9bdF06dDtmb3IodmFyIGk9MCxzPW8ubGVuZ3RoO2k8cztpKyspe3ZhciBhPW9baV07aWYoIm51bWJlciIhPXR5cGVvZiBhKXRocm93IFNyKCJfc3VtIik7dm9pZCAwPT09dFtpXT90LnB1c2goYSk6dFtpXSs9YX19ZWxzZSJudW1iZXIiPT10eXBlb2YgdD90Kz1vOnRbMF0rPW99cmV0dXJuIHR9ZnVuY3Rpb24gcXIoZSx0KXtyZXR1cm4gVSgicmV0dXJuICgiK2UucmVwbGFjZSgvO1xzKiQvLCIiKSsiKTsiLHtlbWl0OnQsc3VtOmtyLGxvZzpKaSxpc0FycmF5OkhpLHRvSlNPTjpXaX0pfWZ1bmN0aW9uIEFyKCl7dGhpcy5wcm9taXNlPW5ldyB2byhmdW5jdGlvbihlKXtlKCl9KX1mdW5jdGlvbiB4cihlKXtpZighZSlyZXR1cm4idW5kZWZpbmVkIjtzd2l0Y2godHlwZW9mIGUpe2Nhc2UiZnVuY3Rpb24iOmNhc2Uic3RyaW5nIjpyZXR1cm4gZS50b1N0cmluZygpO2RlZmF1bHQ6cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfX1mdW5jdGlvbiBPcihlLHQpe3JldHVybiB4cihlKSt4cih0KSsidW5kZWZpbmVkIn1mdW5jdGlvbiBUcihlLHQsbixyLG8saSl7dmFyIHMsYT1PcihuLHIpO2lmKCFvJiYocz1lLl9jYWNoZWRWaWV3cz1lLl9jYWNoZWRWaWV3c3x8e30sc1thXSkpcmV0dXJuIHNbYV07dmFyIHU9ZS5pbmZvKCkudGhlbihmdW5jdGlvbih1KXtmdW5jdGlvbiBjKGUpe2Uudmlld3M9ZS52aWV3c3x8e307dmFyIG49dDtuLmluZGV4T2YoIi8iKT09PS0xJiYobj10KyIvIit0KTt2YXIgcj1lLnZpZXdzW25dPWUudmlld3Nbbl18fHt9O2lmKCFyW2ZdKXJldHVybiByW2ZdPSEwLGV9dmFyIGY9dS5kYl9uYW1lKyItbXJ2aWV3LSIrKG8/InRlbXAiOkh0KGEpKTtyZXR1cm4gSihlLCJfbG9jYWwvIitpLGMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlKGYpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89dC5kYjtvLmF1dG9fY29tcGFjdGlvbj0hMDt2YXIgaT17bmFtZTpmLGRiOm8sc291cmNlREI6ZSxhZGFwdGVyOmUuYWRhcHRlcixtYXBGdW46bixyZWR1Y2VGdW46cn07cmV0dXJuIGkuZGIuZ2V0KCJfbG9jYWwvbGFzdFNlcSIpLmNhdGNoKGZ1bmN0aW9uKGUpe2lmKDQwNCE9PWUuc3RhdHVzKXRocm93IGV9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBpLnNlcT1lP2Uuc2VxOjAscyYmaS5kYi5vbmNlKCJkZXN0cm95ZWQiLGZ1bmN0aW9uKCl7ZGVsZXRlIHNbYV19KSxpfSl9KX0pfSk7cmV0dXJuIHMmJihzW2FdPXUpLHV9ZnVuY3Rpb24ganIoZSl7cmV0dXJuIGUuaW5kZXhPZigiLyIpPT09LTE/W2UsZV06ZS5zcGxpdCgiLyIpfWZ1bmN0aW9uIENyKGUpe3JldHVybiAxPT09ZS5sZW5ndGgmJi9eMS0vLnRlc3QoZVswXS5yZXYpfWZ1bmN0aW9uIExyKGUsdCl7dHJ5e2UuZW1pdCgiZXJyb3IiLHQpfWNhdGNoKGUpe3EoImVycm9yIiwiVGhlIHVzZXIncyBtYXAvcmVkdWNlIGZ1bmN0aW9uIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yLlxuWW91IGNhbiBkZWJ1ZyB0aGlzIGVycm9yIGJ5IGRvaW5nOlxubXlEYXRhYmFzZS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7IGRlYnVnZ2VyOyB9KTtcblBsZWFzZSBkb3VibGUtY2hlY2sgeW91ciBtYXAvcmVkdWNlIGZ1bmN0aW9uLiIpLHEoImVycm9yIix0KX19ZnVuY3Rpb24gSXIoZSx0KXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSYmMj09PWUubGVuZ3RoKXt2YXIgbj1lO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihlLHQpfX1yZXR1cm4gcXIoZS50b1N0cmluZygpLHQpfWZ1bmN0aW9uIERyKGUpe3JldHVybiBHaVtlXT9HaVtlXTpxcihlLnRvU3RyaW5nKCkpfWZ1bmN0aW9uIFJyKGUsdCl7dmFyIG49ZS52aWV3cyYmZS52aWV3c1t0XTtpZigic3RyaW5nIiE9dHlwZW9mIG4ubWFwKXRocm93IG5ldyB2cigiZGRvYyAiK2UuX2lkKyIgaGFzIG5vIHN0cmluZyB2aWV3IG5hbWVkICIrdCsiLCBpbnN0ZWFkIGZvdW5kIG9iamVjdCBvZiB0eXBlOiAiK3R5cGVvZiBuLm1hcCl9ZnVuY3Rpb24gTnIoZSx0LG4pe3JldHVybiBWaS5xdWVyeS5jYWxsKHRoaXMsZSx0LG4pfWZ1bmN0aW9uIEJyKGUpe3JldHVybiBWaS52aWV3Q2xlYW51cC5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gJHIoZSl7cmV0dXJuL14xLS8udGVzdChlKX1mdW5jdGlvbiBGcihlLHQsbil7cmV0dXJuIWUuX2F0dGFjaG1lbnRzfHwhZS5fYXR0YWNobWVudHNbbl18fGUuX2F0dGFjaG1lbnRzW25dLmRpZ2VzdCE9PXQuX2F0dGFjaG1lbnRzW25dLmRpZ2VzdH1mdW5jdGlvbiBNcihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQuX2F0dGFjaG1lbnRzKTtyZXR1cm4gdm8uYWxsKG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBlLmdldEF0dGFjaG1lbnQodC5faWQsbix7cmV2OnQuX3Jldn0pfSkpfWZ1bmN0aW9uIFByKGUsdCxuKXt2YXIgcj1CKHQpJiYhQihlKSxvPU9iamVjdC5rZXlzKG4uX2F0dGFjaG1lbnRzKTtyZXR1cm4gcj9lLmdldChuLl9pZCkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gdm8uYWxsKG8ubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBGcihyLG4sbyk/dC5nZXRBdHRhY2htZW50KG4uX2lkLG8pOmUuZ2V0QXR0YWNobWVudChyLl9pZCxvKX0pKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2lmKDQwNCE9PWUuc3RhdHVzKXRocm93IGU7cmV0dXJuIE1yKHQsbil9KTpNcih0LG4pfWZ1bmN0aW9uIFVyKGUpe3ZhciB0PVtdO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Vbbl0ubWlzc2luZy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaCh7aWQ6bixyZXY6ZX0pfSl9KSx7ZG9jczp0LHJldnM6ITAsbGF0ZXN0OiEwfX1mdW5jdGlvbiBKcihlLHQsbixyKXtmdW5jdGlvbiBvKCl7dmFyIG89VXIobik7aWYoby5kb2NzLmxlbmd0aClyZXR1cm4gZS5idWxrR2V0KG8pLnRoZW4oZnVuY3Rpb24obil7aWYoci5jYW5jZWxsZWQpdGhyb3cgbmV3IEVycm9yKCJjYW5jZWxsZWQiKTtyZXR1cm4gdm8uYWxsKG4ucmVzdWx0cy5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHZvLmFsbChuLmRvY3MubWFwKGZ1bmN0aW9uKG4pe3ZhciByPW4ub2s7cmV0dXJuIG4uZXJyb3ImJihkPSExKSxyJiZyLl9hdHRhY2htZW50cz9Qcih0LGUscikudGhlbihmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhyLl9hdHRhY2htZW50cyk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLG4pe3ZhciBvPXIuX2F0dGFjaG1lbnRzW3Rbbl1dO2RlbGV0ZSBvLnN0dWIsZGVsZXRlIG8ubGVuZ3RoLG8uZGF0YT1lfSkscn0pOnJ9KSl9KSkudGhlbihmdW5jdGlvbihlKXtsPWwuY29uY2F0KEQoZSkuZmlsdGVyKEJvb2xlYW4pKX0pfSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5fYXR0YWNobWVudHMmJk9iamVjdC5rZXlzKGUuX2F0dGFjaG1lbnRzKS5sZW5ndGg+MH1mdW5jdGlvbiBzKGUpe3JldHVybiBlLl9jb25mbGljdHMmJmUuX2NvbmZsaWN0cy5sZW5ndGg+MH1mdW5jdGlvbiBhKHQpe3JldHVybiBlLmFsbERvY3Moe2tleXM6dCxpbmNsdWRlX2RvY3M6ITAsY29uZmxpY3RzOiEwfSkudGhlbihmdW5jdGlvbihlKXtpZihyLmNhbmNlbGxlZCl0aHJvdyBuZXcgRXJyb3IoImNhbmNlbGxlZCIpO2Uucm93cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZGVsZXRlZHx8IWUuZG9jfHwhJHIoZS52YWx1ZS5yZXYpfHxpKGUuZG9jKXx8cyhlLmRvYyl8fChlLmRvYy5fY29uZmxpY3RzJiZkZWxldGUgZS5kb2MuX2NvbmZsaWN0cyxsLnB1c2goZS5kb2MpLGRlbGV0ZSBuW2UuaWRdKX0pfSl9ZnVuY3Rpb24gYygpe3ZhciBlPU9iamVjdC5rZXlzKG4pLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgdD1uW2VdLm1pc3Npbmc7cmV0dXJuIDE9PT10Lmxlbmd0aCYmJHIodFswXSl9KTtpZihlLmxlbmd0aD4wKXJldHVybiBhKGUpfWZ1bmN0aW9uIGYoKXtyZXR1cm57b2s6ZCxkb2NzOmx9fW49dShuKTt2YXIgbD1bXSxkPSEwO3JldHVybiB2by5yZXNvbHZlKCkudGhlbihjKS50aGVuKG8pLnRoZW4oZil9ZnVuY3Rpb24gSHIoZSx0LG4scixvKXtyZXR1cm4gZS5nZXQodCkuY2F0Y2goZnVuY3Rpb24obil7aWYoNDA0PT09bi5zdGF0dXMpcmV0dXJuImh0dHAiIT09ZS5hZGFwdGVyJiYiaHR0cHMiIT09ZS5hZGFwdGVyfHxPKDQwNCwiUG91Y2hEQiBpcyBqdXN0IGNoZWNraW5nIGlmIGEgcmVtb3RlIGNoZWNrcG9pbnQgZXhpc3RzLiIpLHtzZXNzaW9uX2lkOnIsX2lkOnQsaGlzdG9yeTpbXSxyZXBsaWNhdG9yOlppLHZlcnNpb246WWl9O3Rocm93IG59KS50aGVuKGZ1bmN0aW9uKGkpe2lmKCFvLmNhbmNlbGxlZCYmaS5sYXN0X3NlcSE9PW4pcmV0dXJuIGkuaGlzdG9yeT0oaS5oaXN0b3J5fHxbXSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlc3Npb25faWQhPT1yfSksaS5oaXN0b3J5LnVuc2hpZnQoe2xhc3Rfc2VxOm4sc2Vzc2lvbl9pZDpyfSksaS5oaXN0b3J5PWkuaGlzdG9yeS5zbGljZSgwLGVzKSxpLnZlcnNpb249WWksaS5yZXBsaWNhdG9yPVppLGkuc2Vzc2lvbl9pZD1yLGkubGFzdF9zZXE9bixlLnB1dChpKS5jYXRjaChmdW5jdGlvbihpKXtpZig0MDk9PT1pLnN0YXR1cylyZXR1cm4gSHIoZSx0LG4scixvKTt0aHJvdyBpfSl9KX1mdW5jdGlvbiBXcihlLHQsbixyKXt0aGlzLnNyYz1lLHRoaXMudGFyZ2V0PXQsdGhpcy5pZD1uLHRoaXMucmV0dXJuVmFsdWU9cn1mdW5jdGlvbiB6cihlLHQpe3JldHVybiBlLnNlc3Npb25faWQ9PT10LnNlc3Npb25faWQ/e2xhc3Rfc2VxOmUubGFzdF9zZXEsaGlzdG9yeTplLmhpc3Rvcnl9OktyKGUuaGlzdG9yeSx0Lmhpc3RvcnkpfWZ1bmN0aW9uIEtyKGUsdCl7dmFyIG49ZVswXSxyPWUuc2xpY2UoMSksbz10WzBdLGk9dC5zbGljZSgxKTtyZXR1cm4gbiYmMCE9PXQubGVuZ3RoP1hyKG4uc2Vzc2lvbl9pZCx0KT97bGFzdF9zZXE6bi5sYXN0X3NlcSxoaXN0b3J5OmV9OlhyKG8uc2Vzc2lvbl9pZCxyKT97bGFzdF9zZXE6by5sYXN0X3NlcSxoaXN0b3J5Oml9OktyKHIsaSk6e2xhc3Rfc2VxOnRzLGhpc3Rvcnk6W119fWZ1bmN0aW9uIFhyKGUsdCl7dmFyIG49dFswXSxyPXQuc2xpY2UoMSk7cmV0dXJuISghZXx8MD09PXQubGVuZ3RoKSYmKGU9PT1uLnNlc3Npb25faWR8fFhyKGUscikpfWZ1bmN0aW9uIEdyKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZS5zdGF0dXMmJjQ9PT1NYXRoLmZsb29yKGUuc3RhdHVzLzEwMCl9ZnVuY3Rpb24gVnIoZSx0LG4scil7aWYoZS5yZXRyeT09PSExKXJldHVybiB0LmVtaXQoImVycm9yIixuKSx2b2lkIHQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUuYmFja19vZmZfZnVuY3Rpb24mJihlLmJhY2tfb2ZmX2Z1bmN0aW9uPXgpLHQuZW1pdCgicmVxdWVzdEVycm9yIixuKSwiYWN0aXZlIj09PXQuc3RhdGV8fCJwZW5kaW5nIj09PXQuc3RhdGUpe3QuZW1pdCgicGF1c2VkIixuKSx0LnN0YXRlPSJzdG9wcGVkIjt2YXIgbz1mdW5jdGlvbigpe2UuY3VycmVudF9iYWNrX29mZj1yc30saT1mdW5jdGlvbigpe3QucmVtb3ZlTGlzdGVuZXIoImFjdGl2ZSIsbyl9O3Qub25jZSgicGF1c2VkIixpKSx0Lm9uY2UoImFjdGl2ZSIsbyl9ZS5jdXJyZW50X2JhY2tfb2ZmPWUuY3VycmVudF9iYWNrX29mZnx8cnMsZS5jdXJyZW50X2JhY2tfb2ZmPWUuYmFja19vZmZfZnVuY3Rpb24oZS5jdXJyZW50X2JhY2tfb2ZmKSxzZXRUaW1lb3V0KHIsZS5jdXJyZW50X2JhY2tfb2ZmKX1mdW5jdGlvbiBRcihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuc29ydChXZSkucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbbl09ZVtuXSx0fSx7fSl9ZnVuY3Rpb24gWXIoZSx0LG4pe3ZhciByPW4uZG9jX2lkcz9uLmRvY19pZHMuc29ydChXZSk6IiIsbz1uLmZpbHRlcj9uLmZpbHRlci50b1N0cmluZygpOiIiLGk9IiIscz0iIixhPSIiO3JldHVybiBuLnNlbGVjdG9yJiYoYT1KU09OLnN0cmluZ2lmeShuLnNlbGVjdG9yKSksbi5maWx0ZXImJm4ucXVlcnlfcGFyYW1zJiYoaT1KU09OLnN0cmluZ2lmeShRcihuLnF1ZXJ5X3BhcmFtcykpKSxuLmZpbHRlciYmIl92aWV3Ij09PW4uZmlsdGVyJiYocz1uLnZpZXcudG9TdHJpbmcoKSksdm8uYWxsKFtlLmlkKCksdC5pZCgpXSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lWzBdK2VbMV0rbytzK2krcithO3JldHVybiBuZXcgdm8oZnVuY3Rpb24oZSl7SnQodCxlKX0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4iX2xvY2FsLyIrKGU9ZS5yZXBsYWNlKC9cLy9nLCIuIikucmVwbGFjZSgvXCsvZywiXyIpKX0pfWZ1bmN0aW9uIFpyKGUsdCxuLHIsbyl7ZnVuY3Rpb24gaSgpe3JldHVybiBTP3ZvLnJlc29sdmUoKTpZcihlLHQsbikudGhlbihmdW5jdGlvbihuKXtFPW4sUz1uZXcgV3IoZSx0LEUscil9KX1mdW5jdGlvbiBzKCl7aWYoJD1bXSwwIT09dy5kb2NzLmxlbmd0aCl7dmFyIGU9dy5kb2NzLGk9e3RpbWVvdXQ6bi50aW1lb3V0fTtyZXR1cm4gdC5idWxrRG9jcyh7ZG9jczplLG5ld19lZGl0czohMX0saSkudGhlbihmdW5jdGlvbih0KXtpZihyLmNhbmNlbGxlZCl0aHJvdyBwKCksbmV3IEVycm9yKCJjYW5jZWxsZWQiKTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO3QuZm9yRWFjaChmdW5jdGlvbihlKXtlLmVycm9yJiYobltlLmlkXT1lKX0pO3ZhciBpPU9iamVjdC5rZXlzKG4pLmxlbmd0aDtvLmRvY193cml0ZV9mYWlsdXJlcys9aSxvLmRvY3Nfd3JpdHRlbis9ZS5sZW5ndGgtaSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bltlLl9pZF07aWYodCl7aWYoby5lcnJvcnMucHVzaCh0KSwidW5hdXRob3JpemVkIiE9PXQubmFtZSYmImZvcmJpZGRlbiIhPT10Lm5hbWUpdGhyb3cgdDtyLmVtaXQoImRlbmllZCIsdSh0KSl9ZWxzZSAkLnB1c2goZSl9KX0sZnVuY3Rpb24odCl7dGhyb3cgby5kb2Nfd3JpdGVfZmFpbHVyZXMrPWUubGVuZ3RoLHR9KX19ZnVuY3Rpb24gYSgpe2lmKHcuZXJyb3IpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSB3YXMgYSBwcm9ibGVtIGdldHRpbmcgZG9jcy4iKTtvLmxhc3Rfc2VxPVQ9dy5zZXE7dmFyIGU9dShvKTtyZXR1cm4gJC5sZW5ndGgmJihlLmRvY3M9JCxyLmVtaXQoImNoYW5nZSIsZSkpLEE9ITAsUy53cml0ZUNoZWNrcG9pbnQody5zZXEsRikudGhlbihmdW5jdGlvbigpe2lmKEE9ITEsci5jYW5jZWxsZWQpdGhyb3cgcCgpLG5ldyBFcnJvcigiY2FuY2VsbGVkIik7dz12b2lkIDAsXygpfSkuY2F0Y2goZnVuY3Rpb24oZSl7dGhyb3cgYihlKSxlfSl9ZnVuY3Rpb24gYygpe3ZhciBlPXt9O3JldHVybiB3LmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXsiX3VzZXIvIiE9PXQuaWQmJihlW3QuaWRdPXQuY2hhbmdlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmV2fSkpfSksdC5yZXZzRGlmZihlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKHIuY2FuY2VsbGVkKXRocm93IHAoKSxuZXcgRXJyb3IoImNhbmNlbGxlZCIpO3cuZGlmZnM9ZX0pfWZ1bmN0aW9uIGYoKXtyZXR1cm4gSnIoZSx0LHcuZGlmZnMscikudGhlbihmdW5jdGlvbihlKXt3LmVycm9yPSFlLm9rLGUuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSB3LmRpZmZzW2UuX2lkXSxvLmRvY3NfcmVhZCsrLHcuZG9jcy5wdXNoKGUpfSl9KX1mdW5jdGlvbiBsKCl7aWYoIXIuY2FuY2VsbGVkJiYhdyl7aWYoMD09PWsubGVuZ3RoKXJldHVybiB2b2lkIGQoITApO3c9ay5zaGlmdCgpLGMoKS50aGVuKGYpLnRoZW4ocykudGhlbihhKS50aGVuKGwpLmNhdGNoKGZ1bmN0aW9uKGUpe2goImJhdGNoIHByb2Nlc3NpbmcgdGVybWluYXRlZCB3aXRoIGVycm9yIixlKX0pfX1mdW5jdGlvbiBkKGUpe2lmKDA9PT1xLmNoYW5nZXMubGVuZ3RoKXJldHVybiB2b2lkKDAhPT1rLmxlbmd0aHx8d3x8KChDJiZNLmxpdmV8fHgpJiYoci5zdGF0ZT0icGVuZGluZyIsci5lbWl0KCJwYXVzZWQiKSkseCYmcCgpKSk7KGV8fHh8fHEuY2hhbmdlcy5sZW5ndGg+PUwpJiYoay5wdXNoKHEpLHE9e3NlcTowLGNoYW5nZXM6W10sZG9jczpbXX0sInBlbmRpbmciIT09ci5zdGF0ZSYmInN0b3BwZWQiIT09ci5zdGF0ZXx8KHIuc3RhdGU9ImFjdGl2ZSIsci5lbWl0KCJhY3RpdmUiKSksbCgpKX1mdW5jdGlvbiBoKGUsdCl7T3x8KHQubWVzc2FnZXx8KHQubWVzc2FnZT1lKSxvLm9rPSExLG8uc3RhdHVzPSJhYm9ydGluZyIsaz1bXSxxPXtzZXE6MCxjaGFuZ2VzOltdLGRvY3M6W119LHAodCkpfWZ1bmN0aW9uIHAoaSl7T3x8ci5jYW5jZWxsZWQmJihvLnN0YXR1cz0iY2FuY2VsbGVkIixBKXx8KG8uc3RhdHVzPW8uc3RhdHVzfHwiY29tcGxldGUiLG8uZW5kX3RpbWU9bmV3IERhdGUsby5sYXN0X3NlcT1ULE89ITAsaT8oaT1qKGkpLGkucmVzdWx0PW8sInVuYXV0aG9yaXplZCI9PT1pLm5hbWV8fCJmb3JiaWRkZW4iPT09aS5uYW1lPyhyLmVtaXQoImVycm9yIixpKSxyLnJlbW92ZUFsbExpc3RlbmVycygpKTpWcihuLHIsaSxmdW5jdGlvbigpe1pyKGUsdCxuLHIpfSkpOihyLmVtaXQoImNvbXBsZXRlIixvKSxyLnJlbW92ZUFsbExpc3RlbmVycygpKSl9ZnVuY3Rpb24gdihlKXtpZihyLmNhbmNlbGxlZClyZXR1cm4gcCgpO0kobikoZSkmJihxLnNlcT1lLnNlcSxxLmNoYW5nZXMucHVzaChlKSxkKDA9PT1rLmxlbmd0aCYmTS5saXZlKSl9ZnVuY3Rpb24gZyhlKXtpZihSPSExLHIuY2FuY2VsbGVkKXJldHVybiBwKCk7aWYoZS5yZXN1bHRzLmxlbmd0aD4wKU0uc2luY2U9ZS5sYXN0X3NlcSxfKCksZCghMCk7ZWxzZXt2YXIgdD1mdW5jdGlvbigpe0M/KE0ubGl2ZT0hMCxfKCkpOng9ITAsZCghMCl9O3d8fDAhPT1lLnJlc3VsdHMubGVuZ3RoP3QoKTooQT0hMCxTLndyaXRlQ2hlY2twb2ludChlLmxhc3Rfc2VxLEYpLnRoZW4oZnVuY3Rpb24oKXtBPSExLG8ubGFzdF9zZXE9VD1lLmxhc3Rfc2VxLHQoKX0pLmNhdGNoKGIpKX19ZnVuY3Rpb24geShlKXtpZihSPSExLHIuY2FuY2VsbGVkKXJldHVybiBwKCk7aCgiY2hhbmdlcyByZWplY3RlZCIsZSl9ZnVuY3Rpb24gXygpe2Z1bmN0aW9uIHQoKXtpLmNhbmNlbCgpfWZ1bmN0aW9uIG8oKXtyLnJlbW92ZUxpc3RlbmVyKCJjYW5jZWwiLHQpfWlmKCFSJiYheCYmay5sZW5ndGg8RCl7Uj0hMCxyLl9jaGFuZ2VzJiYoci5yZW1vdmVMaXN0ZW5lcigiY2FuY2VsIixyLl9hYm9ydENoYW5nZXMpLHIuX2NoYW5nZXMuY2FuY2VsKCkpLHIub25jZSgiY2FuY2VsIix0KTt2YXIgaT1lLmNoYW5nZXMoTSkub24oImNoYW5nZSIsdik7aS50aGVuKG8sbyksaS50aGVuKGcpLmNhdGNoKHkpLG4ucmV0cnkmJihyLl9jaGFuZ2VzPWksci5fYWJvcnRDaGFuZ2VzPXQpfX1mdW5jdGlvbiBtKCl7aSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gci5jYW5jZWxsZWQ/dm9pZCBwKCk6Uy5nZXRDaGVja3BvaW50KCkudGhlbihmdW5jdGlvbihlKXtUPWUsTT17c2luY2U6VCxsaW1pdDpMLGJhdGNoX3NpemU6TCxzdHlsZToiYWxsX2RvY3MiLGRvY19pZHM6TixzZWxlY3RvcjpCLHJldHVybl9kb2NzOiEwfSxuLmZpbHRlciYmKCJzdHJpbmciIT10eXBlb2Ygbi5maWx0ZXI/TS5pbmNsdWRlX2RvY3M9ITA6TS5maWx0ZXI9bi5maWx0ZXIpLCJoZWFydGJlYXQiaW4gbiYmKE0uaGVhcnRiZWF0PW4uaGVhcnRiZWF0KSwidGltZW91dCJpbiBuJiYoTS50aW1lb3V0PW4udGltZW91dCksbi5xdWVyeV9wYXJhbXMmJihNLnF1ZXJ5X3BhcmFtcz1uLnF1ZXJ5X3BhcmFtcyksbi52aWV3JiYoTS52aWV3PW4udmlldyksXygpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtoKCJnZXRDaGVja3BvaW50IHJlamVjdGVkIHdpdGggIixlKX0pfWZ1bmN0aW9uIGIoZSl7QT0hMSxoKCJ3cml0ZUNoZWNrcG9pbnQgY29tcGxldGVkIHdpdGggZXJyb3IiLGUpfXZhciB3LEUsUyxrPVtdLHE9e3NlcTowLGNoYW5nZXM6W10sZG9jczpbXX0sQT0hMSx4PSExLE89ITEsVD0wLEM9bi5jb250aW51b3VzfHxuLmxpdmV8fCExLEw9bi5iYXRjaF9zaXplfHwxMDAsRD1uLmJhdGNoZXNfbGltaXR8fDEwLFI9ITEsTj1uLmRvY19pZHMsQj1uLnNlbGVjdG9yLCQ9W10sRj16KCk7bz1vfHx7b2s6ITAsc3RhcnRfdGltZTpuZXcgRGF0ZSxkb2NzX3JlYWQ6MCxkb2NzX3dyaXR0ZW46MCxkb2Nfd3JpdGVfZmFpbHVyZXM6MCxlcnJvcnM6W119O3ZhciBNPXt9O2lmKHIucmVhZHkoZSx0KSxyLmNhbmNlbGxlZClyZXR1cm4gdm9pZCBwKCk7ci5fYWRkZWRMaXN0ZW5lcnN8fChyLm9uY2UoImNhbmNlbCIscCksImZ1bmN0aW9uIj09dHlwZW9mIG4uY29tcGxldGUmJihyLm9uY2UoImVycm9yIixuLmNvbXBsZXRlKSxyLm9uY2UoImNvbXBsZXRlIixmdW5jdGlvbihlKXtuLmNvbXBsZXRlKG51bGwsZSl9KSksci5fYWRkZWRMaXN0ZW5lcnM9ITApLHZvaWQgMD09PW4uc2luY2U/bSgpOmkoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEE9ITAsUy53cml0ZUNoZWNrcG9pbnQobi5zaW5jZSxGKX0pLnRoZW4oZnVuY3Rpb24oKXtpZihBPSExLHIuY2FuY2VsbGVkKXJldHVybiB2b2lkIHAoKTtUPW4uc2luY2UsbSgpfSkuY2F0Y2goYil9ZnVuY3Rpb24gZW8oKXt1by5FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSx0aGlzLmNhbmNlbGxlZD0hMSx0aGlzLnN0YXRlPSJwZW5kaW5nIjt2YXIgZT10aGlzLHQ9bmV3IHZvKGZ1bmN0aW9uKHQsbil7ZS5vbmNlKCJjb21wbGV0ZSIsdCksZS5vbmNlKCJlcnJvciIsbil9KTtlLnRoZW49ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC50aGVuKGUsbil9LGUuY2F0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2F0Y2goZSl9LGUuY2F0Y2goZnVuY3Rpb24oKXt9KX1mdW5jdGlvbiB0byhlLHQpe3ZhciBuPXQuUG91Y2hDb25zdHJ1Y3RvcjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/bmV3IG4oZSx0KTplfWZ1bmN0aW9uIG5vKGUsdCxuLHIpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuJiYocj1uLG49e30pLHZvaWQgMD09PW4mJihuPXt9KSxuLmRvY19pZHMmJiFBcnJheS5pc0FycmF5KG4uZG9jX2lkcykpdGhyb3cgaihEbywiYGRvY19pZHNgIGZpbHRlciBwYXJhbWV0ZXIgaXMgbm90IGEgbGlzdC4iKTtuLmNvbXBsZXRlPXIsbj11KG4pLG4uY29udGludW91cz1uLmNvbnRpbnVvdXN8fG4ubGl2ZSxuLnJldHJ5PSJyZXRyeSJpbiBuJiZuLnJldHJ5LG4uUG91Y2hDb25zdHJ1Y3Rvcj1uLlBvdWNoQ29uc3RydWN0b3J8fHRoaXM7dmFyIG89bmV3IGVvKG4pO3JldHVybiBacih0byhlLG4pLHRvKHQsbiksbixvKSxvfWZ1bmN0aW9uIHJvKGUsdCxuLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYocj1uLG49e30pLHZvaWQgMD09PW4mJihuPXt9KSxuPXUobiksbi5Qb3VjaENvbnN0cnVjdG9yPW4uUG91Y2hDb25zdHJ1Y3Rvcnx8dGhpcyxlPXRvKGUsbiksdD10byh0LG4pLG5ldyBvbyhlLHQsbixyKX1mdW5jdGlvbiBvbyhlLHQsbixyKXtmdW5jdGlvbiBvKGUpe3AuZW1pdCgiY2hhbmdlIix7ZGlyZWN0aW9uOiJwdWxsIixjaGFuZ2U6ZX0pfWZ1bmN0aW9uIGkoZSl7cC5lbWl0KCJjaGFuZ2UiLHtkaXJlY3Rpb246InB1c2giLGNoYW5nZTplfSl9ZnVuY3Rpb24gcyhlKXtwLmVtaXQoImRlbmllZCIse2RpcmVjdGlvbjoicHVzaCIsZG9jOmV9KX1mdW5jdGlvbiBhKGUpe3AuZW1pdCgiZGVuaWVkIix7ZGlyZWN0aW9uOiJwdWxsIixkb2M6ZX0pfWZ1bmN0aW9uIHUoKXtwLnB1c2hQYXVzZWQ9ITAscC5wdWxsUGF1c2VkJiZwLmVtaXQoInBhdXNlZCIpfWZ1bmN0aW9uIGMoKXtwLnB1bGxQYXVzZWQ9ITAscC5wdXNoUGF1c2VkJiZwLmVtaXQoInBhdXNlZCIpfWZ1bmN0aW9uIGYoKXtwLnB1c2hQYXVzZWQ9ITEscC5wdWxsUGF1c2VkJiZwLmVtaXQoImFjdGl2ZSIse2RpcmVjdGlvbjoicHVzaCJ9KX1mdW5jdGlvbiBsKCl7cC5wdWxsUGF1c2VkPSExLHAucHVzaFBhdXNlZCYmcC5lbWl0KCJhY3RpdmUiLHtkaXJlY3Rpb246InB1bGwifSl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgcj0iY2hhbmdlIj09PXQmJihuPT09b3x8bj09PWkpLGQ9ImRlbmllZCI9PT10JiYobj09PWF8fG49PT1zKSxoPSJwYXVzZWQiPT09dCYmKG49PT1jfHxuPT09dSksdj0iYWN0aXZlIj09PXQmJihuPT09bHx8bj09PWYpOyhyfHxkfHxofHx2KSYmKHQgaW4geXx8KHlbdF09e30pLHlbdF1bZV09ITAsMj09PU9iamVjdC5rZXlzKHlbdF0pLmxlbmd0aCYmcC5yZW1vdmVBbGxMaXN0ZW5lcnModCkpfX1mdW5jdGlvbiBoKGUsdCxuKXtlLmxpc3RlbmVycyh0KS5pbmRleE9mKG4pPT0tMSYmZS5vbih0LG4pfXZhciBwPXRoaXM7dGhpcy5jYW5jZWxlZD0hMTt2YXIgdj1uLnB1c2g/U28oe30sbixuLnB1c2gpOm4sZz1uLnB1bGw/U28oe30sbixuLnB1bGwpOm47dGhpcy5wdXNoPW5vKGUsdCx2KSx0aGlzLnB1bGw9bm8odCxlLGcpLHRoaXMucHVzaFBhdXNlZD0hMCx0aGlzLnB1bGxQYXVzZWQ9ITA7dmFyIHk9e307bi5saXZlJiYodGhpcy5wdXNoLm9uKCJjb21wbGV0ZSIscC5wdWxsLmNhbmNlbC5iaW5kKHAucHVsbCkpLHRoaXMucHVsbC5vbigiY29tcGxldGUiLHAucHVzaC5jYW5jZWwuYmluZChwLnB1c2gpKSksdGhpcy5vbigibmV3TGlzdGVuZXIiLGZ1bmN0aW9uKGUpeyJjaGFuZ2UiPT09ZT8oaChwLnB1bGwsImNoYW5nZSIsbyksaChwLnB1c2gsImNoYW5nZSIsaSkpOiJkZW5pZWQiPT09ZT8oaChwLnB1bGwsImRlbmllZCIsYSksaChwLnB1c2gsImRlbmllZCIscykpOiJhY3RpdmUiPT09ZT8oaChwLnB1bGwsImFjdGl2ZSIsbCksaChwLnB1c2gsImFjdGl2ZSIsZikpOiJwYXVzZWQiPT09ZSYmKGgocC5wdWxsLCJwYXVzZWQiLGMpLGgocC5wdXNoLCJwYXVzZWQiLHUpKX0pLHRoaXMub24oInJlbW92ZUxpc3RlbmVyIixmdW5jdGlvbihlKXsiY2hhbmdlIj09PWU/KHAucHVsbC5yZW1vdmVMaXN0ZW5lcigiY2hhbmdlIixvKSxwLnB1c2gucmVtb3ZlTGlzdGVuZXIoImNoYW5nZSIsaSkpOiJkZW5pZWQiPT09ZT8ocC5wdWxsLnJlbW92ZUxpc3RlbmVyKCJkZW5pZWQiLGEpLHAucHVzaC5yZW1vdmVMaXN0ZW5lcigiZGVuaWVkIixzKSk6ImFjdGl2ZSI9PT1lPyhwLnB1bGwucmVtb3ZlTGlzdGVuZXIoImFjdGl2ZSIsbCkscC5wdXNoLnJlbW92ZUxpc3RlbmVyKCJhY3RpdmUiLGYpKToicGF1c2VkIj09PWUmJihwLnB1bGwucmVtb3ZlTGlzdGVuZXIoInBhdXNlZCIsYykscC5wdXNoLnJlbW92ZUxpc3RlbmVyKCJwYXVzZWQiLHUpKX0pLHRoaXMucHVsbC5vbigicmVtb3ZlTGlzdGVuZXIiLGQoInB1bGwiKSksdGhpcy5wdXNoLm9uKCJyZW1vdmVMaXN0ZW5lciIsZCgicHVzaCIpKTt2YXIgXz12by5hbGwoW3RoaXMucHVzaCx0aGlzLnB1bGxdKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXtwdXNoOmVbMF0scHVsbDplWzFdfTtyZXR1cm4gcC5lbWl0KCJjb21wbGV0ZSIsdCksciYmcihudWxsLHQpLHAucmVtb3ZlQWxsTGlzdGVuZXJzKCksdH0sZnVuY3Rpb24oZSl7aWYocC5jYW5jZWwoKSxyP3IoZSk6cC5lbWl0KCJlcnJvciIsZSkscC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxyKXRocm93IGV9KTt0aGlzLnRoZW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXy50aGVuKGUsdCl9LHRoaXMuY2F0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIF8uY2F0Y2goZSl9fWZ1bmN0aW9uIGlvKGUpe2UucmVwbGljYXRlPW5vLGUuc3luYz1ybyxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlcGxpY2F0ZSIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJue2Zyb206ZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZSh0LGUsbixyKX0sdG86ZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShlLHQsbixyKX19fX0pLGUucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnN5bmModGhpcyxlLHQsbil9fXZhciBzbz1yKGUoNykpLGFvPXIoZSgxKSksdW89ZSg0KSxjbz1yKGUoNikpLGZvPXIoZSg1KSksbG89cihlKDIpKSxobz1yKGUoMTApKSxwbz1yKGUoMTEpKSx2bz0iZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOnNvLGdvPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyx5bz1nby5jYWxsKE9iamVjdCk7di5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PWgoZSk7cmV0dXJuIHRoaXMuX3N0b3JlW3RdfSx2LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1oKGUpO3JldHVybiB0aGlzLl9zdG9yZVtuXT10LCEwfSx2LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSlpbiB0aGlzLl9zdG9yZX0sdi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWgoZSksbj10IGluIHRoaXMuX3N0b3JlO3JldHVybiBkZWxldGUgdGhpcy5fc3RvcmVbdF0sbn0sdi5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXModGhpcy5fc3RvcmUpLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBvPXRbbl0saT10aGlzLl9zdG9yZVtvXTtvPXAobyksZShpLG8pfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHYucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKS5sZW5ndGh9fSksZy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdG9yZS5zZXQoZSwhMCl9LGcucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3RvcmUuaGFzKGUpfSxnLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe3RoaXMuX3N0b3JlLmZvckVhY2goZnVuY3Rpb24odCxuKXtlKG4pfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yZS5zaXplfX0pO3ZhciBfbyxtbzshZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFN5bWJvbHx8InVuZGVmaW5lZCI9PXR5cGVvZiBNYXB8fCJ1bmRlZmluZWQiPT10eXBlb2YgU2V0KXJldHVybiExO3ZhciBlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWFwLFN5bWJvbC5zcGVjaWVzKTtyZXR1cm4gZSYmImdldCJpbiBlJiZNYXBbU3ltYm9sLnNwZWNpZXNdPT09TWFwfSgpPyhfbz1nLG1vPXYpOihfbz1TZXQsbW89TWFwKTt2YXIgYm8sd289NjtpZih3KCkpYm89ITE7ZWxzZSB0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oIl9wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UiLDEpLGJvPSEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oIl9wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UiKX1jYXRjaChlKXtibz0hMX1jbyhrLHVvLkV2ZW50RW1pdHRlciksay5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0LG4scil7ZnVuY3Rpb24gbygpe2Z1bmN0aW9uIGUoKXtzPSExfWlmKGkuX2xpc3RlbmVyc1t0XSl7aWYocylyZXR1cm4gdm9pZChzPSJ3YWl0aW5nIik7cz0hMDt2YXIgYT15KHIsWyJzdHlsZSIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwiY29uZmxpY3RzIiwiZmlsdGVyIiwiZG9jX2lkcyIsInZpZXciLCJzaW5jZSIsInF1ZXJ5X3BhcmFtcyIsImJpbmFyeSJdKTtuLmNoYW5nZXMoYSkub24oImNoYW5nZSIsZnVuY3Rpb24oZSl7ZS5zZXE+ci5zaW5jZSYmIXIuY2FuY2VsbGVkJiYoci5zaW5jZT1lLnNlcSxyLm9uQ2hhbmdlKGUpKX0pLm9uKCJjb21wbGV0ZSIsZnVuY3Rpb24oKXsid2FpdGluZyI9PT1zJiZmbyhvKSxzPSExfSkub24oImVycm9yIixlKX19aWYoIXRoaXMuX2xpc3RlbmVyc1t0XSl7dmFyIGk9dGhpcyxzPSExO3RoaXMuX2xpc3RlbmVyc1t0XT1vLHRoaXMub24oZSxvKX19LGsucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dCBpbiB0aGlzLl9saXN0ZW5lcnMmJih1by5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcyxlLHRoaXMuX2xpc3RlbmVyc1t0XSksZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1t0XSl9LGsucHJvdG90eXBlLm5vdGlmeUxvY2FsV2luZG93cz1mdW5jdGlvbihlKXt3KCk/Y2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtkYk5hbWU6ZX0pOkUoKSYmKGxvY2FsU3RvcmFnZVtlXT0iYSI9PT1sb2NhbFN0b3JhZ2VbZV0/ImIiOiJhIil9LGsucHJvdG90eXBlLm5vdGlmeT1mdW5jdGlvbihlKXt0aGlzLmVtaXQoZSksdGhpcy5ub3RpZnlMb2NhbFdpbmRvd3MoZSl9O3ZhciBFbztFbz0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3QoZSksbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciByPWFyZ3VtZW50c1tuXTtpZihudWxsIT1yKWZvcih2YXIgbyBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG8pJiYodFtvXT1yW29dKX1yZXR1cm4gdH07dmFyIFNvPUVvO2NvKFQsRXJyb3IpLFQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtzdGF0dXM6dGhpcy5zdGF0dXMsbmFtZTp0aGlzLm5hbWUsbWVzc2FnZTp0aGlzLm1lc3NhZ2UscmVhc29uOnRoaXMucmVhc29ufSl9O3ZhciBrbz0obmV3IFQoNDAxLCJ1bmF1dGhvcml6ZWQiLCJOYW1lIG9yIHBhc3N3b3JkIGlzIGluY29ycmVjdC4iKSxuZXcgVCg0MDAsImJhZF9yZXF1ZXN0IiwiTWlzc2luZyBKU09OIGxpc3Qgb2YgJ2RvY3MnIikpLHFvPW5ldyBUKDQwNCwibm90X2ZvdW5kIiwibWlzc2luZyIpLEFvPW5ldyBUKDQwOSwiY29uZmxpY3QiLCJEb2N1bWVudCB1cGRhdGUgY29uZmxpY3QiKSx4bz1uZXcgVCg0MDAsImJhZF9yZXF1ZXN0IiwiX2lkIGZpZWxkIG11c3QgY29udGFpbiBhIHN0cmluZyIpLE9vPW5ldyBUKDQxMiwibWlzc2luZ19pZCIsIl9pZCBpcyByZXF1aXJlZCBmb3IgcHV0cyIpLFRvPW5ldyBUKDQwMCwiYmFkX3JlcXVlc3QiLCJPbmx5IHJlc2VydmVkIGRvY3VtZW50IGlkcyBtYXkgc3RhcnQgd2l0aCB1bmRlcnNjb3JlLiIpLGpvPShuZXcgVCg0MTIsInByZWNvbmRpdGlvbl9mYWlsZWQiLCJEYXRhYmFzZSBub3Qgb3BlbiIpLG5ldyBUKDUwMCwidW5rbm93bl9lcnJvciIsIkRhdGFiYXNlIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3IiKSksQ289bmV3IFQoNTAwLCJiYWRhcmciLCJTb21lIHF1ZXJ5IGFyZ3VtZW50IGlzIGludmFsaWQiKSxMbz0obmV3IFQoNDAwLCJpbnZhbGlkX3JlcXVlc3QiLCJSZXF1ZXN0IHdhcyBpbnZhbGlkIiksbmV3IFQoNDAwLCJxdWVyeV9wYXJzZV9lcnJvciIsIlNvbWUgcXVlcnkgcGFyYW1ldGVyIGlzIGludmFsaWQiKSksSW89bmV3IFQoNTAwLCJkb2NfdmFsaWRhdGlvbiIsIkJhZCBzcGVjaWFsIGRvY3VtZW50IG1lbWJlciIpLERvPW5ldyBUKDQwMCwiYmFkX3JlcXVlc3QiLCJTb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGUgcmVxdWVzdCIpLFJvPW5ldyBUKDQwMCwiYmFkX3JlcXVlc3QiLCJEb2N1bWVudCBtdXN0IGJlIGEgSlNPTiBvYmplY3QiKSxObz0obmV3IFQoNDA0LCJub3RfZm91bmQiLCJEYXRhYmFzZSBub3QgZm91bmQiKSxuZXcgVCg1MDAsImluZGV4ZWRfZGJfd2VudF9iYWQiLCJ1bmtub3duIikpLEJvPW5ldyBUKDUwMCwid2ViX3NxbF93ZW50X2JhZCIsInVua25vd24iKSwkbz0obmV3IFQoNTAwLCJsZXZlbERCX3dlbnRfd2VudF9iYWQiLCJ1bmtub3duIiksbmV3IFQoNDAzLCJmb3JiaWRkZW4iLCJGb3JiaWRkZW4gYnkgZGVzaWduIGRvYyB2YWxpZGF0ZV9kb2NfdXBkYXRlIGZ1bmN0aW9uIiksbmV3IFQoNDAwLCJiYWRfcmVxdWVzdCIsIkludmFsaWQgcmV2IGZvcm1hdCIpKSxGbz0obmV3IFQoNDEyLCJmaWxlX2V4aXN0cyIsIlRoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgY3JlYXRlZCwgdGhlIGZpbGUgYWxyZWFkeSBleGlzdHMuIiksbmV3IFQoNDEyLCJtaXNzaW5nX3N0dWIiLCJBIHByZS1leGlzdGluZyBhdHRhY2htZW50IHN0dWIgd2Fzbid0IGZvdW5kIikpLE1vPShuZXcgVCg0MTMsImludmFsaWRfdXJsIiwiUHJvdmlkZWQgVVJMIGlzIGludmFsaWQiKSxSLm5hbWUpO3ZhciBQbz1bInNvdXJjZSIsInByb3RvY29sIiwiYXV0aG9yaXR5IiwidXNlckluZm8iLCJ1c2VyIiwicGFzc3dvcmQiLCJob3N0IiwicG9ydCIsInJlbGF0aXZlIiwicGF0aCIsImRpcmVjdG9yeSIsImZpbGUiLCJxdWVyeSIsImFuY2hvciJdLFVvPSJxdWVyeUtleSIsSm89Lyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nLEhvPS9eKD86KD8hW146QF0rOlteOkBcL10qQCkoW146XC8/Iy5dKyk6KT8oPzpcL1wvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcLz8jXSopKD86OihcZCopKT8pKCgoXC8oPzpbXj8jXSg/IVtePyNcL10qXC5bXj8jXC8uXSsoPzpbPyNdfCQpKSkqXC8/KT8oW14/I1wvXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvLFdvPSIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIuc3BsaXQoIiIpO2NvKHZlLHVvLkV2ZW50RW1pdHRlciksdmUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuaXNDYW5jZWxsZWQ9ITAsdGhpcy5kYi50YXNrcXVldWUuaXNSZWFkeSYmdGhpcy5lbWl0KCJjYW5jZWwiKX0sdmUucHJvdG90eXBlLnZhbGlkYXRlQ2hhbmdlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbXBsZXRlLG49dGhpcztUZS5fY2hhbmdlc0ZpbHRlclBsdWdpbj9UZS5fY2hhbmdlc0ZpbHRlclBsdWdpbi52YWxpZGF0ZShlLGZ1bmN0aW9uKHIpe2lmKHIpcmV0dXJuIHQocik7bi5kb0NoYW5nZXMoZSl9KTpuLmRvQ2hhbmdlcyhlKX0sdmUucHJvdG90eXBlLmRvQ2hhbmdlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5jb21wbGV0ZTtpZihlPXUoZSksImxpdmUiaW4gZSYmISgiY29udGludW91cyJpbiBlKSYmKGUuY29udGludW91cz1lLmxpdmUpLGUucHJvY2Vzc0NoYW5nZT1nZSwibGF0ZXN0Ij09PWUuc2luY2UmJihlLnNpbmNlPSJub3ciKSxlLnNpbmNlfHwoZS5zaW5jZT0wKSwibm93Ij09PWUuc2luY2UpcmV0dXJuIHZvaWQgdGhpcy5kYi5pbmZvKCkudGhlbihmdW5jdGlvbihyKXtpZih0LmlzQ2FuY2VsbGVkKXJldHVybiB2b2lkIG4obnVsbCx7c3RhdHVzOiJjYW5jZWxsZWQifSk7ZS5zaW5jZT1yLnVwZGF0ZV9zZXEsdC5kb0NoYW5nZXMoZSl9LG4pO2lmKFRlLl9jaGFuZ2VzRmlsdGVyUGx1Z2luKXtpZihUZS5fY2hhbmdlc0ZpbHRlclBsdWdpbi5ub3JtYWxpemUoZSksVGUuX2NoYW5nZXNGaWx0ZXJQbHVnaW4uc2hvdWxkRmlsdGVyKHRoaXMsZSkpcmV0dXJuIFRlLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLmZpbHRlcih0aGlzLGUpfWVsc2VbImRvY19pZHMiLCJmaWx0ZXIiLCJzZWxlY3RvciIsInZpZXciXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QgaW4gZSYmcSgid2FybiIsJ1RoZSAiJyt0KyciIG9wdGlvbiB3YXMgcGFzc2VkIGluIHRvIGNoYW5nZXMvcmVwbGljYXRlLCBidXQgcG91Y2hkYi1jaGFuZ2VzLWZpbHRlciBwbHVnaW4gaXMgbm90IGluc3RhbGxlZCwgc28gaXQgd2FzIGlnbm9yZWQuIFBsZWFzZSBpbnN0YWxsIHRoZSBwbHVnaW4gdG8gZW5hYmxlIGZpbHRlcmluZy4nKX0pOyJkZXNjZW5kaW5nImluIGV8fChlLmRlc2NlbmRpbmc9ITEpLGUubGltaXQ9MD09PWUubGltaXQ/MTplLmxpbWl0LGUuY29tcGxldGU9bjt2YXIgcj10aGlzLmRiLl9jaGFuZ2VzKGUpO2lmKHImJiJmdW5jdGlvbiI9PXR5cGVvZiByLmNhbmNlbCl7dmFyIG89dC5jYW5jZWw7dC5jYW5jZWw9YW8oZnVuY3Rpb24oZSl7ci5jYW5jZWwoKSxvLmFwcGx5KHRoaXMsZSl9KX19LGNvKHFlLHVvLkV2ZW50RW1pdHRlcikscWUucHJvdG90eXBlLnBvc3Q9ZCgicG9zdCIsZnVuY3Rpb24oZSx0LG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9e30pLCJvYmplY3QiIT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbihqKFJvKSk7dGhpcy5idWxrRG9jcyh7ZG9jczpbZV19LHQsX2UobikpfSkscWUucHJvdG90eXBlLnB1dD1kKCJwdXQiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KSwib2JqZWN0IiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSk/bihqKFJvKSk6KE4oZS5faWQpLGRlKGUuX2lkKSYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX3B1dExvY2FsP2UuX2RlbGV0ZWQ/dGhpcy5fcmVtb3ZlTG9jYWwoZSxuKTp0aGlzLl9wdXRMb2NhbChlLG4pOnZvaWQoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX3B1dCYmdC5uZXdfZWRpdHMhPT0hMT90aGlzLl9wdXQoZSx0LG4pOnRoaXMuYnVsa0RvY3Moe2RvY3M6W2VdfSx0LF9lKG4pKSkpfSkscWUucHJvdG90eXBlLnB1dEF0dGFjaG1lbnQ9ZCgicHV0QXR0YWNobWVudCIsZnVuY3Rpb24oZSx0LG4scixvKXtmdW5jdGlvbiBpKGUpe3ZhciBuPSJfcmV2ImluIGU/cGFyc2VJbnQoZS5fcmV2LDEwKTowO3JldHVybiBlLl9hdHRhY2htZW50cz1lLl9hdHRhY2htZW50c3x8e30sZS5fYXR0YWNobWVudHNbdF09e2NvbnRlbnRfdHlwZTpvLGRhdGE6cixyZXZwb3M6KytufSxzLnB1dChlKX12YXIgcz10aGlzO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBvJiYobz1yLHI9bixuPW51bGwpLHZvaWQgMD09PW8mJihvPXIscj1uLG49bnVsbCksb3x8cSgid2FybiIsIkF0dGFjaG1lbnQiLHQsIm9uIGRvY3VtZW50IixlLCJpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZSIpLHMuZ2V0KGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZS5fcmV2IT09bil0aHJvdyBqKEFvKTtyZXR1cm4gaShlKX0sZnVuY3Rpb24odCl7aWYodC5yZWFzb249PT1xby5tZXNzYWdlKXJldHVybiBpKHtfaWQ6ZX0pO3Rocm93IHR9KX0pLHFlLnByb3RvdHlwZS5yZW1vdmVBdHRhY2htZW50PWQoInJlbW92ZUF0dGFjaG1lbnQiLGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXRoaXM7by5nZXQoZSxmdW5jdGlvbihlLGkpe3JldHVybiBlP3ZvaWQgcihlKTppLl9yZXYhPT1uP3ZvaWQgcihqKEFvKSk6aS5fYXR0YWNobWVudHM/KGRlbGV0ZSBpLl9hdHRhY2htZW50c1t0XSwwPT09T2JqZWN0LmtleXMoaS5fYXR0YWNobWVudHMpLmxlbmd0aCYmZGVsZXRlIGkuX2F0dGFjaG1lbnRzLHZvaWQgby5wdXQoaSxyKSk6cigpfSl9KSxxZS5wcm90b3R5cGUucmVtb3ZlPWQoInJlbW92ZSIsZnVuY3Rpb24oZSx0LG4scil7dmFyIG87InN0cmluZyI9PXR5cGVvZiB0PyhvPXtfaWQ6ZSxfcmV2OnR9LCJmdW5jdGlvbiI9PXR5cGVvZiBuJiYocj1uLG49e30pKToobz1lLCJmdW5jdGlvbiI9PXR5cGVvZiB0PyhyPXQsbj17fSk6KHI9bixuPXQpKSxuPW58fHt9LG4ud2FzX2RlbGV0ZT0hMDt2YXIgaT17X2lkOm8uX2lkLF9yZXY6by5fcmV2fHxuLnJldn07aWYoaS5fZGVsZXRlZD0hMCxkZShpLl9pZCkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9yZW1vdmVMb2NhbClyZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwobyxyKTt0aGlzLmJ1bGtEb2NzKHtkb2NzOltpXX0sbixfZShyKSl9KSxxZS5wcm90b3R5cGUucmV2c0RpZmY9ZCgicmV2c0RpZmYiLGZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUsdCl7YS5oYXMoZSl8fGEuc2V0KGUse21pc3Npbmc6W119KSxhLmdldChlKS5taXNzaW5nLnB1c2godCl9ZnVuY3Rpb24gbyh0LG4pe3ZhciBvPWVbdF0uc2xpY2UoMCk7WChuLGZ1bmN0aW9uKGUsbixpLHMsYSl7dmFyIHU9bisiLSIraSxjPW8uaW5kZXhPZih1KTtjIT09LTEmJihvLnNwbGljZShjLDEpLCJhdmFpbGFibGUiIT09YS5zdGF0dXMmJnIodCx1KSl9KSxvLmZvckVhY2goZnVuY3Rpb24oZSl7cih0LGUpfSl9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSk7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoIWkubGVuZ3RoKXJldHVybiBuKG51bGwse30pO3ZhciBzPTAsYT1uZXcgbW87aS5tYXAoZnVuY3Rpb24odCl7dGhpcy5fZ2V0UmV2aXNpb25UcmVlKHQsZnVuY3Rpb24ocix1KXtpZihyJiY0MDQ9PT1yLnN0YXR1cyYmIm1pc3NpbmciPT09ci5tZXNzYWdlKWEuc2V0KHQse21pc3Npbmc6ZVt0XX0pO2Vsc2V7aWYocilyZXR1cm4gbihyKTtvKHQsdSl9aWYoKytzPT09aS5sZW5ndGgpe3ZhciBjPXt9O3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24oZSx0KXtjW3RdPWV9KSxuKG51bGwsYyl9fSl9LHRoaXMpfSkscWUucHJvdG90eXBlLmJ1bGtHZXQ9ZCgiYnVsa0dldCIsZnVuY3Rpb24oZSx0KXtiKHRoaXMsZSx0KX0pLHFlLnByb3RvdHlwZS5jb21wYWN0RG9jdW1lbnQ9ZCgiY29tcGFjdERvY3VtZW50IixmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpczt0aGlzLl9nZXRSZXZpc2lvblRyZWUoZSxmdW5jdGlvbihvLGkpe2lmKG8pcmV0dXJuIG4obyk7dmFyIHM9d2UoaSksYT1bXSx1PVtdO09iamVjdC5rZXlzKHMpLmZvckVhY2goZnVuY3Rpb24oZSl7c1tlXT50JiZhLnB1c2goZSl9KSxYKGksZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT10KyItIituOyJhdmFpbGFibGUiPT09by5zdGF0dXMmJmEuaW5kZXhPZihpKSE9PS0xJiZ1LnB1c2goaSl9KSxyLl9kb0NvbXBhY3Rpb24oZSx1LG4pfSl9KSxxZS5wcm90b3R5cGUuY29tcGFjdD1kKCJjb21wYWN0IixmdW5jdGlvbihlLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBlJiYodD1lLGU9e30pO3ZhciBuPXRoaXM7ZT1lfHx7fSxuLl9jb21wYWN0aW9uUXVldWU9bi5fY29tcGFjdGlvblF1ZXVlfHxbXSxuLl9jb21wYWN0aW9uUXVldWUucHVzaCh7b3B0czplLGNhbGxiYWNrOnR9KSwxPT09bi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCYmU2Uobil9KSxxZS5wcm90b3R5cGUuX2NvbXBhY3Q9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3MucHVzaChvLmNvbXBhY3REb2N1bWVudChlLmlkLDApKX1mdW5jdGlvbiByKGUpe3ZhciBuPWUubGFzdF9zZXE7dm8uYWxsKHMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gSihvLCJfbG9jYWwvY29tcGFjdGlvbiIsZnVuY3Rpb24oZSl7cmV0dXJuKCFlLmxhc3Rfc2VxfHxlLmxhc3Rfc2VxPG4pJiYoZS5sYXN0X3NlcT1uLGUpfSl9KS50aGVuKGZ1bmN0aW9uKCl7dChudWxsLHtvazohMH0pfSkuY2F0Y2godCl9dmFyIG89dGhpcyxpPXtyZXR1cm5fZG9jczohMSxsYXN0X3NlcTplLmxhc3Rfc2VxfHwwfSxzPVtdO28uY2hhbmdlcyhpKS5vbigiY2hhbmdlIixuKS5vbigiY29tcGxldGUiLHIpLm9uKCJlcnJvciIsdCl9LHFlLnByb3RvdHlwZS5nZXQ9ZCgiZ2V0IixmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3ZhciByPVtdLHM9by5sZW5ndGg7aWYoIXMpcmV0dXJuIG4obnVsbCxyKTtvLmZvckVhY2goZnVuY3Rpb24obyl7aS5nZXQoZSx7cmV2Om8scmV2czp0LnJldnMsbGF0ZXN0OnQubGF0ZXN0LGF0dGFjaG1lbnRzOnQuYXR0YWNobWVudHN9LGZ1bmN0aW9uKGUsdCl7aWYoZSlyLnB1c2goe21pc3Npbmc6b30pO2Vsc2V7Zm9yKHZhciBpLGE9MCx1PXIubGVuZ3RoO2E8dTthKyspaWYoclthXS5vayYmclthXS5vay5fcmV2PT09dC5fcmV2KXtpPSEwO2JyZWFrfWl8fHIucHVzaCh7b2s6dH0pfS0tc3x8bihudWxsLHIpfSl9KX1pZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KSwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG4oaih4bykpO2lmKGRlKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fZ2V0TG9jYWwpcmV0dXJuIHRoaXMuX2dldExvY2FsKGUsbik7dmFyIG89W10saT10aGlzCjtpZighdC5vcGVuX3JldnMpcmV0dXJuIHRoaXMuX2dldChlLHQsZnVuY3Rpb24oZSxyKXtpZihlKXJldHVybiBuKGUpO3ZhciBvPXIuZG9jLHM9ci5tZXRhZGF0YSxhPXIuY3R4O2lmKHQuY29uZmxpY3RzKXt2YXIgdT1RKHMpO3UubGVuZ3RoJiYoby5fY29uZmxpY3RzPXUpfWlmKGxlKHMsby5fcmV2KSYmKG8uX2RlbGV0ZWQ9ITApLHQucmV2c3x8dC5yZXZzX2luZm8pe2Zvcih2YXIgYz1vLl9yZXYuc3BsaXQoIi0iKSxmPXBhcnNlSW50KGNbMF0sMTApLGw9Y1sxXSxkPVoocy5yZXZfdHJlZSksaD1udWxsLHA9MDtwPGQubGVuZ3RoO3ArKyl7dmFyIHY9ZFtwXSxnPXYuaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pLmluZGV4T2YobCk7KGc9PT1mLTF8fCFoJiZnIT09LTEpJiYoaD12KX12YXIgeT1oLmlkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KS5pbmRleE9mKG8uX3Jldi5zcGxpdCgiLSIpWzFdKSsxLF89aC5pZHMubGVuZ3RoLXk7aWYoaC5pZHMuc3BsaWNlKHksXyksaC5pZHMucmV2ZXJzZSgpLHQucmV2cyYmKG8uX3JldmlzaW9ucz17c3RhcnQ6aC5wb3MraC5pZHMubGVuZ3RoLTEsaWRzOmguaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pfSksdC5yZXZzX2luZm8pe3ZhciBtPWgucG9zK2guaWRzLmxlbmd0aDtvLl9yZXZzX2luZm89aC5pZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBtLS0se3JldjptKyItIitlLmlkLHN0YXR1czplLm9wdHMuc3RhdHVzfX0pfX1pZih0LmF0dGFjaG1lbnRzJiZvLl9hdHRhY2htZW50cyl7dmFyIGI9by5fYXR0YWNobWVudHMsdz1PYmplY3Qua2V5cyhiKS5sZW5ndGg7aWYoMD09PXcpcmV0dXJuIG4obnVsbCxvKTtPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuX2dldEF0dGFjaG1lbnQoby5faWQsZSxiW2VdLHtyZXY6by5fcmV2LGJpbmFyeTp0LmJpbmFyeSxjdHg6YX0sZnVuY3Rpb24odCxyKXt2YXIgaT1vLl9hdHRhY2htZW50c1tlXTtpLmRhdGE9cixkZWxldGUgaS5zdHViLGRlbGV0ZSBpLmxlbmd0aCwtLXd8fG4obnVsbCxvKX0pfSxpKX1lbHNle2lmKG8uX2F0dGFjaG1lbnRzKWZvcih2YXIgRSBpbiBvLl9hdHRhY2htZW50cylvLl9hdHRhY2htZW50cy5oYXNPd25Qcm9wZXJ0eShFKSYmKG8uX2F0dGFjaG1lbnRzW0VdLnN0dWI9ITApO24obnVsbCxvKX19KTtpZigiYWxsIj09PXQub3Blbl9yZXZzKXRoaXMuX2dldFJldmlzaW9uVHJlZShlLGZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gbihlKTtvPVYodCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldn0pLHIoKX0pO2Vsc2V7aWYoIUFycmF5LmlzQXJyYXkodC5vcGVuX3JldnMpKXJldHVybiBuKGooam8sImZ1bmN0aW9uX2NsYXVzZSIpKTtvPXQub3Blbl9yZXZzO2Zvcih2YXIgcz0wO3M8by5sZW5ndGg7cysrKXt2YXIgYT1vW3NdO2lmKCJzdHJpbmciIT10eXBlb2YgYXx8IS9eXGQrLS8udGVzdChhKSlyZXR1cm4gbihqKCRvKSl9cigpfX0pLHFlLnByb3RvdHlwZS5nZXRBdHRhY2htZW50PWQoImdldEF0dGFjaG1lbnQiLGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXRoaXM7biBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYocj1uLG49e30pLHRoaXMuX2dldChlLG4sZnVuY3Rpb24oaSxzKXtyZXR1cm4gaT9yKGkpOnMuZG9jLl9hdHRhY2htZW50cyYmcy5kb2MuX2F0dGFjaG1lbnRzW3RdPyhuLmN0eD1zLmN0eCxuLmJpbmFyeT0hMCxvLl9nZXRBdHRhY2htZW50KGUsdCxzLmRvYy5fYXR0YWNobWVudHNbdF0sbixyKSx2b2lkIDApOnIoaihxbykpfSl9KSxxZS5wcm90b3R5cGUuYWxsRG9jcz1kKCJhbGxEb2NzIixmdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYodD1lLGU9e30pLGUuc2tpcD12b2lkIDAhPT1lLnNraXA/ZS5za2lwOjAsZS5zdGFydF9rZXkmJihlLnN0YXJ0a2V5PWUuc3RhcnRfa2V5KSxlLmVuZF9rZXkmJihlLmVuZGtleT1lLmVuZF9rZXkpLCJrZXlzImluIGUpe2lmKCFBcnJheS5pc0FycmF5KGUua2V5cykpcmV0dXJuIHQobmV3IFR5cGVFcnJvcigib3B0aW9ucy5rZXlzIG11c3QgYmUgYW4gYXJyYXkiKSk7dmFyIG49WyJzdGFydGtleSIsImVuZGtleSIsImtleSJdLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCBpbiBlfSlbMF07aWYobilyZXR1cm4gdm9pZCB0KGooTG8sIlF1ZXJ5IHBhcmFtZXRlciBgIituKyJgIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggbXVsdGktZ2V0IikpO2lmKCFCKHRoaXMpKXJldHVybiBFZSh0aGlzLGUsdCl9cmV0dXJuIHRoaXMuX2FsbERvY3MoZSx0KX0pLHFlLnByb3RvdHlwZS5jaGFuZ2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJih0PWUsZT17fSksbmV3IHZlKHRoaXMsZSx0KX0scWUucHJvdG90eXBlLmNsb3NlPWQoImNsb3NlIixmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY2xvc2VkPSEwLHRoaXMuZW1pdCgiY2xvc2VkIiksdGhpcy5fY2xvc2UoZSl9KSxxZS5wcm90b3R5cGUuaW5mbz1kKCJpbmZvIixmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2luZm8oZnVuY3Rpb24obixyKXtpZihuKXJldHVybiBlKG4pO3IuZGJfbmFtZT1yLmRiX25hbWV8fHQubmFtZSxyLmF1dG9fY29tcGFjdGlvbj0hKCF0LmF1dG9fY29tcGFjdGlvbnx8Qih0KSksci5hZGFwdGVyPXQuYWRhcHRlcixlKG51bGwscil9KX0pLHFlLnByb3RvdHlwZS5pZD1kKCJpZCIsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2lkKGUpfSkscWUucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fdHlwZT90aGlzLl90eXBlKCk6dGhpcy5hZGFwdGVyfSxxZS5wcm90b3R5cGUuYnVsa0RvY3M9ZCgiYnVsa0RvY3MiLGZ1bmN0aW9uKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KSx0PXR8fHt9LEFycmF5LmlzQXJyYXkoZSkmJihlPXtkb2NzOmV9KSwhZXx8IWUuZG9jc3x8IUFycmF5LmlzQXJyYXkoZS5kb2NzKSlyZXR1cm4gbihqKGtvKSk7Zm9yKHZhciByPTA7cjxlLmRvY3MubGVuZ3RoOysrcilpZigib2JqZWN0IiE9dHlwZW9mIGUuZG9jc1tyXXx8QXJyYXkuaXNBcnJheShlLmRvY3Nbcl0pKXJldHVybiBuKGooUm8pKTt2YXIgbztpZihlLmRvY3MuZm9yRWFjaChmdW5jdGlvbihlKXtlLl9hdHRhY2htZW50cyYmT2JqZWN0LmtleXMoZS5fYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24odCl7bz1vfHxrZSh0KSxlLl9hdHRhY2htZW50c1t0XS5jb250ZW50X3R5cGV8fHEoIndhcm4iLCJBdHRhY2htZW50Iix0LCJvbiBkb2N1bWVudCIsZS5faWQsImlzIG1pc3NpbmcgY29udGVudF90eXBlIil9KX0pLG8pcmV0dXJuIG4oaihEbyxvKSk7Im5ld19lZGl0cyJpbiB0fHwodC5uZXdfZWRpdHM9ISgibmV3X2VkaXRzImluIGUpfHxlLm5ld19lZGl0cyk7dmFyIGk9dGhpczt0Lm5ld19lZGl0c3x8QihpKXx8ZS5kb2NzLnNvcnQoYmUpLG1lKGUuZG9jcyk7dmFyIHM9ZS5kb2NzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5faWR9KTtyZXR1cm4gdGhpcy5fYnVsa0RvY3MoZSx0LGZ1bmN0aW9uKGUscil7aWYoZSlyZXR1cm4gbihlKTtpZih0Lm5ld19lZGl0c3x8KHI9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3J9KSksIUIoaSkpZm9yKHZhciBvPTAsYT1yLmxlbmd0aDtvPGE7bysrKXJbb10uaWQ9cltvXS5pZHx8c1tvXTtuKG51bGwscil9KX0pLHFlLnByb3RvdHlwZS5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlPWQoInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdC5kZXBlbmRlbnREYnM9dC5kZXBlbmRlbnREYnN8fHt9LCF0LmRlcGVuZGVudERic1tlXSYmKHQuZGVwZW5kZW50RGJzW2VdPSEwLHQpfXZhciByPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGUsdGhpcy5fX29wdHMpO0oodGhpcywiX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMiLG4pLnRoZW4oZnVuY3Rpb24oKXt0KG51bGwse2RiOnJ9KX0pLmNhdGNoKHQpfSkscWUucHJvdG90eXBlLmRlc3Ryb3k9ZCgiZGVzdHJveSIsZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7ci5fZGVzdHJveShlLGZ1bmN0aW9uKGUsbil7aWYoZSlyZXR1cm4gdChlKTtyLl9kZXN0cm95ZWQ9ITAsci5lbWl0KCJkZXN0cm95ZWQiKSx0KG51bGwsbnx8e29rOiEwfSl9KX0iZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KTt2YXIgcj10aGlzLG89ISgidXNlX3ByZWZpeCJpbiByKXx8ci51c2VfcHJlZml4O2lmKEIocikpcmV0dXJuIG4oKTtyLmdldCgiX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMiLGZ1bmN0aW9uKGUsaSl7aWYoZSlyZXR1cm4gNDA0IT09ZS5zdGF0dXM/dChlKTpuKCk7dmFyIHM9aS5kZXBlbmRlbnREYnMsYT1yLmNvbnN0cnVjdG9yLHU9T2JqZWN0LmtleXMocykubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW8/ZS5yZXBsYWNlKG5ldyBSZWdFeHAoIl4iK2EucHJlZml4KSwiIik6ZTtyZXR1cm4gbmV3IGEodCxyLl9fb3B0cykuZGVzdHJveSgpfSk7dm8uYWxsKHUpLnRoZW4obix0KX0pfSksQWUucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgZTtpZih0aGlzLmZhaWxlZClmb3IoO2U9dGhpcy5xdWV1ZS5zaGlmdCgpOyllKHRoaXMuZmFpbGVkKTtlbHNlIGZvcig7ZT10aGlzLnF1ZXVlLnNoaWZ0KCk7KWUoKX0sQWUucHJvdG90eXBlLmZhaWw9ZnVuY3Rpb24oZSl7dGhpcy5mYWlsZWQ9ZSx0aGlzLmV4ZWN1dGUoKX0sQWUucHJvdG90eXBlLnJlYWR5PWZ1bmN0aW9uKGUpe3RoaXMuaXNSZWFkeT0hMCx0aGlzLmRiPWUsdGhpcy5leGVjdXRlKCl9LEFlLnByb3RvdHlwZS5hZGRUYXNrPWZ1bmN0aW9uKGUpe3RoaXMucXVldWUucHVzaChlKSx0aGlzLmZhaWxlZCYmdGhpcy5leGVjdXRlKCl9LGNvKFRlLHFlKSxUZS5hZGFwdGVycz17fSxUZS5wcmVmZXJyZWRBZGFwdGVycz1bXSxUZS5wcmVmaXg9Il9wb3VjaF8iO3ZhciB6bz1uZXcgdW8uRXZlbnRFbWl0dGVyOyFmdW5jdGlvbihlKXtPYmplY3Qua2V5cyh1by5FdmVudEVtaXR0ZXIucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpeyJmdW5jdGlvbiI9PXR5cGVvZiB1by5FdmVudEVtaXR0ZXIucHJvdG90eXBlW3RdJiYoZVt0XT16b1t0XS5iaW5kKHpvKSl9KTt2YXIgdD1lLl9kZXN0cnVjdGlvbkxpc3RlbmVycz1uZXcgbW87ZS5vbigiZGVzdHJveWVkIixmdW5jdGlvbihlKXt0LmdldChlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UoKX0pLHQuZGVsZXRlKGUpfSl9KFRlKSxUZS5hZGFwdGVyPWZ1bmN0aW9uKGUsdCxuKXt0LnZhbGlkKCkmJihUZS5hZGFwdGVyc1tlXT10LG4mJlRlLnByZWZlcnJlZEFkYXB0ZXJzLnB1c2goZSkpfSxUZS5wbHVnaW49ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpZShUZSk7ZWxzZXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBsdWdpbjogZ290ICInK2UrJyIsIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uJyk7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtUZS5wcm90b3R5cGVbdF09ZVt0XX0pfXJldHVybiB0aGlzLl9fZGVmYXVsdHMmJihUZS5fX2RlZmF1bHRzPVNvKHt9LHRoaXMuX19kZWZhdWx0cykpLFRlfSxUZS5kZWZhdWx0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgdCkpcmV0dXJuIG5ldyB0KGUsbik7bj1ufHx7fSxlJiYib2JqZWN0Ij09dHlwZW9mIGUmJihuPWUsZT1uLm5hbWUsZGVsZXRlIG4ubmFtZSksbj1Tbyh7fSx0Ll9fZGVmYXVsdHMsbiksVGUuY2FsbCh0aGlzLGUsbil9cmV0dXJuIGNvKHQsVGUpLHQucHJlZmVycmVkQWRhcHRlcnM9VGUucHJlZmVycmVkQWRhcHRlcnMuc2xpY2UoKSxPYmplY3Qua2V5cyhUZSkuZm9yRWFjaChmdW5jdGlvbihlKXtlIGluIHR8fCh0W2VdPVRlW2VdKX0pLHQuX19kZWZhdWx0cz1Tbyh7fSx0aGlzLl9fZGVmYXVsdHMsZSksdH07dmFyIEtvPVsiJG9yIiwiJG5vciIsIiRub3QiXSxYbz0tMzI0LEdvPTMsVm89IiIsUW89eyRlbGVtTWF0Y2g6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuISFBcnJheS5pc0FycmF5KHIpJiYoMCE9PXIubGVuZ3RoJiYoIm9iamVjdCI9PXR5cGVvZiByWzBdP3Iuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gaXQoZSx0LE9iamVjdC5rZXlzKHQpKX0pOnIuc29tZShmdW5jdGlvbihyKXtyZXR1cm4gYXQodCxlLG4scil9KSkpfSwkZXE6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGx0KHIpJiYwPT09V2Uocix0KX0sJGd0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbHQocikmJldlKHIsdCk+PTB9LCRndDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbHQocikmJldlKHIsdCk+MH0sJGx0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbHQocikmJldlKHIsdCk8PTB9LCRsdDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbHQocikmJldlKHIsdCk8MH0sJGV4aXN0czpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdD9sdChyKTohbHQocil9LCRtb2Q6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGZ0KHIpJiZkdChyLHQpfSwkbmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHQuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1XZShyLGUpfSl9LCRpbjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gZnQocikmJmh0KHIsdCl9LCRuaW46ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGZ0KHIpJiYhaHQocix0KX0sJHNpemU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGZ0KHIpJiZ2dChyLHQpfSwkYWxsOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBBcnJheS5pc0FycmF5KHIpJiZwdChyLHQpfSwkcmVnZXg6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGZ0KHIpJiZndChyLHQpfSwkdHlwZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4geXQocix0KX19O1RlLnBsdWdpbihqZSksVGUucGx1Z2luKHF0KSxUZS52ZXJzaW9uPSI2LjIuMCI7dmFyIFlvLFpvPUF0KFsiX2lkIiwiX3JldiIsIl9hdHRhY2htZW50cyIsIl9kZWxldGVkIiwiX3JldmlzaW9ucyIsIl9yZXZzX2luZm8iLCJfY29uZmxpY3RzIiwiX2RlbGV0ZWRfY29uZmxpY3RzIiwiX2xvY2FsX3NlcSIsIl9yZXZfdHJlZSIsIl9yZXBsaWNhdGlvbl9pZCIsIl9yZXBsaWNhdGlvbl9zdGF0ZSIsIl9yZXBsaWNhdGlvbl9zdGF0ZV90aW1lIiwiX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbiIsIl9yZXBsaWNhdGlvbl9zdGF0cyIsIl9yZW1vdmVkIl0pLGVpPUF0KFsiX2F0dGFjaG1lbnRzIiwiX3JlcGxpY2F0aW9uX2lkIiwiX3JlcGxpY2F0aW9uX3N0YXRlIiwiX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUiLCJfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uIiwiX3JlcGxpY2F0aW9uX3N0YXRzIl0pLHRpPWZ1bmN0aW9uKGUpe3JldHVybiBhdG9iKGUpfSxuaT1mdW5jdGlvbihlKXtyZXR1cm4gYnRvYShlKX0scmk9bi5zZXRJbW1lZGlhdGV8fG4uc2V0VGltZW91dCxvaT0zMjc2OCxpaT01LHNpPSJkb2N1bWVudC1zdG9yZSIsYWk9ImJ5LXNlcXVlbmNlIix1aT0iYXR0YWNoLXN0b3JlIixjaT0iYXR0YWNoLXNlcS1zdG9yZSIsZmk9Im1ldGEtc3RvcmUiLGxpPSJsb2NhbC1zdG9yZSIsZGk9ImRldGVjdC1ibG9iLXN1cHBvcnQiLGhpPW5ldyBrLHBpPSExLHZpPVtdLGdpPW5ldyBtbyx5aT1uZXcgbW87RW4udmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hKCJ1bmRlZmluZWQiIT10eXBlb2Ygb3BlbkRhdGFiYXNlJiYvKFNhZmFyaXxpUGhvbmV8aVBhZHxpUG9kKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIS9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJiEvQmxhY2tCZXJyeS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBpbmRleGVkREImJiJ1bmRlZmluZWQiIT10eXBlb2YgSURCS2V5UmFuZ2V9O3ZhciBfaT1mdW5jdGlvbihlKXtlLmFkYXB0ZXIoImlkYiIsRW4sITApfSxtaT03LGJpPWpuKCJkb2N1bWVudC1zdG9yZSIpLHdpPWpuKCJieS1zZXF1ZW5jZSIpLEVpPWpuKCJhdHRhY2gtc3RvcmUiKSxTaT1qbigibG9jYWwtc3RvcmUiKSxraT1qbigibWV0YWRhdGEtc3RvcmUiKSxxaT1qbigiYXR0YWNoLXNlcS1zdG9yZSIpLEFpPW5ldyBtbyx4aT1uZXcgayxPaT0xLFRpPSJDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyAnYnktc2VxLWRlbGV0ZWQtaWR4JyBPTiAiK3dpKyIgKHNlcSwgZGVsZXRlZCkiLGppPSJDUkVBVEUgVU5JUVVFIElOREVYIElGIE5PVCBFWElTVFMgJ2J5LXNlcS1kb2MtaWQtcmV2JyBPTiAiK3dpKyIgKGRvY19pZCwgcmV2KSIsQ2k9IkNSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTICdkb2Mtd2lubmluZ3NlcS1pZHgnIE9OICIrYmkrIiAod2lubmluZ3NlcSkiLExpPSJDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyAnYXR0YWNoLXNlcS1zZXEtaWR4JyBPTiAiK3FpKyIgKHNlcSkiLElpPSJDUkVBVEUgVU5JUVVFIElOREVYIElGIE5PVCBFWElTVFMgJ2F0dGFjaC1zZXEtZGlnZXN0LWlkeCcgT04gIitxaSsiIChkaWdlc3QsIHNlcSkiLERpPXdpKyIuc2VxID0gIitiaSsiLndpbm5pbmdzZXEiLFJpPXdpKyIuc2VxIEFTIHNlcSwgIit3aSsiLmRlbGV0ZWQgQVMgZGVsZXRlZCwgIit3aSsiLmpzb24gQVMgZGF0YSwgIit3aSsiLnJldiBBUyByZXYsICIrYmkrIi5qc29uIEFTIG1ldGFkYXRhIjtWbi52YWxpZD1YbixWbi51c2VfcHJlZml4PSEwO3ZhciBOaT1mdW5jdGlvbihlKXtlLmFkYXB0ZXIoIndlYnNxbCIsVm4sITApfSxCaT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0LCEwfWNhdGNoKGUpe3JldHVybiExfX0oKSwkaT1mdW5jdGlvbigpe30sRmk9MjUsTWk9NTAsUGk9e307aHIudmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH07dmFyIFVpPWZ1bmN0aW9uKGUpe2UuYWRhcHRlcigiaHR0cCIsaHIsITEpLGUuYWRhcHRlcigiaHR0cHMiLGhyLCExKX07Y28ocHIsRXJyb3IpLGNvKHZyLEVycm9yKSxjbyhncixFcnJvcik7dmFyIEppPXEuYmluZChudWxsLCJsb2ciKSxIaT1BcnJheS5pc0FycmF5LFdpPUpTT04ucGFyc2U7QXIucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wcm9taXNlPXRoaXMucHJvbWlzZS5jYXRjaChmdW5jdGlvbigpe30pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZSgpfSksdGhpcy5wcm9taXNlfSxBci5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvbWlzZX07dmFyIHppPXt9LEtpPW5ldyBBcixYaT01MCxHaT17X3N1bTpmdW5jdGlvbihlLHQpe3JldHVybiBrcih0KX0sX2NvdW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQubGVuZ3RofSxfc3RhdHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm57c3VtOmtyKHQpLG1pbjpNYXRoLm1pbi5hcHBseShudWxsLHQpLG1heDpNYXRoLm1heC5hcHBseShudWxsLHQpLGNvdW50OnQubGVuZ3RoLHN1bXNxcjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXt2YXIgbz1lW25dO3QrPW8qb31yZXR1cm4gdH0odCl9fX0sVmk9ZnVuY3Rpb24oZSx0LG4scil7ZnVuY3Rpb24gbyhlLHQsbil7dHJ5e3Qobil9Y2F0Y2godCl7THIoZSx0KX19ZnVuY3Rpb24gaShlLHQsbixyLG8pe3RyeXtyZXR1cm57b3V0cHV0OnQobixyLG8pfX1jYXRjaCh0KXtyZXR1cm4gTHIoZSx0KSx7ZXJyb3I6dH19fWZ1bmN0aW9uIHMoZSx0KXt2YXIgbj1XZShlLmtleSx0LmtleSk7cmV0dXJuIDAhPT1uP246V2UoZS52YWx1ZSx0LnZhbHVlKX1mdW5jdGlvbiBhKGUsdCxuKXtyZXR1cm4gbj1ufHwwLCJudW1iZXIiPT10eXBlb2YgdD9lLnNsaWNlKG4sdCtuKTpuPjA/ZS5zbGljZShuKTplfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS52YWx1ZTtyZXR1cm4gdCYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0Ll9pZHx8ZS5pZH1mdW5jdGlvbiBjKGUpe2Uucm93cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9jJiZlLmRvYy5fYXR0YWNobWVudHM7dCYmT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj10W2VdO3RbZV0uZGF0YT1JdChuLmRhdGEsbi5jb250ZW50X3R5cGUpfSl9KX1mdW5jdGlvbiBmKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5pbmNsdWRlX2RvY3MmJmUuYXR0YWNobWVudHMmJmUuYmluYXJ5JiZjKHQpLHR9fWZ1bmN0aW9uIGwoZSx0LG4scil7dmFyIG89dFtlXTt2b2lkIDAhPT1vJiYociYmKG89ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG8pKSksbi5wdXNoKGUrIj0iK28pKX1mdW5jdGlvbiBkKGUpe2lmKHZvaWQgMCE9PWUpe3ZhciB0PU51bWJlcihlKTtyZXR1cm4gaXNOYU4odCl8fHQhPT1wYXJzZUludChlLDEwKT9lOnR9fWZ1bmN0aW9uIGgoZSl7cmV0dXJuIGUuZ3JvdXBfbGV2ZWw9ZChlLmdyb3VwX2xldmVsKSxlLmxpbWl0PWQoZS5saW1pdCksZS5za2lwPWQoZS5za2lwKSxlfWZ1bmN0aW9uIHAoZSl7aWYoZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXJldHVybiBuZXcgcHIoJ0ludmFsaWQgdmFsdWUgZm9yIGludGVnZXI6ICInK2UrJyInKTtpZihlPDApcmV0dXJuIG5ldyBwcignSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpdmUgaW50ZWdlcjogIicrZSsnIicpfX1mdW5jdGlvbiB2KGUsdCl7dmFyIG49ZS5kZXNjZW5kaW5nPyJlbmRrZXkiOiJzdGFydGtleSIscj1lLmRlc2NlbmRpbmc/InN0YXJ0a2V5IjoiZW5ka2V5IjtpZih2b2lkIDAhPT1lW25dJiZ2b2lkIDAhPT1lW3JdJiZXZShlW25dLGVbcl0pPjApdGhyb3cgbmV3IHByKCJObyByb3dzIGNhbiBtYXRjaCB5b3VyIGtleSByYW5nZSwgcmV2ZXJzZSB5b3VyIHN0YXJ0X2tleSBhbmQgZW5kX2tleSBvciBzZXQge2Rlc2NlbmRpbmcgOiB0cnVlfSIpO2lmKHQucmVkdWNlJiZlLnJlZHVjZSE9PSExKXtpZihlLmluY2x1ZGVfZG9jcyl0aHJvdyBuZXcgcHIoIntpbmNsdWRlX2RvY3M6dHJ1ZX0gaXMgaW52YWxpZCBmb3IgcmVkdWNlIik7aWYoZS5rZXlzJiZlLmtleXMubGVuZ3RoPjEmJiFlLmdyb3VwJiYhZS5ncm91cF9sZXZlbCl0aHJvdyBuZXcgcHIoIk11bHRpLWtleSBmZXRjaGVzIGZvciByZWR1Y2Ugdmlld3MgbXVzdCB1c2Uge2dyb3VwOiB0cnVlfSIpfVsiZ3JvdXBfbGV2ZWwiLCJsaW1pdCIsInNraXAiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXAoZVt0XSk7aWYobil0aHJvdyBufSl9ZnVuY3Rpb24gZyhlLHQsbil7dmFyIHIsbz1bXSxpPSJHRVQiO2lmKGwoInJlZHVjZSIsbixvKSxsKCJpbmNsdWRlX2RvY3MiLG4sbyksbCgiYXR0YWNobWVudHMiLG4sbyksbCgibGltaXQiLG4sbyksbCgiZGVzY2VuZGluZyIsbixvKSxsKCJncm91cCIsbixvKSxsKCJncm91cF9sZXZlbCIsbixvKSxsKCJza2lwIixuLG8pLGwoInN0YWxlIixuLG8pLGwoImNvbmZsaWN0cyIsbixvKSxsKCJzdGFydGtleSIsbixvLCEwKSxsKCJzdGFydF9rZXkiLG4sbywhMCksbCgiZW5ka2V5IixuLG8sITApLGwoImVuZF9rZXkiLG4sbywhMCksbCgiaW5jbHVzaXZlX2VuZCIsbixvKSxsKCJrZXkiLG4sbywhMCksbz1vLmpvaW4oIiYiKSxvPSIiPT09bz8iIjoiPyIrbyx2b2lkIDAhPT1uLmtleXMpe3ZhciBzPSJrZXlzPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG4ua2V5cykpO3MubGVuZ3RoK28ubGVuZ3RoKzE8PTJlMz9vKz0oIj8iPT09b1swXT8iJiI6Ij8iKStzOihpPSJQT1NUIiwic3RyaW5nIj09dHlwZW9mIHQ/cj17a2V5czpuLmtleXN9OnQua2V5cz1uLmtleXMpfWlmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGE9anIodCk7cmV0dXJuIGUucmVxdWVzdCh7bWV0aG9kOmksdXJsOiJfZGVzaWduLyIrYVswXSsiL192aWV3LyIrYVsxXStvLGJvZHk6cn0pLnRoZW4oZihuKSl9cmV0dXJuIHI9cnx8e30sT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KHRbZV0pP3JbZV09dFtlXTpyW2VdPXRbZV0udG9TdHJpbmcoKX0pLGUucmVxdWVzdCh7bWV0aG9kOiJQT1NUIix1cmw6Il90ZW1wX3ZpZXciK28sYm9keTpyfSkudGhlbihmKG4pKX1mdW5jdGlvbiB5KGUsdCxuKXtyZXR1cm4gbmV3IHZvKGZ1bmN0aW9uKHIsbyl7ZS5fcXVlcnkodCxuLGZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gbyhlKTtyKHQpfSl9KX1mdW5jdGlvbiBfKGUpe3JldHVybiBuZXcgdm8oZnVuY3Rpb24odCxuKXtlLl92aWV3Q2xlYW51cChmdW5jdGlvbihlLHIpe2lmKGUpcmV0dXJuIG4oZSk7dChyKX0pfSl9ZnVuY3Rpb24gbShlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoNDA0PT09dC5zdGF0dXMpcmV0dXJuIGU7dGhyb3cgdH19ZnVuY3Rpb24gYihlLHQsbil7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS5rZXlzLmxlbmd0aD90LmRiLmFsbERvY3Moe2tleXM6ZS5rZXlzLGluY2x1ZGVfZG9jczohMH0pOnZvLnJlc29sdmUoe3Jvd3M6W119KX1mdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciBuPVtdLHI9bmV3IF9vLG89MCxpPXQucm93cy5sZW5ndGg7bzxpO28rKyl7dmFyIHM9dC5yb3dzW29dLGE9cy5kb2M7aWYoYSYmKG4ucHVzaChhKSxyLmFkZChhLl9pZCksYS5fZGVsZXRlZD0hdS5oYXMoYS5faWQpLCFhLl9kZWxldGVkKSl7dmFyIGM9dS5nZXQoYS5faWQpOyJ2YWx1ZSJpbiBjJiYoYS52YWx1ZT1jLnZhbHVlKX19dmFyIGY9RXIodSk7cmV0dXJuIGYuZm9yRWFjaChmdW5jdGlvbihlKXtpZighci5oYXMoZSkpe3ZhciB0PXtfaWQ6ZX0sbz11LmdldChlKTsidmFsdWUiaW4gbyYmKHQudmFsdWU9by52YWx1ZSksbi5wdXNoKHQpfX0pLGUua2V5cz13cihmLmNvbmNhdChlLmtleXMpKSxuLnB1c2goZSksbn12YXIgaT0iX2xvY2FsL2RvY18iK2Uscz17X2lkOmksa2V5czpbXX0sYT1uLmdldChlKSx1PWFbMF0sYz1hWzFdO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBDcihjKT92by5yZXNvbHZlKHMpOnQuZGIuZ2V0KGkpLmNhdGNoKG0ocykpfSgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbyhlLHQpfSl9KX1mdW5jdGlvbiB3KGUsdCxuKXtyZXR1cm4gZS5kYi5nZXQoIl9sb2NhbC9sYXN0U2VxIikuY2F0Y2gobSh7X2lkOiJfbG9jYWwvbGFzdFNlcSIsc2VxOjB9KSkudGhlbihmdW5jdGlvbihyKXt2YXIgbz1Fcih0KTtyZXR1cm4gdm8uYWxsKG8ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBiKG4sZSx0KX0pKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPUQodCk7cmV0dXJuIHIuc2VxPW4sby5wdXNoKHIpLGUuZGIuYnVsa0RvY3Moe2RvY3M6b30pfSl9KX1mdW5jdGlvbiBFKGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2YgZT9lOmUubmFtZSxuPXppW3RdO3JldHVybiBufHwobj16aVt0XT1uZXcgQXIpLG59ZnVuY3Rpb24gUyhlKXtyZXR1cm4gYnIoRShlKSxmdW5jdGlvbigpe3JldHVybiBrKGUpfSkoKX1mdW5jdGlvbiBrKGUpe2Z1bmN0aW9uIG4oZSx0KXt2YXIgbj17aWQ6bC5faWQsa2V5OnplKGUpfTt2b2lkIDAhPT10JiZudWxsIT09dCYmKG4udmFsdWU9emUodCkpLGYucHVzaChuKX1mdW5jdGlvbiByKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHcoZSx0LG4pfX1mdW5jdGlvbiBpKCl7cmV0dXJuIGUuc291cmNlREIuY2hhbmdlcyh7Y29uZmxpY3RzOiEwLGluY2x1ZGVfZG9jczohMCxzdHlsZToiYWxsX2RvY3MiLHNpbmNlOmgsbGltaXQ6WGl9KS50aGVuKGEpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5yZXN1bHRzO2lmKHQubGVuZ3RoKXt2YXIgbj11KHQpO2lmKHAuYWRkKHIobixoKSksISh0Lmxlbmd0aDxYaSkpcmV0dXJuIGkoKX19ZnVuY3Rpb24gdSh0KXtmb3IodmFyIG49bmV3IG1vLHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspe3ZhciBhPXRbcl07aWYoIl8iIT09YS5kb2MuX2lkWzBdKXtmPVtdLGw9YS5kb2MsbC5fZGVsZXRlZHx8byhlLnNvdXJjZURCLGQsbCksZi5zb3J0KHMpO3ZhciB1PWMoZik7bi5zZXQoYS5kb2MuX2lkLFt1LGEuY2hhbmdlc10pfWg9YS5zZXF9cmV0dXJuIG59ZnVuY3Rpb24gYyhlKXtmb3IodmFyIHQsbj1uZXcgbW8scj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXSxzPVtpLmtleSxpLmlkXTtyPjAmJjA9PT1XZShpLmtleSx0KSYmcy5wdXNoKHIpLG4uc2V0KFhlKHMpLGkpLHQ9aS5rZXl9cmV0dXJuIG59dmFyIGYsbCxkPXQoZS5tYXBGdW4sbiksaD1lLnNlcXx8MCxwPW5ldyBBcjtyZXR1cm4gaSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcC5maW5pc2goKX0pLnRoZW4oZnVuY3Rpb24oKXtlLnNlcT1ofSl9ZnVuY3Rpb24gcShlLHQscil7MD09PXIuZ3JvdXBfbGV2ZWwmJmRlbGV0ZSByLmdyb3VwX2xldmVsO3ZhciBvPXIuZ3JvdXB8fHIuZ3JvdXBfbGV2ZWwscz1uKGUucmVkdWNlRnVuKSx1PVtdLGM9aXNOYU4oci5ncm91cF9sZXZlbCk/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOnIuZ3JvdXBfbGV2ZWw7dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXVbdS5sZW5ndGgtMV0sbj1vP2Uua2V5Om51bGw7aWYobyYmQXJyYXkuaXNBcnJheShuKSYmKG49bi5zbGljZSgwLGMpKSx0JiYwPT09V2UodC5ncm91cEtleSxuKSlyZXR1cm4gdC5rZXlzLnB1c2goW2Uua2V5LGUuaWRdKSx2b2lkIHQudmFsdWVzLnB1c2goZS52YWx1ZSk7dS5wdXNoKHtrZXlzOltbZS5rZXksZS5pZF1dLHZhbHVlczpbZS52YWx1ZV0sZ3JvdXBLZXk6bn0pfSksdD1bXTtmb3IodmFyIGY9MCxsPXUubGVuZ3RoO2Y8bDtmKyspe3ZhciBkPXVbZl0saD1pKGUuc291cmNlREIscyxkLmtleXMsZC52YWx1ZXMsITEpO2lmKGguZXJyb3ImJmguZXJyb3IgaW5zdGFuY2VvZiBncil0aHJvdyBoLmVycm9yO3QucHVzaCh7dmFsdWU6aC5lcnJvcj9udWxsOmgub3V0cHV0LGtleTpkLmdyb3VwS2V5fSl9cmV0dXJue3Jvd3M6YSh0LHIubGltaXQsci5za2lwKX19ZnVuY3Rpb24gQShlLHQpe3JldHVybiBicihFKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIHgoZSx0KX0pKCl9ZnVuY3Rpb24geChlLHQpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQuaW5jbHVkZV9kb2NzPSEwLGUuZGIuYWxsRG9jcyh0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvPWUudG90YWxfcm93cyxlLnJvd3MubWFwKGZ1bmN0aW9uKGUpe2lmKCJ2YWx1ZSJpbiBlLmRvYyYmIm9iamVjdCI9PXR5cGVvZiBlLmRvYy52YWx1ZSYmbnVsbCE9PWUuZG9jLnZhbHVlKXt2YXIgdD1PYmplY3Qua2V5cyhlLmRvYy52YWx1ZSkuc29ydCgpLG49WyJpZCIsImtleSIsInZhbHVlIl07aWYoISh0PG58fHQ+bikpcmV0dXJuIGUuZG9jLnZhbHVlfXZhciByPVFlKGUuZG9jLl9pZCk7cmV0dXJue2tleTpyWzBdLGlkOnJbMV0sdmFsdWU6InZhbHVlImluIGUuZG9jP2UuZG9jLnZhbHVlOm51bGx9fSl9KX1mdW5jdGlvbiByKG4pe3ZhciByO2lmKHI9aT9xKGUsbix0KTp7dG90YWxfcm93czpvLG9mZnNldDpzLHJvd3M6bn0sdC5pbmNsdWRlX2RvY3Mpe3ZhciBhPXdyKG4ubWFwKHUpKTtyZXR1cm4gZS5zb3VyY2VEQi5hbGxEb2NzKHtrZXlzOmEsaW5jbHVkZV9kb2NzOiEwLGNvbmZsaWN0czp0LmNvbmZsaWN0cyxhdHRhY2htZW50czp0LmF0dGFjaG1lbnRzLGJpbmFyeTp0LmJpbmFyeX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG1vO3JldHVybiBlLnJvd3MuZm9yRWFjaChmdW5jdGlvbihlKXt0LnNldChlLmlkLGUuZG9jKX0pLG4uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj11KGUpLHI9dC5nZXQobik7ciYmKGUuZG9jPXIpfSkscn0pfXJldHVybiByfXZhciBvLGk9ZS5yZWR1Y2VGdW4mJnQucmVkdWNlIT09ITEscz10LnNraXB8fDA7aWYodm9pZCAwPT09dC5rZXlzfHx0LmtleXMubGVuZ3RofHwodC5saW1pdD0wLGRlbGV0ZSB0LmtleXMpLHZvaWQgMCE9PXQua2V5cyl7dmFyIGE9dC5rZXlzLGM9YS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG4oe3N0YXJ0a2V5OlhlKFtlXSksZW5ka2V5OlhlKFtlLHt9XSl9KX0pO3JldHVybiB2by5hbGwoYykudGhlbihEKS50aGVuKHIpfXZhciBmLGwsZD17ZGVzY2VuZGluZzp0LmRlc2NlbmRpbmd9O2lmKCJzdGFydF9rZXkiaW4gdCYmKGY9dC5zdGFydF9rZXkpLCJzdGFydGtleSJpbiB0JiYoZj10LnN0YXJ0a2V5KSwiZW5kX2tleSJpbiB0JiYobD10LmVuZF9rZXkpLCJlbmRrZXkiaW4gdCYmKGw9dC5lbmRrZXkpLHZvaWQgMCE9PWYmJihkLnN0YXJ0a2V5PVhlKHQuZGVzY2VuZGluZz9bZix7fV06W2ZdKSksdm9pZCAwIT09bCl7dmFyIGg9dC5pbmNsdXNpdmVfZW5kIT09ITE7dC5kZXNjZW5kaW5nJiYoaD0haCksZC5lbmRrZXk9WGUoaD9bbCx7fV06W2xdKX1pZih2b2lkIDAhPT10LmtleSl7dmFyIHA9WGUoW3Qua2V5XSksdj1YZShbdC5rZXkse31dKTtkLmRlc2NlbmRpbmc/KGQuZW5ka2V5PXAsZC5zdGFydGtleT12KTooZC5zdGFydGtleT1wLGQuZW5ka2V5PXYpfXJldHVybiBpfHwoIm51bWJlciI9PXR5cGVvZiB0LmxpbWl0JiYoZC5saW1pdD10LmxpbWl0KSxkLnNraXA9cyksbihkKS50aGVuKHIpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIGUucmVxdWVzdCh7bWV0aG9kOiJQT1NUIix1cmw6Il92aWV3X2NsZWFudXAifSl9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gdC5nZXQoIl9sb2NhbC8iK2UpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIG49bmV3IG1vO09iamVjdC5rZXlzKGUudmlld3MpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9anIoZSkscj0iX2Rlc2lnbi8iK3RbMF0sbz10WzFdLGk9bi5nZXQocik7aXx8KGk9bmV3IF9vLG4uc2V0KHIsaSkpLGkuYWRkKG8pfSk7dmFyIHI9e2tleXM6RXIobiksaW5jbHVkZV9kb2NzOiEwfTtyZXR1cm4gdC5hbGxEb2NzKHIpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG89e307ci5yb3dzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9dC5rZXkuc3Vic3RyaW5nKDgpO24uZ2V0KHQua2V5KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBpPXIrIi8iK247ZS52aWV3c1tpXXx8KGk9bik7dmFyIHM9T2JqZWN0LmtleXMoZS52aWV3c1tpXSksYT10LmRvYyYmdC5kb2Mudmlld3MmJnQuZG9jLnZpZXdzW25dO3MuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPW9bZV18fGF9KX0pfSk7dmFyIGk9T2JqZWN0LmtleXMobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFvW2VdfSkscz1pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYnIoRShlKSxmdW5jdGlvbigpe3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihlLHQuX19vcHRzKS5kZXN0cm95KCl9KSgpfSk7cmV0dXJuIHZvLmFsbChzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJue29rOiEwfX0pfSl9LG0oe29rOiEwfSkpfWZ1bmN0aW9uIGoodCxuLG8pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Ll9xdWVyeSlyZXR1cm4geSh0LG4sbyk7aWYoQih0KSlyZXR1cm4gZyh0LG4sbyk7aWYoInN0cmluZyIhPXR5cGVvZiBuKXJldHVybiB2KG8sbiksS2kuYWRkKGZ1bmN0aW9uKCl7cmV0dXJuIFRyKHQsInRlbXBfdmlldy90ZW1wX3ZpZXciLG4ubWFwLG4ucmVkdWNlLCEwLGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG1yKFMoZSkudGhlbihmdW5jdGlvbigpe3JldHVybiBBKGUsbyl9KSxmdW5jdGlvbigpe3JldHVybiBlLmRiLmRlc3Ryb3koKX0pfSl9KSxLaS5maW5pc2goKTt2YXIgaT1uLHM9anIoaSksYT1zWzBdLHU9c1sxXTtyZXR1cm4gdC5nZXQoIl9kZXNpZ24vIithKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBzPW4udmlld3MmJm4udmlld3NbdV07aWYoIXMpdGhyb3cgbmV3IHZyKCJkZG9jICIrbi5faWQrIiBoYXMgbm8gdmlldyBuYW1lZCAiK3UpO3JldHVybiByKG4sdSksdihvLHMpLFRyKHQsaSxzLm1hcCxzLnJlZHVjZSwhMSxlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiJvayI9PT1vLnN0YWxlfHwidXBkYXRlX2FmdGVyIj09PW8uc3RhbGU/KCJ1cGRhdGVfYWZ0ZXIiPT09by5zdGFsZSYmZm8oZnVuY3Rpb24oKXtTKGUpfSksQShlLG8pKTpTKGUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gQShlLG8pfSl9KX0pfWZ1bmN0aW9uIEMoZSx0LG4pe3ZhciByPXRoaXM7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSksdD10P2godCk6e30sImZ1bmN0aW9uIj09dHlwZW9mIGUmJihlPXttYXA6ZX0pO3ZhciBvPXZvLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGoocixlLHQpfSk7cmV0dXJuIHlyKG8sbiksb31yZXR1cm57cXVlcnk6Qyx2aWV3Q2xlYW51cDpfcihmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUuX3ZpZXdDbGVhbnVwP18oZSk6QihlKT9PKGUpOlQoZSl9KX19KCJtcnZpZXdzIixJcixEcixSciksUWk9e3F1ZXJ5Ok5yLHZpZXdDbGVhbnVwOkJyfSxZaT0xLFppPSJwb3VjaGRiIixlcz01LHRzPTA7V3IucHJvdG90eXBlLndyaXRlQ2hlY2twb2ludD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMudXBkYXRlVGFyZ2V0KGUsdCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuLnVwZGF0ZVNvdXJjZShlLHQpfSl9LFdyLnByb3RvdHlwZS51cGRhdGVUYXJnZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSHIodGhpcy50YXJnZXQsdGhpcy5pZCxlLHQsdGhpcy5yZXR1cm5WYWx1ZSl9LFdyLnByb3RvdHlwZS51cGRhdGVTb3VyY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLnJlYWRPbmx5U291cmNlP3ZvLnJlc29sdmUoITApOkhyKHRoaXMuc3JjLHRoaXMuaWQsZSx0LHRoaXMucmV0dXJuVmFsdWUpLmNhdGNoKGZ1bmN0aW9uKGUpe2lmKEdyKGUpKXJldHVybiBuLnJlYWRPbmx5U291cmNlPSEwLCEwO3Rocm93IGV9KX07dmFyIG5zPXt1bmRlZmluZWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PVdlKGUubGFzdF9zZXEsdC5sYXN0X3NlcSk/dC5sYXN0X3NlcTowfSwxOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHpyKHQsZSkubGFzdF9zZXF9fTtXci5wcm90b3R5cGUuZ2V0Q2hlY2twb2ludD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGUudGFyZ2V0LmdldChlLmlkKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLnJlYWRPbmx5U291cmNlP3ZvLnJlc29sdmUodC5sYXN0X3NlcSk6ZS5zcmMuZ2V0KGUuaWQpLnRoZW4oZnVuY3Rpb24oZSl7aWYodC52ZXJzaW9uIT09ZS52ZXJzaW9uKXJldHVybiB0czt2YXIgbjtyZXR1cm4gbj10LnZlcnNpb24/dC52ZXJzaW9uLnRvU3RyaW5nKCk6InVuZGVmaW5lZCIsbiBpbiBucz9uc1tuXSh0LGUpOnRzfSxmdW5jdGlvbihuKXtpZig0MDQ9PT1uLnN0YXR1cyYmdC5sYXN0X3NlcSlyZXR1cm4gZS5zcmMucHV0KHtfaWQ6ZS5pZCxsYXN0X3NlcTp0c30pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdHN9LGZ1bmN0aW9uKG4pe3JldHVybiBHcihuKT8oZS5yZWFkT25seVNvdXJjZT0hMCx0Lmxhc3Rfc2VxKTp0c30pO3Rocm93IG59KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2lmKDQwNCE9PWUuc3RhdHVzKXRocm93IGU7cmV0dXJuIHRzfSl9O3ZhciBycz0wO2NvKGVvLHVvLkV2ZW50RW1pdHRlciksZW8ucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsbGVkPSEwLHRoaXMuc3RhdGU9ImNhbmNlbGxlZCIsdGhpcy5lbWl0KCJjYW5jZWwiKX0sZW8ucHJvdG90eXBlLnJlYWR5PWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe28uY2FuY2VsKCl9ZnVuY3Rpb24gcigpe2UucmVtb3ZlTGlzdGVuZXIoImRlc3Ryb3llZCIsbiksdC5yZW1vdmVMaXN0ZW5lcigiZGVzdHJveWVkIixuKX12YXIgbz10aGlzO28uX3JlYWR5Q2FsbGVkfHwoby5fcmVhZHlDYWxsZWQ9ITAsZS5vbmNlKCJkZXN0cm95ZWQiLG4pLHQub25jZSgiZGVzdHJveWVkIixuKSxvLm9uY2UoImNvbXBsZXRlIixyKSl9LGNvKG9vLHVvLkV2ZW50RW1pdHRlciksb28ucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsZWR8fCh0aGlzLmNhbmNlbGVkPSEwLHRoaXMucHVzaC5jYW5jZWwoKSx0aGlzLnB1bGwuY2FuY2VsKCkpfSxUZS5wbHVnaW4oX2kpLnBsdWdpbihOaSkucGx1Z2luKFVpKS5wbHVnaW4oUWkpLnBsdWdpbihpbyksdC5leHBvcnRzPVRlfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7MToxLDEwOjEwLDExOjExLDI6Miw0OjQsNTo1LDY6Niw3Ojd9XX0se30sWzEyXSkoMTIpfSk7Cg==", "content_type": "application/javascript"}}, "_id": "_design/src", "shows": {"email_login": "function (doc, req) {\n \n\t\t\n\tvar templates = {\"email_text\": \"To: {{email}}\\nSubject: Prihlaseni na stranky autocoin.cz\\nFrom: info@autocoin.cz\\nContent-Type: text/html;charset=utf-8\\n\\n<!DOCTYPE html>\\n<html>\\n<head>\\n  <meta charset=\\\"UTF-8\\\">\\n</head>\\n<body>\\n<strong>V\\u00e1\\u017een\\u00fd u\\u017eivateli.</strong>\\n\\n<p>Tento e-mail v\\u00e1m byl zasl\\u00e1n, proto\\u017ee n\\u011bkdo, mo\\u017en\\u00e1 Vy s\\u00e1m, po\\u017eadoval registraci\\nnebo p\\u0159ihl\\u00e1\\u0161en\\u00ed na str\\u00e1nce <strong>www.autocoin.cz</strong></p>\\n\\n<p>Pokud si p\\u0159ejete pokra\\u010dovat v registraci nebo v p\\u0159ihl\\u00e1\\u0161en\\u00ed, klikn\\u011bte na n\\u00ed\\u017ee uveden\\u00fd odkaz</p>\\n\\n<a href=\\\"http://www.autocoin.cz/#page=login&email={{email_url}}&profile={{profile}}\\\">http://www.autocoin.cz/#page=login&email={{email}}&profile={{profile}}</a>\\n\\n\\n<p>V p\\u0159\\u00edpad\\u011b, \\u017ee si nejste v\\u011bdom \\u017e\\u00e1dn\\u00e9 takov\\u00e9 \\u010dinnost, pak se omlouv\\u00e1me,\\nzrejm\\u011b n\\u011bkdo jin\\u00fd omylem na str\\u00e1nk\\u00e1ch zadal v\\u00e1\\u0161 e-mail. E-mail pros\\u00edm sma\\u017ete.</p>\\n\\n</html>\\n</body>\"};\n\t\n\tvar getProfileID = require('views/lib/profileid').getProfileID;\n\tvar Mustache = require('views/lib/mustache');\n\n\t\n\n\tvar view = {\n\t\t\t  email_url: encodeURIComponent(doc.email),\n\t\t\t  email:  doc.email,\n\t\t\t  profile: getProfileID(doc.email),\t\t\t \n\t\t\t};\n\n//\tvar output=\"xxx\";\n\tvar output = Mustache.render(templates.email_text, view);\n\t\n\treturn {\"headers\":{\"Content-Type\":\"text/plain;charset=utf-8\"},\"body\":output};\n\t\n\t\n}"}}